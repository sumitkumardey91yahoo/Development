webpackJsonp([7],{1079:function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"paytm-campaign-container",staticStyle:{"background-image":"url('')"}},[a("div",{staticClass:"paytm-campaign-header",staticStyle:{"margin-bottom":"0px","margin-top":"12px"}},[e.partnerDetails&&e.partnerDetails.promoBanner?a("img",{attrs:{src:e.partnerDetails.promoBanner,alt:"campaign-header"}}):e._e()]),e._v(" "),e.isActiveFbDel?a("clear-device"):e._e(),e._v(" "),a("div",{staticClass:"paytm-campaign-body"},[e.partnerDetails&&e.partnerDetails.offerText?a("p",{staticClass:"paytm-header",staticStyle:{"font-size":"15px"}},[e._v(e._s(e.partnerDetails.offerText))]):e._e(),e._v(" "),a("form",{attrs:{autocomplete:"off"}},[a("div",{staticClass:"form-group"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.email,expression:"email"}],staticClass:"form-control paytm-campaign-input",staticStyle:{"font-size":"15px",height:"32px"},attrs:{type:"email",name:"email",id:"email_text",placeholder:""},domProps:{value:e.email},on:{input:function(t){t.target.composing||(e.email=t.target.value)}}}),e._v(" "),e.emailError?a("p",[e._v(e._s(e.emailError))]):e._e()]),e._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:e.altConfigPromo.submitButtonText,expression:"altConfigPromo.submitButtonText"}],staticClass:"grad-btn submit-btn btn",staticStyle:{"margin-top":"20px"},attrs:{type:"submit",id:"textEmail"},domProps:{value:e.altConfigPromo.submitButtonText},on:{click:function(t){return t.preventDefault(),e.paytmGetEmail(t)},input:function(t){t.target.composing||e.$set(e.altConfigPromo,"submitButtonText",t.target.value)}}})]),e._v(" "),a("a",{attrs:{href:"",id:"paytmLinkId"}})]),e._v(" "),a("div",{staticClass:"paytm-campaign-footer",staticStyle:{position:"absolute"},attrs:{id:"paytm-footer"}},[e.fbLoginComponent?a(e.fbLoginComponent,{tag:"component",attrs:{isCampaignPage:!0}}):e._e(),e._v(" "),a("div",{staticStyle:{"margin-bottom":"12px","margin-top":"61px"}},[a("p",{staticClass:"text-center"},[e._v("By signing in, you agree to the "),a("router-link",{staticClass:"link-under",attrs:{to:{name:"toc"}}},[e._v("Terms of Use")]),e._v(" & "),a("router-link",{staticClass:"link-under",attrs:{to:{name:"privacyPolicy"}}},[e._v("Privacy Policy")]),e._v(".")],1)])],1)],1)},staticRenderFns:[]}},1094:function(e,t,a){var i=a(705);"string"==typeof i&&(i=[[e.i,i,""]]),i.locals&&(e.exports=i.locals);a(81)("43d1ef9b",i,!0,{})},20:function(e,t,a){function i(e){a(1094)}var n=a(77)(a(546),a(1079),i,"data-v-f20570a6",null);e.exports=n.exports},546:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=a(1),n=a(5),r=a(4),o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var i in a)Object.prototype.hasOwnProperty.call(a,i)&&(e[i]=a[i])}return e};!function(e,t,a,i,n){e[i]=e[i]||[],e[i].push({"gtm.start":(new Date).getTime(),event:"gtm.js"});var r=t.getElementsByTagName(a)[0],o=t.createElement(a);o.async=!0,o.src="https://www.googletagmanager.com/gtm.js?id=GTM-5T7BPPJ",r.parentNode.insertBefore(o,r)}(window,document,"script","dataLayer"),console.log("two");var s=function(){return a.e(55).then(a.bind(null,185))};t.default={data:function(){return{email:void 0,emailError:!1,altUser:void 0,altConfigPromo:void 0,partnerDetails:void 0,campaignBanner:void 0,fbLoginComponent:void 0,isActiveFbDel:void 0}},computed:o({},a.i(r.a)(["userEmailCampaign","appActive"])),watch:{appActive:function(){console.log("app active"),this.pageViewEvent()}},components:{"clear-device":s},methods:o({},a.i(r.b)(["setUserEmailCampaign"]),a.i(r.c)(["actPaytmSignup","actPaytmLogin","actPaytmGetDeviceList","actPaytmDeleteDevice","actPaytmRegisterDevice","actPaytmHasCodeFeatures","actGetAccountDetails","actCreateOrder","actProductDetails","actSendEmailWithToken"]),{paytmGetEmail:function(){var e=void 0;e=this.email,this.loginFormValid(e)&&(this.toggleLoader(!0),this.paytmSignup(e),this.setUserEmailCampaign(e),console.log(this.userEmailCampaign))},goToSign:function(){this.toggleDeleteIco(!1),this.toggleMenuIco(!0),this.clearUserData(),localStorage.setItem("campaign-redirect",!0),this.$router.push({name:"login"})},signupAnalytics:function(e){if(window.mobileAnalyticsClient){var t=this.getAWSMACommonAttributes();t.user_id=e&&e.id?e.id:null,t.user_email=e&&e.login?e.login:null,t.event_mode="syndication-email",t.partner_id=this.$route&&this.$route.query&&this.$route.query.partner?this.$route.query.partner:null,window.mobileAnalyticsClient.recordEvent("_user.signup",t,{})}var a=void 0;localStorage.getItem("altGeoData")&&(a=JSON.parse(localStorage.getItem("altGeoData")));var i=this.altDetectPlatform();window.dataLayer=window.dataLayer||[],window.dataLayer.push({event:"gt_complete_registration",eventAction:"registration",eventCategory:"gt_complete_registration",eventLabel:"registration",eventValue:1,gtl_platform:i&&i.os&&i.osVersion?i.os+" "+i.osVersion:" ",gtl_device_make:i&&i.device_model?i.device_model:" ",gtl_country:a&&a.country&&a.country.names&&a.country.names.en?a.country.names.en:"",gtl_city:a.city&&a.city.names&&a.city.names.en?a.city.names.en:"",gtl_device_timestamp:(new Date).getTime(),gtl_user_id:e&&e.id?e.id:null})},paytmSignup:function(e){var t=this,a={login:e};localStorage.setItem("partner_id",this.partnerDetails.name);var i=this.getTimestamp(),n=void 0;localStorage.getItem("homeDomain")&&(n=localStorage.getItem("homeDomain"));var r=this.getSignedHeaders(a,i,n),o={headerData:r,timestamp:i,data:a};this.actPaytmSignup(o).then(function(a){a&&"ok"==a.status&&(t.sendResetEmailPassword(e),localStorage.removeItem("altOrder"),t.signupAnalytics(a),t.paytmLogin(e))},function(a){if(t.toggleDeleteIco(!1),t.toggleMenuIco(!0),a&&409==a.code){var i=void 0,n=void 0;t.toggleLoader(!1);var i=!!localStorage.getItem("altUser")&&JSON.parse(localStorage.getItem("altUser"));i?(n=localStorage.getItem("altOrder")?JSON.parse(localStorage.getItem("altOrder")):void 0,i.email==e?n&&n.subscription&&n.subscription.hasOrder&&0==n.subscription.expired?t.$router.push({name:"home"}):t.$router.push({name:"paymentPage"}):(t.clearUserData(),localStorage.setItem("campaign-redirect",!0),t.$router.push({name:"login"}))):(localStorage.setItem("campaign-redirect",!0),t.$router.push({name:"login"}))}})},sendResetEmailPassword:function(e){var t={login:e,token_type:"password",uri:"https://altbalaji.com/activate/"};this.actSendEmailWithToken(t).then(function(e){e.status&&e.status},function(e){e&&e.message&&console.log("[paytmCampaignWoohoo | resetPassword | error ]",e)})},paytmLogin:function(e){var t=this,a={username:e},i=this.getTimestamp(),n=void 0;localStorage.getItem("homeDomain")&&(n=localStorage.getItem("homeDomain"));var r=this.getSignedHeaders(a,i,n),o={headerData:r,timestamp:i,data:a};this.actPaytmLogin(o).then(function(e){t.paytmSaveLocal(e)},function(e){})},loginEventTriger:function(){if(mobileAnalyticsClient){var e=this.getAWSMACommonAttributes();e.event_mode="syndication-email",e.partner_id=this.$route&&this.$route.query&&this.$route.query.partner?this.$route.query.partner:null,e.user_state=localStorage.getItem("user_state")?localStorage.getItem("user_state"):null,e.user_mobile=localStorage.getItem("user_mobile")?localStorage.getItem("user_mobile"):null,window.mobileAnalyticsClient.recordEvent("_user.login",e,{})}var t=void 0;try{t=this.altDetectPlatform()}catch(e){}var a=void 0;localStorage.getItem("altGeoData")&&(a=JSON.parse(localStorage.getItem("altGeoData"))),window.dataLayer=window.dataLayer||[],window.dataLayer.push({event:"gt_login",eventAction:"login",eventCategory:"gt_login",eventLabel:"login",eventValue:1,gtl_platform:navigator.platform,gtl_device_make:t&&t.device_model?t.device_model:" ",gtl_country:a.country&&a.country.iso_code?a.country.iso_code:"",gtl_city:a.city&&a.city.names&&a.city.names.en?a.city.names.en:"",gtl_device_timestamp:(new Date).getTime(),gtl_user_id:localStorage.getItem("account_id")?localStorage.getItem("account_id"):""})},paytmSaveLocal:function(e){var t=e.account,a=e.account.profile,i={sessionToken:e.session_token?e.session_token:"",dateCreated:t.date_created?t.date_created:"",email:t.email?t.email:"",accountId:t.id?t.id:"",isAdmin:t.is_admin?t.is_admin:"",login:t.login?t.login:"",username:a.username?a.username:"",profileId:a.id?a.id:""};this.altUser=i,localStorage.setItem("token",e.session_token),localStorage.setItem("user_email",e.account.email),localStorage.setItem("account_id",e.account.id),localStorage.setItem("altUser",JSON.stringify(i));var n=void 0,r=this.getTimestamp();localStorage.getItem("altDeviceId")&&(n=localStorage.getItem("altDeviceId")),n||(n=this.generateRandomId(32),localStorage.setItem("altDeviceId",n)),this.registerDevice({user:i,deviceId:n,date:r}),this.registerProfile(i),this.loginEventTriger()},registerProfile:function(e){var t=this;this.actGetAccountDetails(e).then(function(e){var a=void 0;a={dateCreated:t.formatIsoDate(e.date_created),details:e.details,emailVerified:e.email_verified,marketingConcent:e.marketing_consent,phoneNumber:e.phone_number,profile:e.profile,name:e.name,surname:e.surname},localStorage.setItem("user_mobile",e.phone_number?e.phone_number:"N.A"),localStorage.setItem("user_state",e.details&&e.details.state?e.details.state:"N.A"),localStorage.setItem("user_name",e.name+" "+e.surname),localStorage.setItem("user_birthday",e.details.birthday?e.details.birthday:""),localStorage.setItem("user_gender",e.details.gender?e.details.gender:""),localStorage.setItem("altAccount",JSON.stringify(a))},function(e){})},saveDevice:function(e){var t={uuid:e.uuid,appVersion:e.app_version,deviceId:e.id,ipAddress:e.ip_address,name:e.name,type:e.type,userAgent:e.user_agent};localStorage.setItem("altDevice",JSON.stringify(t)),this.$router.push({name:"paymentPage"})},clearRegisterDevice:function(e){var t=this,a=void 0;for(a in e){var i={user:this.altUser,deviceId:e[a].id};this.actPaytmDeleteDevice(i).then(function(e){var a=void 0,i=t.getTimestamp();localStorage.getItem("altDeviceId")&&(a=localStorage.getItem("altDeviceId")),a||(a=t.generateRandomId(32),localStorage.setItem("altDeviceId",a)),t.registerDevice({user:t.altUser,deviceId:a,date:i})},function(e){});break}},getRegisterDevice:function(){var e=this;this.actPaytmGetDeviceList(this.altUser).then(function(t){e.clearRegisterDevice(t.devices)},function(e){})},registrationDevice:function(e){var t=this;this.actPaytmRegisterDevice(e).then(function(e){e&&t.saveDevice(e)},function(e){e&&400==e.code&&t.getRegisterDevice(),e&&409==e.code&&t.getRegisterDevice()})},registerDevice:function(e){var t=this;this.actPaytmGetDeviceList(e.user).then(function(a){if(a.count){var i=a.devices,n=localStorage.getItem("altDeviceId")?localStorage.getItem("altDeviceId"):"",r=i.filter(function(e){return e.uuid==n});if(r&&r.length){var o=r[0];t.saveDevice(o)}else n=t.generateRandomId(32),localStorage.setItem("altDeviceId",n),e.deviceId=n,t.registrationDevice(e)}else n=t.generateRandomId(32),localStorage.setItem("altDeviceId",n),e.deviceId=n,t.registrationDevice(e)},function(e){})},setSubscriptionHeader:function(){this.setHeaderTitle(""),this.toggleSearchIco(!1),this.toggleCloseIco(!1),this.toggleDeleteIco(!1),this.toggleMenuIco(!1)},loginFormValid:function(){return!!this.validateEmail()},validateEmail:function(){return this.email?/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(this.email)?(this.emailError=!1,!0):(this.emailError="Email not valid",!1):(this.emailError="Enter your email here",!1)},pageViewEvent:function(){if(window.mobileAnalyticsClient){var e=this.getAWSMACommonAttributes();e.page_title="campaign",e.page_url=window.location.href,e.partner_id=this.$route&&this.$route.query&&this.$route.query.partner?this.$route.query.partner:null,console.log("[pageViewEvent > pageSelectAttributes]",e),window.mobileAnalyticsClient.recordEvent("_page.view",e,{})}window.dataLayer=window.dataLayer||[],window.dataLayer.push({event:"gt_page_view",eventAction:"page view",eventCategory:"gt_page_view",eventLabel:"page view",eventValue:1,gtl_page_title:"campaign",gtl_content_parent_title:"",gtl_episode_title:""})},gatewayFilter:function(e){return e.filter(function(e){return"true"==e.enabled})},partnerDetailsFromConfig:function(){var e=void 0,t=void 0;if(localStorage.getItem("CallCounter")&&localStorage.setItem("CallCounter",2),(e=localStorage.getItem("altConfig")?JSON.parse(localStorage.getItem("altConfig")):void 0)&&e.campaign&&e.campaign.partners&&e.campaign.messages)if(this.fbLoginComponent=function(){return a.e(53).then(a.bind(null,186))},this.altConfigPromo=e.campaign.messages,document.getElementById("email_text")&&(document.getElementById("email_text").placeholder=this.altConfigPromo.emailBoxText?this.altConfigPromo.emailBoxText:""),t=e.campaign.partners,this.partnerDetails=this.gatewayFilter(t),this.partnerDetails&&0==this.partnerDetails.length)this.toggleMenuIco(!0),this.toggleLoader(!1),this.$router.push({name:"home"});else{var i=!1;for(var n in this.partnerDetails)if(this.partnerDetails[n].name==this.$route.query.partner){i=!0,this.partnerDetails=this.partnerDetails[n],localStorage.setItem("partner_id",this.partnerDetails.name),localStorage.setItem("selectedGateway",JSON.stringify(this.partnerDetails)),this.toggleLoader(!1);break}i||(this.toggleMenuIco(!0),this.$router.push({name:"home"}))}else{var r=this;2==localStorage.getItem("CallCounter")?(this.toggleMenuIco(!0),this.$router.push({name:"home"})):setTimeout(function(){r.partnerDetailsFromConfig(),localStorage.setItem("CallCounter",1)},5e3)}}}),created:function(){var e=this;this.toggleLoader(!0),this.setSubscriptionHeader(),this.partnerDetailsFromConfig(),i.eventBus.$on("closeClearDevicesEvent",function(){e.isActiveFbDel=!1}),i.eventBus.$on("showClearDevicesEvent",function(){e.isActiveFbDel=!0})},mounted:function(){console.log("test campaign"),this.projectCheckedRemove(),localStorage.setItem("isCampaign",!0),localStorage.setItem("campaign-redirect",!0),localStorage.removeItem("orderList"),document.getElementsByClassName("app-bar")[0].style.display="none",this.setSubscriptionHeader(),this.partnerDetailsFromConfig();window.addEventListener("orientationchange",function(){var e=document.getElementById("paytm-footer");e&&("landscape-primary"==window.screen.orientation.type?e.style.position="relative":e.style.position="absolute")},!1)},mixins:[n.a]}},705:function(e,t,a){t=e.exports=a(76)(),t.push([e.i,"",""])},77:function(e,t){e.exports=function(e,t,a,i,n){var r,o=e=e||{},s=typeof e.default;"object"!==s&&"function"!==s||(r=e,o=e.default);var l="function"==typeof o?o.options:o;t&&(l.render=t.render,l.staticRenderFns=t.staticRenderFns),i&&(l._scopeId=i);var c;if(n?(c=function(e){e=e||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext,e||"undefined"==typeof __VUE_SSR_CONTEXT__||(e=__VUE_SSR_CONTEXT__),a&&a.call(this,e),e&&e._registeredComponents&&e._registeredComponents.add(n)},l._ssrRegister=c):a&&(c=a),c){var m=l.functional,g=m?l.render:l.beforeCreate;m?l.render=function(e,t){return c.call(t),g(e,t)}:l.beforeCreate=g?[].concat(g,c):[c]}return{esModule:r,exports:o,options:l}}},81:function(e,t,a){function i(e){for(var t=0;t<e.length;t++){var a=e[t],i=m[a.id];if(i){i.refs++;for(var n=0;n<i.parts.length;n++)i.parts[n](a.parts[n]);for(;n<a.parts.length;n++)i.parts.push(r(a.parts[n]));i.parts.length>a.parts.length&&(i.parts.length=a.parts.length)}else{for(var o=[],n=0;n<a.parts.length;n++)o.push(r(a.parts[n]));m[a.id]={id:a.id,refs:1,parts:o}}}}function n(){var e=document.createElement("style");return e.type="text/css",g.appendChild(e),e}function r(e){var t,a,i=document.querySelector("style["+f+'~="'+e.id+'"]');if(i){if(p)return v;i.parentNode.removeChild(i)}if(y){var r=u++;i=d||(d=n()),t=o.bind(null,i,r,!1),a=o.bind(null,i,r,!0)}else i=n(),t=s.bind(null,i),a=function(){i.parentNode.removeChild(i)};return t(e),function(i){if(i){if(i.css===e.css&&i.media===e.media&&i.sourceMap===e.sourceMap)return;t(e=i)}else a()}}function o(e,t,a,i){var n=a?"":i.css;if(e.styleSheet)e.styleSheet.cssText=_(t,n);else{var r=document.createTextNode(n),o=e.childNodes;o[t]&&e.removeChild(o[t]),o.length?e.insertBefore(r,o[t]):e.appendChild(r)}}function s(e,t){var a=t.css,i=t.media,n=t.sourceMap;if(i&&e.setAttribute("media",i),h.ssrId&&e.setAttribute(f,t.id),n&&(a+="\n/*# sourceURL="+n.sources[0]+" */",a+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(n))))+" */"),e.styleSheet)e.styleSheet.cssText=a;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(a))}}var l="undefined"!=typeof document;if("undefined"!=typeof DEBUG&&DEBUG&&!l)throw new Error("vue-style-loader cannot be used in a non-browser environment. Use { target: 'node' } in your Webpack config to indicate a server-rendering environment.");var c=a(84),m={},g=l&&(document.head||document.getElementsByTagName("head")[0]),d=null,u=0,p=!1,v=function(){},h=null,f="data-vue-ssr-id",y="undefined"!=typeof navigator&&/msie [6-9]\b/.test(navigator.userAgent.toLowerCase());e.exports=function(e,t,a,n){p=a,h=n||{};var r=c(e,t);return i(r),function(t){for(var a=[],n=0;n<r.length;n++){var o=r[n],s=m[o.id];s.refs--,a.push(s)}t?(r=c(e,t),i(r)):r=[];for(var n=0;n<a.length;n++){var s=a[n];if(0===s.refs){for(var l=0;l<s.parts.length;l++)s.parts[l]();delete m[s.id]}}}};var _=function(){var e=[];return function(t,a){return e[t]=a,e.filter(Boolean).join("\n")}}()},84:function(e,t){e.exports=function(e,t){for(var a=[],i={},n=0;n<t.length;n++){var r=t[n],o=r[0],s=r[1],l=r[2],c=r[3],m={id:e+":"+n,css:s,media:l,sourceMap:c};i[o]?i[o].parts.push(m):a.push(i[o]={id:o,parts:[m]})}return a}}});