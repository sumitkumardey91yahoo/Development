webpackJsonp([101],{656:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=a(1),o=a(4),s=a(5),i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e};t.default={data:function(){return{statesObj:{SC:"Select State",AP:"Andhra Pradesh",AR:"Arunachal Pradesh",AS:"Assam",BR:"Bihar",CG:"Chhattisgarh",Chandigarh:"Chandigarh",DN:"Dadra and Nagar Haveli",DD:"Daman and Diu",DL:"Delhi",GA:"Goa",GJ:"Gujarat",HR:"Haryana",HP:"Himachal Pradesh",JK:"Jammu and Kashmir",JH:"Jharkhand",KA:"Karnataka",KL:"Kerala",MP:"Madhya Pradesh",MH:"Maharashtra",MN:"Manipur",ML:"Meghalaya",MZ:"Mizoram",NL:"Nagaland",OR:"Orissa",PB:"Punjab",PY:"Pondicherry",RJ:"Rajasthan",SK:"Sikkim",TN:"Tamil Nadu",TR:"Tripura",UP:"Uttar Pradesh",UK:"Uttarakhand",WB:"West Bengal"},selectedState:"Select State",ErrorStateMessage:void 0}},computed:i({},a.i(o.a)(["routerFromParam"])),methods:i({},a.i(o.c)(["actGetUpdateUser","actCheckWithAccount","actGetProfileSwitch"]),{updateState:function(){var e=this;if("Select State"!=this.selectedState){this.toggleLoader(!0),this.ErrorStateMessage=void 0;var t=void 0;t=localStorage.getItem("altAccount")?JSON.parse(localStorage.getItem("altAccount")):void 0,t&&t.details&&!t.details.state&&(t.details={state:this.selectedState},localStorage.setItem("altAccount",JSON.stringify(t))),this.actGetUpdateUser({details:{country:"India",state:this.selectedState}}).then(function(t){if(t.status&&"ok"==t.status){e.toggleLoader(!1);var a=void 0;a=localStorage.getItem("campaign-redirect")?localStorage.getItem("campaign-redirect"):void 0;var o=localStorage.getItem("promotional-redirect")?localStorage.getItem("promotional-redirect"):void 0;if(a||o){if(e.toggleLoader(!0),a)localStorage.removeItem("campaign-redirect"),i&&i.subscription&&i.subscription.hasOrder&&0==i.subscription.expired?window.location.replace(location.protocol+"//"+location.host):e.$router.push({name:"paymentPage"});else if(o){var s={name:"promotionalWoohooPage",query:{partner:e.$route.query.partner}};e.$router.push(s)}}else if(e.routerFromParam)if("kids"==e.routerFromParam.name){var i=void 0;localStorage.getItem("altOrder")&&(i=JSON.parse(localStorage.getItem("altOrder"))),i&&i.subscription&&i.subscription.hasOrder&&0==i.subscription.expired?e.checkUserAccount():e.$router.push({name:"subscribe"})}else"media"==e.routerFromParam.name||"show"==e.routerFromParam.name||"episode"==e.routerFromParam.name?e.$router.push(e.routerFromParam.fullPath):"rent"==e.routerFromParam.name?e.$router.push(e.routerFromParam.fullPath):e.$router.push({name:"home"});else e.$router.push({name:"home"});r.eventBus.$emit("togglePopupStateSelectEvent",!1)}},function(e){})}else document.getElementById("errorMessage")&&(document.getElementById("errorMessage").style.display="block"),this.ErrorStateMessage="Please select your state to comply with GST(Mandatory requirement for uninterrupted service)",setTimeout(function(){document.getElementById("errorMessage").style.display="none"},3e3)},checkUserAccount:function(){var e=this;this.actCheckWithAccount().then(function(t){if(t.count&&t.count>1){var a=t.profiles[1];t.account&&t.account.pin?(a.pin=t.account.pin,e.switchToKidsProfile(a)):(r.eventBus.$emit("togglePopupKidsCreatePin",!0),e.toggleLoader(!1))}else r.eventBus.$emit("togglePopupKidsCreatePin",!0),e.toggleLoader(!1)},function(e){})},switchToKidsProfile:function(e){var t=this;this.actGetProfileSwitch(e).then(function(e){var a=void 0;localStorage.getItem("altUser")&&(a=JSON.parse(localStorage.getItem("altUser"))),a&&(a.sessionToken=e.session_token,a.uuid=e.uuid,a.username=e.username,localStorage.setItem("altUser",JSON.stringify(a))),r.eventBus.$emit("toggleAppModeChangeEvent","kids"),t.$router.push({name:"home"})}).catch(function(e){})}}),mixins:[s.a]}},915:function(e,t,a){var r=a(77)(a(656),a(943),null,null,null);e.exports=r.exports},943:function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"ch-state-slct alt-popup-bg dark-bg",attrs:{id:"ch-state-slct"}},[a("div",{staticClass:"popup-box"},[a("div",{staticClass:"popup-bg state-popup"},[e._m(0),e._v(" "),a("div",{staticClass:"form-group"},[a("select",{directives:[{name:"model",rawName:"v-model",value:e.selectedState,expression:"selectedState"}],staticClass:"slct-control",on:{change:function(t){var a=Array.prototype.filter.call(t.target.options,function(e){return e.selected}).map(function(e){return"_value"in e?e._value:e.value});e.selectedState=t.target.multiple?a:a[0]}}},e._l(e.statesObj,function(t){return a("option",{domProps:{value:t}},[e._v(e._s(t))])}))]),e._v(" "),a("button",{staticClass:"btn grad-btn btn-lg",attrs:{type:"button"},on:{click:e.updateState}},[e._v("UPDATE")])]),e._v(" "),a("p",{directives:[{name:"show",rawName:"v-show",value:e.ErrorStateMessage,expression:"ErrorStateMessage"}],attrs:{id:"errorMessage"}},[e._v(e._s(e.ErrorStateMessage))])])])},staticRenderFns:[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"form-group"},[a("h4",[e._v("Please select your state to comply with GST(Mandatory requirement for uninterupted service)")])])}]}}});