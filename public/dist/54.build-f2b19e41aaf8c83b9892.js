webpackJsonp([54],{1016:function(t,e,i){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"create-pin-screen alt-popup-bg dark-bg",attrs:{id:"create-pin-screen"}},[n("div",{staticClass:"pin-screen-header"},[n("img",{staticClass:"kids-pin-close",attrs:{src:i(80),alt:"close"},on:{click:t.closeScreen}}),t._v(" "),n("div",{staticClass:"clearfix"})]),t._v(" "),n("div",{staticClass:"pin-screen-box"},[t.showFirstPin?n("div",[n("p",[t._v("This is your first time. Set PIN to access kids mode")]),t._v(" "),n("div",{staticClass:"pin-control-box"},[n("input",{directives:[{name:"model",rawName:"v-model",value:t.firstPin,expression:"firstPin"}],staticClass:"pin-control",attrs:{type:"tel",size:"4",maxlength:"4",placeholder:"...."},domProps:{value:t.firstPin},on:{keyup:t.validateFirstPin,input:function(e){e.target.composing||(t.firstPin=e.target.value)}}})])]):n("div",[n("p",[t._v("CONFIRM PIN")]),t._v(" "),n("div",{staticClass:"pin-control-box"},[n("input",{directives:[{name:"model",rawName:"v-model",value:t.confirmPin,expression:"confirmPin"}],staticClass:"pin-control",attrs:{type:"tel",size:"4",maxlength:"4",placeholder:"...."},domProps:{value:t.confirmPin},on:{keyup:t.validateConfimPin,input:function(e){e.target.composing||(t.confirmPin=e.target.value)}}})])]),t._v(" "),n("p",{directives:[{name:"show",rawName:"v-show",value:t.pinError,expression:"pinError"}],staticClass:"pin-error"},[t._v(t._s(t.pinError))])])])},staticRenderFns:[]}},188:function(t,e,i){var n=i(77)(i(623),i(1016),null,null,null);t.exports=n.exports},623:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(1),r=i(5),s=i(4),o=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var i=arguments[e];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(t[n]=i[n])}return t};e.default={data:function(){return{showFirstPin:!0,firstPin:"",confirmPin:"",pinError:!1}},computed:o({},i.i(s.a)(["passphrase"])),methods:o({},i.i(s.b)([]),i.i(s.c)(["actEditAccount","actCreateNewProfile","actCheckWithAccount","actGetProfileSwitch"]),{validateFirstPin:function(t){t.target.value.length>3&&(this.showFirstPin=!1)},validateConfimPin:function(t){var e=this;if(t.target.value.length>3)if(this.firstPin==this.confirmPin){var i=JSON.parse(localStorage.getItem("altUser"));this.actEditAccount({marketingConsent:!1,pin:this.firstPin,details:{},Account_Id:i.accountId,Profile_Id:i.profileId}).then(function(t){t.status&&"ok"==t.status&&e.createKidsProfile()},function(t){})}else this.pinError="Incorrect PIN"},createKidsProfile:function(){var t=this,e=JSON.parse(localStorage.getItem("altUser")),i={parental_control:"R",password:e.login,type:"regular",username:"kids"+e.login};this.actCreateNewProfile(i).then(function(e){t.switchProfile(i)},function(t){})},switchProfile:function(t){var e=this,i=JSON.parse(localStorage.getItem("altUser")),n={pin:this.firstPin,profileId:i.profileId};this.actGetProfileSwitch(n).then(function(i){t.email=i.email,t.parentalControl=i.parental_control,t.sessionToken=i.session_token,t.username=i.username,t.uuid=i.uuid,localStorage.setItem("altKidsUser",JSON.stringify(t)),localStorage.setItem("altProfileMode","kids"),e.$router.push({name:"kidsMode"})},function(t){})},closeScreen:function(){this.showFirstPin=!0,this.pinError=!1,this.firstPin="",this.confirmPin="",n.eventBus.$emit("toggleCreateKidsPinEvent",!1)}}),mixins:[r.a]}},80:function(t,e,i){t.exports=i.p+"close.svg"}});