webpackJsonp([125],{1043:function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return e.userProfile?a("div",{staticClass:"acc-profile"},[a("div",{staticClass:"name mb-20"},[a("div",{staticClass:"set-label"},[e._v("Name")]),e._v(" "),e.userProfile?a("div",{staticClass:"set-value"},[e._v(": "+e._s(e.userProfile.name))]):e._e()]),e._v(" "),e._m(0),e._v(" "),a("div",{staticClass:"mail mb-20"},[a("div",{staticClass:"set-label"},[e._v("Email")]),e._v(" "),e.userProfile&&e.userProfile.login?a("div",{staticClass:"set-value"},[e._v(": "+e._s(e.userProfile.login))]):e._e()]),e._v(" "),a("div",{staticClass:"set-gender mb-20"},[a("div",{staticClass:"set-label"},[e._v("Gender")]),e._v(" "),e.userProfile&&e.userProfile.details&&e.userProfile.details.gender?a("div",{staticClass:"set-value"},[e._v(": "+e._s(e.userProfile.details.gender.toUpperCase()))]):a("div",{staticClass:"set-value"},[e._v(":")])]),e._v(" "),a("div",{staticClass:"set-dob mb-20"},[a("div",{staticClass:"set-label"},[e._v("Date of Birth")]),e._v(" "),e.dob?a("div",{staticClass:"set-value"},[e._v(": "+e._s(e.dob))]):a("div",{staticClass:"set-value"},[e._v(":")])]),e._v(" "),a("div",{staticClass:"set-dob mb-20"},[a("div",{staticClass:"set-label"},[e._v("Mobile Number")]),e._v(" "),e.userProfile&&e.userProfile.phone_number&&e.statusMobile?a("div",{staticClass:"set-value"},[e._v(": "+e._s(e.userProfile.phone_number))]):a("div",{staticClass:"set-value"},[e._v(":")])]),e._v(" "),e.currentDomain&&"IN"==e.currentDomain?a("div",{staticClass:"set-dob mb-20"},[a("div",{staticClass:"set-label"},[e._v("State")]),e._v(" "),e.userProfile&&e.userProfile.details&&e.userProfile.details.state?a("div",{staticClass:"set-value"},[e._v(": "+e._s(e.userProfile.details.state))]):a("div",{staticClass:"set-value"},[e._v(":")])]):e._e(),e._v(" "),a("h6",{staticClass:"setting-header"},[e._v("Purchases")]),e._v(" "),a("nav",{staticClass:"top-menu"}),e._v(" "),e.accountOrders?a("div",[e._m(1),e._v(" "),e._l(e.accountOrders,function(t){return a("div",{staticClass:"item-data"},[t.price?a("div",{staticClass:"item-name"},[e._v(e._s("INR"==t.price.currency?"₹":"$")+e._s(t.price.real_amount)+" for "+e._s(t.product.titles.en))]):e._e(),e._v(" "),t.dates&&t.dates.created?a("div",{staticClass:"date-time"},[a("div",{staticClass:"pur-date"},[e._v(e._s(e.displayDateFormat(t.dates.created)))]),e._v(" "),a("div",{staticClass:"pur-time"},[e._v(e._s(e.makeAM_PM(t.dates.created)))])]):e._e(),e._v(" "),t.dates&&t.dates.valid_to?a("div",{staticClass:"date-time"},[a("div",{staticClass:"pur-date"},[e._v(e._s(e.displayDateFormat(t.dates.valid_to)))]),e._v(" "),a("div",{staticClass:"pur-time"},[e._v(e._s(e.makeAM_PM(t.dates.valid_to)))])]):e._e()])}),e._v(" "),e.showSubsNowBtn?a("div",{staticStyle:{margin:"inherit","text-align":"center","margin-top":"15px"}},[a("button",{staticClass:"btn grad-btn btn-subscribe",on:{click:function(t){e.$router.push({name:"subscribe"})}}},[e._v("SUBSCRIBE NOW")])]):e._e()],2):a("div",{staticClass:"text-center"},[e.subscribeMessageText?a("div",[a("p",[e._v("You haven't subscribed yet!")]),e._v(" "),a("button",{staticClass:"btn grad-btn btn-subscribe",on:{click:function(t){e.$router.push({name:"subscribe"})}}},[e._v("SUBSCRIBE NOW")])]):e._e()]),e._v(" "),e.renewCounter?a("button",{staticClass:"btn grad-btn btn-sm renewal-button",attrs:{type:"button"},on:{click:function(t){e.subscribePage()}}},[e._v("Renew/Upgrade")]):e._e(),e._v(" "),a("h6",{staticClass:"setting-header"},[e._v("Settings")]),e._v(" "),a("nav",{staticClass:"top-menu"}),e._v(" "),e.userProfile?a("div",{staticClass:"setting-row"},[e.userProfile.email_verified?a("h6",{staticClass:"verification-label"},[e._v("Email Verification "),a("span",{staticClass:"text-green"},[e._v("Verified ✔")])]):a("h6",{staticClass:"verification-label"},[e._v("Email Verification"),a("span",{staticClass:"text-red",on:{click:e.verifyEmail}},[e._v("Verify")])])]):e._e(),e._v(" "),a("div",{staticClass:"setting-row"},[a("p",[e._v("Receive Emails")]),e._v(" "),a("div",{staticClass:"toggle-settings"},[a("input",{staticClass:"cbx hidden",attrs:{type:"checkbox",id:"receive"},domProps:{checked:e.checkFlag},on:{click:e.emailVerifiedCheck}}),e._v(" "),a("label",{staticClass:"lbl",attrs:{for:"receive"}})])])]):e._e()},staticRenderFns:[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"pwd mb-20"},[a("div",{staticClass:"set-label"},[e._v("Password")]),e._v(" "),a("div",{staticClass:"set-value"},[e._v(": *********")])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"item-heading"},[a("div",{staticClass:"item"},[e._v("Items")]),e._v(" "),a("div",{staticClass:"purchase"},[e._v("Purchase Date")]),e._v(" "),a("div",{staticClass:"exp"},[e._v("Expiry Date")])])}]}},612:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=a(1),i=a(5),o=a(4),r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var s in a)Object.prototype.hasOwnProperty.call(a,s)&&(e[s]=a[s])}return e};t.default={data:function(){return{selectedState:void 0,dob:void 0,showChngKidsPassCode:!1,geoData:void 0,showSubsNowBtn:!1,altUser:void 0,altOrder:void 0,checkFlag:!1,checkNotification:"on",currentDomain:void 0,statusMobile:void 0,renewCounter:!1,altConfig:void 0,regionalLanguageFilter:"NONE",selectedLanguage:void 0,regionLanguageCheck:!1,subscribeMessageText:!1}},computed:r({},a.i(o.a)(["appActive","domain","userProfile","accountOrders"])),watch:{appActive:function(){this.initAccountProfile()},userProfile:function(e){if(e&&e.details&&e.details.birthday){this.dob=e.details.birthday.split("-");var t=parseInt(this.dob[2]);if(isNaN(t))return void(this.dob="01-01-1947");var a=null;a=4==this.dob[0].length?this.dob[2]+"-"+this.dob[1]+"-"+this.dob[0]:this.dob[0]+"-"+this.dob[1]+"-"+this.dob[2],this.dob=a||""}}},methods:r({},a.i(o.b)(["setUserProfile","setAccountOrders","setAltProfiles"]),a.i(o.c)(["actGetAccountInfo","actGetOrders","actGetVerifyEmail","actCheckWithAccount","actGetUpdateUser","actAccountEdit"]),{displayDateFormat:function(e){var t=new Date(e.split("+")[0]),a=t.getUTCMonth(),s=t.getUTCDate(),i=t.getUTCFullYear();return s+"/"+this.monthDateText(a)+"/"+i},monthDateText:function(e){var t=new Array;return t=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sept","Oct","Nov","Dec"],t[e]},notificationCheck:function(){document.getElementById("notification").checked?(localStorage.setItem("notificationFlag","on"),s.eventBus.$emit("headerHideNotificationNumber",!0)):(localStorage.setItem("notificationFlag","off"),s.eventBus.$emit("headerHideNotificationNumber",!1))},makeAM_PM:function(e){console.log(e);var t=new Date(e.split("+")[0]),a=t.getHours(),s=t.getMinutes(),i=a>=12?"pm":"am";return a%=12,a=a||12,s=s<10?"0"+s:s,a+":"+s+" "+i},toggleLangugePrefPopup:function(){s.eventBus.$emit("toggleLanguagePrefRegisterdEvent",!0)},emailVerifiedCheck:function(){var e=JSON.parse(localStorage.getItem("altAccount"));if(document.getElementById("receive").checked)var t={marketing_consent:!0,Account_Id:localStorage.getItem("account_id"),Profile_Id:e.profile.id};else var t={marketing_consent:!1,Account_Id:localStorage.getItem("account_id"),Profile_Id:e.profile.id};this.actAccountEdit(t).then(function(e){e.status&&e.status},function(e){e.code})},initAccountProfile:function(){var e=this;this.toggleLoader(!0),this.subscribeMessageText=!1,console.log("data -- setting"),this.actGetAccountInfo().then(function(t){var a=t.profile&&t.profile.extra_details;if(a&&"regional_language"in a)e.selectedLanguage=a.regional_language,""==e.selectedLanguage&&(e.selectedLanguage="None"),e.saveLangToLocal(e.selectedLanguage,!0);else if(e.selectedLanguage="None",localStorage.getItem("pref_language_data")){var s=JSON.parse(localStorage.getItem("pref_language_data"));s.selected&&e.saveLangToLocal("",!0)}else e.saveLangToLocal("",!1);if(t.phone_number){2==t.phone_number.split("-").length&&(e.statusMobile=!0)}t.marketing_consent?e.checkFlag=!0:e.checkFlag=!1,e.setUserProfile(t),localStorage.getItem("geo_location")&&(e.geoData=JSON.parse(localStorage.getItem("geo_location")));var i=localStorage.getItem("homeDomain");e.currentDomain=localStorage.getItem("homeDomain"),e.geoData&&"India"==e.geoData.geo_country&&!t.details.state&&"IN"==i&&(e.showStateSelector=!1),e.getOrders()},function(t){if(404==t.code&&"The account could not be found"==t.message){var a="IN"==localStorage.getItem("homeDomain")?"row":"IN";return localStorage.setItem("homeDomain",a),e.initAccountProfile(),!1}if(401==t.code)return localStorage.removeItem("altUser"),localStorage.removeItem("altOrder"),localStorage.removeItem("altDevice"),localStorage.removeItem("altAccount"),localStorage.removeItem("notifications"),localStorage.removeItem("notificationsCount"),localStorage.removeItem("Regional-language"),e.$router.push({name:"home"}),!1}),localStorage.getItem("notificationFlag")&&("on"==localStorage.getItem("notificationFlag")?this.checkNotification=!0:this.checkNotification=!1)},renewalButtonEnable:function(e){var t,a;t=new Date,t.setDate(t.getUTCDate()+9),(a=new Date(e))<=t&&(this.renewCounter=!0)},subscribePage:function(){window.location.replace(location.protocol+"//"+location.host+"/subscribe")},getOrders:function(){var e=this,t=JSON.parse(localStorage.getItem("altUser"));this.actGetOrders(t).then(function(t){if(t.count){e.setAccountOrders(t.orders);var a=t.orders.filter(function(e){return 1==e.product.recurring});if(a&&a.length){var s=!1,i=0;for(var o in a){if(((new Date).getTime()-new Date(a[o].dates.valid_to.split("+")[0]).getTime())/864e5<0){s=!0,i=o;break}}s&&e.renewalButtonEnable(a[i].dates.valid_to),e.showSubsNowBtn=!s}else e.showSubsNowBtn=!0}else e.setAccountOrders(void 0);e.toggleLoader(!1),e.subscribeMessageText=!0,e.getProfiles()},function(e){})},getProfiles:function(){var e=this;this.actCheckWithAccount(this.altUser).then(function(t){e.setAltProfiles(t),e.toggleLoader(!1),t.count>1&&e.altOrder&&e.altOrder.subscription&&e.altOrder.subscription.hasOrder&&0==e.altOrder.subscription.expired?e.showChngKidsPassCode=!0:e.showChngKidsPassCode=!1},function(e){})},verifyEmail:function(){var e=this;document.getElementById("alt-app")&&(document.getElementById("alt-app").style.position="fixed"),this.actGetVerifyEmail().then(function(t){t.status&&"ok"==t.status?(document.body.scrollTop=document.documentElement.scrollTop=0,e.toggleAltPopup(!0,"You've got mail!")):e.toggleAltPopup(!0,"Oops! Something error happened.")},function(t){e.toggleAltPopup(!0,"Oops! Something error happened.")})},formatDate:function(e){var t=this.formatIsoDate(e),e=t.date.day+"/"+t.date.month+"/"+t.date.year;return{date:e,time:t.time.hours+":"+t.time.minutes}},regionalLanguageSelectedCB:function(e){""==e&&(e="None"),this.selectedLanguage=e},saveLangToLocal:function(e,t){var a={userType:"registered",emitted:!0,selected:t,language:e};localStorage.setItem("pref_language_data",JSON.stringify(a))}}),created:function(){s.eventBus.$on("regionalLanguageSelectedEvent",this.regionalLanguageSelectedCB),this.setUserProfile(void 0),this.setAccountOrders(void 0),localStorage.getItem("altUser")&&(this.altUser=JSON.parse(localStorage.getItem("altUser"))),localStorage.getItem("altOrder")&&(this.altOrder=JSON.parse(localStorage.getItem("altOrder"))),this.appActive&&this.initAccountProfile()},mixins:[i.a]}},878:function(e,t,a){var s=a(77)(a(612),a(1043),null,null,null);e.exports=s.exports}});