webpackJsonp([129],{161:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=i(92),o=i.n(n),r=i(1),s=i(5),a=i(4),l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e},d=function(){return i.e(49).then(i.bind(null,126))},h=function(){return i.e(49).then(i.bind(null,127))};t.default={data:function(){return{contentName:void 0,id:void 0,altUser:void 0,altOrder:void 0,contentType:void 0,contentId:void 0,episodeId:void 0,seriesId:void 0,mediaId:void 0,seasonId:void 0,progressId:void 0,seriesSeasons:void 0,manifestUrl:void 0,licenseUrl:void 0,drmTicket:void 0,trailerEnabled:void 0,loadedContent:void 0,showVideoLoader:!0,altPlayer:void 0,videoTag:void 0,isPlayerReady:!1,isPlayerPlaying:!1,currentTime:"00:00",duration:"00:00",durationInSec:void 0,playTime:0,seekPosition:0,videoStep:0,videoTimer:0,contentRestricted:!1,contentGeoBlocked:!1,contentDrmBlocked:!1,showLoginTag:!1,showSubTag:!1,showRentTag:!1,videoCanPlay:!1,vContain:void 0,vPlayer:void 0,vShaka:void 0,vControls:void 0,vToggler:void 0,vLoader:void 0,vProgress:void 0,vCurrentTime:void 0,vDuration:void 0,vFullsrcSwitch:void 0,trailerPlayFlag:!0,continueProgress:void 0,playerPlaylist:void 0,playlistEpisodes:new Array,playlistEpisodeCount:0,playListPosition:0,currentPlaylistItem:void 0,nextPlaylistItem:void 0,playlistCallbackEvent:!1,toggleControlTimer:void 0,toggleCtrlTimerTime:5e3,nextPlaylistMediaTitle:void 0,nextPlaylistMediaSNo:void 0,nextPlaylistMediaENo:void 0,nextPlaylistPosition:0,showComUpNextTag:!1,showComUpNextTime:void 0,showComUpNextTimeNextEpisode:void 0,showComUpNextTimeNextEpisodeCountDown:0,replayFlag:!0,showDrmNotSupportError:!0,showEnablePcError:!0,limit:50,offset:0,comingSoonTag:!1,plrPosterImage:void 0,plrDuration:void 0,plrStreamAvailable:!1,plrStreamUrl:void 0,plrIsStreamDrm:!1,plrStreamId:void 0,plrTrailerAvailable:!1,plrTrailerUrl:void 0,plrIsTrailerDrm:!1,plrTrailerId:void 0,plrVideoUrl:void 0,plrIsDrmVideo:!1,plrVideoLoaded:!1,plrVideoEnded:!1,plrContentLength:void 0,plrLoadedVideoType:void 0,silentTrack:"/src/assets/silent-track.mp3",plrInitialized:!1,showTagTrailer:!1,showTagComingsoon:!1,showTagLogin:!1,showTagSubscribe:!1,showTagRentTvod:!1,playNextPlaylistItemFlag:!1,isVPlayerBuffering:!1,playRelatedEpisodeClickFlag:!1,contentSeekStartTime:void 0,contentSeekStopTime:void 0,contentBufferStartTime:void 0,contentBufferStopTime:void 0,countBufferFlag:!1,webenageState:"null",crossDomainCheck:!0,showTagGeoCta:!1,trailerCountinueGeoCheck:!1,showTagGeoCtaCheck:!1,flagRouteChanged:!1,bufferStartTime:0,gt_next_episode_thumbnail_url:void 0,gt_next_episode_description:void 0,gt_next_episode_id:void 0,completeEventChecker:!1,currentAWSEvent:void 0,vForward:void 0,vBackward:void 0,flagVideoTag:!1,episodeIdentifier:!1,headerEpisodeDetails:void 0,playerVideoTrackList:[],showPopupEpisodeList:!1,showVideoResolution:!1,ShowSkipTag:!1,nextEpisodeImage:!1,skipIntroEventFlag:!0,checkChromeCast:void 0,plrLoadedVideoTypeMovieTrailer:void 0,nextEpisodePlayLoadMainfest:void 0,eventContentViewData:void 0,returnFromLoadAfterStop:!1,loaderCheck:void 0,episodePopupPlayState:void 0,videoResolutionPopupState:void 0,containInfoDetails:void 0,showOnlyPlayButton:void 0}},computed:l({},i.i(a.a)(["appActive","playerContent","relatedEpisodes","previewEnabled","videoPoster","altMessages","chromecastState","onboardPlayer","homeActiveSectionTitle"])),watch:{appActive:function(){this.initActivePlayerScreen()},$route:function(e,t){this.flagRouteChanged=!0,this.routeChangeCB(),this.initRoutePlayerScreen()}},methods:l({},i.i(a.b)(["setPlayerContent","setVideoPoster","setTrailerAvailable","setShowTrailerButton","setShowMovieButton","setRouterFromParam","setEpisodeListing","setPlayerVideoResolution","setRelatedEpisodes","setCurrentShowPlaylists","setCurrentEpisodeInfo","setPopupPlaylist"]),i.i(a.c)(["actGetMediaSeries","actGetMediaVideo","actGetSingleEpisode","actGetEpisodes","actGetMediaAccess","actGetDrmTickt","actGetPlayerProgress","actPutPlayerProgress","actGetSeriesSeasons","actAddtoFavouriteMedia","actGetMediaGeoAccess"]),{initActivePlayerScreen:function(){this.initMountedPlayerScreen()},initRoutePlayerScreen:function(){this.showComUpNextTag=!1,this.plrVideoLoaded=!1,this.plrVideoEnded=!1,this.contentDrmBlocked=!1,this.limit=50,this.offset=0,this.playlistEpisodeCount=0,this.playlistEpisodes=new Array,this.skipIntroEventFlag=!1,this.checkChromeCast=!1,this.plrLoadedVideoTypeMovieTrailer=!1,this.nextEpisodePlayLoadMainfest=!0,this.eventContentViewData=!1,this.loaderCheck=!1,r.eventBus.$emit("toggleVideoAddToFavError",!1),document.getElementById("alt-app")&&(document.getElementById("alt-app").style.position="relative"),this.vPlayer&&(this.vToggleLoader(!0),this.toggleControls(!1),this.vToggleToggler(!1,"initRoutePlayerScreen"),this.vToggleMainControls(!1)),this.initMountedPlayerScreen()},initMountedPlayerScreen:function(){this.hideVideoController(!1),this.hidePosterPlayerScreen("block","none"),this.setPlayerContent(void 0),this.comingSoonTag=!1,this.showLoginTag=!1,this.showSubTag=!1,this.showRentTag=!1,this.contentRestricted=!1,this.contentGeoBlocked=!1,this.showComUpNextTag=!1,this.showDrmNotSupportError=!0,this.showEnablePcError=!0;var e=void 0;localStorage.getItem("altProfileMode")&&(e=localStorage.getItem("altProfileMode")),("kids"!==e||this.containInfoDetails)&&(this.containInfoDetails?(this.contentName=this.containInfoDetails.contentName,this.id=this.containInfoDetails.id):(this.contentName=this.$route.name,this.id=this.$route.params.id),document.getElementById("alt-app")&&(document.getElementById("alt-app").style.position="relative"),"show"==this.contentName?(this.seriesId=this.id,this.processSeriesContent()):"media"!=this.contentName&&"episode"!=this.contentName||(this.mediaId=this.id,this.processMediaContent()))},outputUpdate:function(e){var t=document.querySelector("#volume");t.value=e,t.style.left=e+"px"},skipActionForward:function(){if(this.vPlayer&&this.vPlayer.currentTime&&this.playerContent&&this.playerContent.skipIntro){this.ShowSkipTag=!1;var e=this.vPlayer.currentTime,t=this.playerContent.skipIntro.endskipintro?parseInt(this.playerContent.skipIntro.endskipintro):void 0;t&&(this.vPlayer.currentTime=t);var i=void 0;if(i=t-e,window.mobileAnalyticsClient){var n=this.getAWSMACommonAttributes();n.start_time=e||"N.A",n.stop_time=t||"N.A",n.duration=i||"N.A",window.mobileAnalyticsClient.recordEvent("_skip.intro",n,{})}}},makeTitleUpperCase:function(e){return e.toUpperCase()},filterVideoTrackList:function(e){var t=e[0].height,i=[];i.push(e[0]),e.shift();for(var n in e){if(t==e[n].height)break;i.push(e[n])}return i.sort(function(e,t){return e.height-t.height}),i},vPlayerVideoQuality:function(){if(this.vShaka){var e=void 0,t=void 0;e=this.vShaka.getVariantTracks(),t=this.filterVideoTrackList(e),this.filterVideoResolutation(t),this.twoSeratePart()}r.eventBus.$emit("togglePlayerVideoResolution",!0)},twoSeratePart:function(){for(var e=[],t=[],i=[],n=0;n<this.playerVideoTrackList.length;n++)n%2==0?e.push(this.playerVideoTrackList[n]):t.push(this.playerVideoTrackList[n]);i.push(e),i.push(t),this.setPlayerVideoResolution(i)},filterVideoResolutation:function(e){if(localStorage.setItem("videoResolution",JSON.stringify(e)),!(this.playerVideoTrackList&&this.playerVideoTrackList.length>0)){var t=void 0,i=void 0;if(i=localStorage.getItem("altConfig")?JSON.parse(localStorage.getItem("altConfig")):void 0,t=i&&i.qualitySelection&&i.qualitySelection.options?i.qualitySelection.options:void 0){var n=void 0,o={};for(var r in t)n=parseInt(t[r].bitrateIndex),n>=0?(e[n].info=t[r].info,e[n].title=t[r].title,this.playerVideoTrackList.push(e[n])):(o.info=t[r].info,o.title=t[r].title,this.playerVideoTrackList.push(o))}}},processSeriesContent:function(){var e=this,t=void 0;localStorage.getItem("altProfileMode")?t=localStorage.getItem("altProfileMode"):(t="default",localStorage.setItem("altProfileMode",t)),this.getTheContents(function(){if(e.playerContent)return"kids"!=t||e.playerContent.kidsContent?void e.getSeriesSeasons(function(){e.getSeriesEpisodes(function(){e.renderSeriesScreen()})}):void e.$router.push({name:"home"})})},renderSeriesScreen:function(){var e=this;this.showTagTrailer=!1,this.showTagComingsoon=!1,this.showTagLogin=!1,this.showTagSubscribe=!1,this.showTagRentTvod=!1,this.configurePlayerMetadata(),this.progressId=void 0,this.showComUpNextTime=!1,this.showComUpNextTimeNextEpisode=!1,this.showComUpNextTimeNextEpisodeCountDown=0,this.playerContent&&this.playerContent.stream?(this.plrVideoUrl=this.plrStreamUrl,this.plrIsDrmVideo=this.plrIsStreamDrm):this.playerContent&&this.playerContent.trailer&&(this.plrVideoUrl=this.plrTrailerUrl,this.plrIsDrmVideo=!1),this.contentRestricted=!1;var t=void 0;if(localStorage.getItem("altUser")&&(t=JSON.parse(localStorage.getItem("altUser"))),this.configurePlayer(function(){e.vToggleLoader(!0),t?e.plrIsDrmVideo?e.configureDrmPlayback(function(){e.vToggleLoader(!1),e.toggleLoader(!1),e.plrLoadedVideoType="trailer"}):(e.vToggleLoader(!1),e.toggleLoader(!1),e.containInfoDetails&&(e.vToggleLoader(!1),e.toggleLoader(!1),e.showOnlyPlayButton=!0),e.plrLoadedVideoType="trailer"):(e.plrIsDrmVideo?(e.toggleControls(!1),e.vToggleToggler(!1,"renderSeriesScreen"),e.vToggleMainControls(!1)):e.vToggleLoader(!1),e.toggleLoader(!1),e.containInfoDetails&&(e.vToggleLoader(!1),e.toggleLoader(!1),e.showOnlyPlayButton=!0),e.plrLoadedVideoType="trailer")}),window.mobileAnalyticsClient){var i=this.getAWSMACommonAttributes();if(this.eventContentViewData)return;i.content_id=this.playerContent&&this.playerContent.seriesId?this.playerContent.seriesId:"N.A",i.content_title=this.playerContent&&this.playerContent.title?this.playerContent.title.toLowerCase():"N.A",i.content_url=this.playerContent.seriesId,i.content_type=this.playerContent&&this.playerContent.contentType?this.playerContent.contentType:"N.A",i.content_source=localStorage.getItem("AWSMA_content_source")?localStorage.getItem("AWSMA_content_source"):"category",this.eventContentViewData=i,window.mobileAnalyticsClient.recordEvent("_content.view",i,{})}},geoCtaCheck:function(){this.vPlayer&&!this.vPlayer.paused&&this.vPlayer.pause(),this.vExitFullScreenMode(),r.eventBus.$emit("toggleGeoBlockEvent",!0)},processMediaContent:function(){var e=this,t=void 0;localStorage.getItem("altProfileMode")?t=localStorage.getItem("altProfileMode"):(t="default",localStorage.setItem("altProfileMode",t)),this.getTheContents(function(){if(e.playerContent){if("kids"==t&&!e.playerContent.kidsContent)return void e.$router.push({name:"home"});switch(e.playerContent.contentType){case"trailer":e.processTrailerContent();break;case"movie":e.processMovieContent();break;case"poster":e.processPosterContent();break;case"episode":e.processEpisodeContent()}}})},setContentInformationLocal:function(e){void 0!=e&&(void 0==e.contentId?"series"==e.contentType&&localStorage.setItem("awsContentId",e.seriesId):localStorage.setItem("awsContentId",e.contentId),localStorage.setItem("awsContentTitle",e.title),localStorage.setItem("awsContentType",e.contentType),localStorage.setItem("awsContentDuration",e.durationInSec))},processTrailerContent:function(){this.playerPlaylist=void 0,this.renderTrailerScreen()},renderTrailerScreen:function(){var e=this;this.configurePlayerMetadata(),this.progressId=void 0,this.playerContent&&this.playerContent.trailer?(this.plrVideoUrl=this.plrTrailerUrl,this.plrIsDrmVideo=!1):this.plrVideoUrl=this.playerContent.stream.streamUrl;var t=void 0;if(localStorage.getItem("altUser")&&(t=JSON.parse(localStorage.getItem("altUser"))),this.configurePlayer(function(){e.vToggleLoader(!0),t?e.plrIsDrmVideo?e.configureDrmPlayback(function(){e.vToggleLoader(!1),e.toggleLoader(!1),e.plrLoadedVideoType="trailer"}):(e.vToggleLoader(!1),e.toggleLoader(!1),e.plrLoadedVideoType="trailer"):(e.plrIsDrmVideo?(e.toggleControls(!1),e.vToggleToggler(!1,"renderTrailerScreen"),e.vToggleMainControls(!1)):e.vToggleLoader(!1),e.toggleLoader(!1),e.plrLoadedVideoType="trailer")}),window.mobileAnalyticsClient){var i=this.getAWSMACommonAttributes();if(this.eventContentViewData)return;i.content_id=this.playerContent.contentId,i.content_title=this.playerContent.title.toLowerCase(),i.content_url="/media/video/"+this.playerContent.contentId,i.content_type=this.playerContent.contentType,i.content_source=localStorage.getItem("AWSMA_content_source")?localStorage.getItem("AWSMA_content_source"):"category",this.eventContentViewData=i,window.mobileAnalyticsClient.recordEvent("_content.view",i,{})}},processEpisodeContent:function(){var e=this;this.seriesId=this.playerContent.seriesId,this.seasonId=this.playerContent.seasonId,this.episodeIdentifier=!0,this.showTagTrailer=!1,this.showTagComingsoon=!1,this.showTagLogin=!1,this.showTagSubscribe=!1,this.showTagGeoCta=!1;var t=function(){localStorage.getItem("altUser")?e.getMediaAccess(function(){e.renderEpisodeScreen()}):e.renderEpisodeScreen()};"Watching"===this.homeActiveSectionTitle?t():this.getSeriesEpisodes(function(){t()})},renderEpisodeScreen:function(){var e=this;if(this.showTagTrailer=!1,this.showTagComingsoon=!1,this.showTagLogin=!1,this.showTagSubscribe=!1,this.showTagRentTvod=!1,this.configurePlayerMetadata(),this.plrTrailerAvailable=!1,this.plrTrailerUrl=void 0,this.plrIsTrailerDrm=!1,this.plrTrailerId=void 0,this.playerContent){this.headerEpisodeDetails={episodeNumber:this.playerContent.episodeNumber?this.playerContent.episodeNumber:" ",seasonNumber:this.playerContent.seasonNumber?this.playerContent.seasonNumber:""},this.mediaId=this.progressId=this.playerContent.id,this.showComUpNextTime=this.playerContent.nextIn?this.playerContent.nextIn:15;var t=void 0;localStorage.getItem("altUser")&&(t=JSON.parse(localStorage.getItem("altUser"))),this.playerContent&&this.playerContent.stream&&(this.plrVideoUrl=this.playerContent.stream.streamUrl);var i=void 0;if(localStorage.getItem("prevPlayedMediaId")&&(i=localStorage.getItem("prevPlayedMediaId")),this.id==i&&(this.playlistCallbackEvent=!1),this.configurePlayer(function(){e.vToggleLoader(!0),e.plrLoadedVideoType="episode",t?e.getPlayerProgress(function(){e.playerContent&&e.playerContent.stream&&e.playerContent.stream.streamUrl&&(e.playerContent.isFreeContent||e.playerContent.userHasAccess)?(e.plrIsDrmVideo=!0,e.contentRestricted=!1):(e.plrIsDrmVideo=!1,e.contentRestricted=!0),e.vToggleLoader(!1),e.toggleLoader(!1),e.hideVideoController(!0),e.playlistCallbackEvent&&e.vTogglePlay()}):(e.playerContent.stream&&e.playerContent.stream.streamUrl&&e.playerContent.anonymousAccess?e.contentRestricted=!1:e.contentRestricted=!0,e.vToggleLoader(!1),e.vToggleToggler(!0,"renderEpisodeScreen"),e.toggleControls(!0),e.toggleLoader(!1),e.playlistCallbackEvent&&e.vTogglePlay())}),window.mobileAnalyticsClient){var n=this.getAWSMACommonAttributes(),o="Ep"+this.playerContent.episodeNumber+"-"+this.playerContent.title;if(n.content_id=this.playerContent.contentId,n.content_title=o.toLowerCase(),n.content_url="/media/video/"+this.playerContent.contentId,this.playerContent&&this.playerContent.seriesId,this.playerContent&&this.playerContent.seriesTitle&&(n.parent_content_title=this.playerContent.seriesTitle.toLowerCase()),n.content_type=this.playerContent.contentType,n.content_source=localStorage.getItem("AWSMA_content_source")?localStorage.getItem("AWSMA_content_source"):"category",this.eventContentViewData)return;this.eventContentViewData=n,window.mobileAnalyticsClient.recordEvent("_content.view",n,{})}}},processMovieContent:function(){var e=this;this.playerPlaylist=void 0,localStorage.getItem("altUser")?this.getMediaAccess(function(){e.renderMovieScreen()}):this.renderMovieScreen()},renderMovieScreen:function(){var e=this;this.showTagTrailer=!1,this.showTagComingsoon=!1,this.showTagLogin=!1,this.showTagSubscribe=!1,this.showTagRentTvod=!1,this.showTagGeoCta=!1,this.showTagGeoCtaCheck=!1,this.configurePlayerMetadata(),this.mediaId=this.progressId=this.playerContent.contentId;var t=void 0;if(localStorage.getItem("altUser")&&(t=JSON.parse(localStorage.getItem("altUser"))),this.configurePlayer(function(){if(e.vToggleLoader(!0),t){if(e.playerContent.isFreeContent||e.playerContent.userHasAccess)e.contentRestricted=!1,e.playerContent.stream?(e.plrVideoUrl=e.playerContent.stream.streamUrl,e.plrLoadedVideoType="movie",e.plrIsDrmVideo=!0):e.playerContent.trailer?(e.plrVideoUrl=e.playerContent.trailer.trailerUrl,e.plrLoadedVideoType="trailer",e.plrIsDrmVideo=!1,e.contentGeoBlocked=!1):(e.toggleControls(!1),e.vToggleToggler(!1,"renderMovieScreen"),e.vToggleLoader(!1));else{if(!e.playerContent.trailer)return void(e.contentRestricted=!0);e.plrVideoUrl=e.playerContent.trailer.trailerUrl,e.plrLoadedVideoType="trailer",e.plrIsDrmVideo=!1,e.contentRestricted=!1,e.contentGeoBlocked=!1}e.getPlayerProgress(function(){e.vToggleLoader(!1),e.toggleLoader(!1)})}else e.playerContent.anonymousAccess&&e.playerContent.stream?(e.plrVideoUrl=e.playerContent.stream.streamUrl,e.plrIsDrmVideo=!1,e.plrLoadedVideoType="movie",e.contentRestricted=!1,e.contentGeoBlocked=!1):e.playerContent.trailer?(e.plrVideoUrl=e.playerContent.trailer.trailerUrl,e.plrIsDrmVideo=!1,e.plrLoadedVideoType="trailer",e.contentRestricted=!1,e.contentGeoBlocked=!1):(e.toggleControls(!1),e.vToggleToggler(!1,"renderMovieScreen else"),e.vToggleLoader(!1)),e.vToggleLoader(!1),e.toggleLoader(!1)}),window.mobileAnalyticsClient){var i=this.getAWSMACommonAttributes();if(i.content_id=this.playerContent.contentId,i.content_title=this.playerContent.title.toLowerCase(),i.content_url="/media/video/"+this.playerContent.contentId,i.content_type=this.playerContent.contentType,i.content_source=localStorage.getItem("AWSMA_content_source")?localStorage.getItem("AWSMA_content_source"):"category",this.eventContentViewData)return;this.eventContentViewData=i,window.mobileAnalyticsClient.recordEvent("_content.view",i,{})}},processPosterContent:function(){this.playerPlaylist=void 0,this.renderPosterScreen()},renderPosterScreen:function(){var e=this;this.configurePlayerMetadata(),this.progressId=void 0,this.plrVideoUrl=void 0;var t=void 0;if(localStorage.getItem("altUser")&&(t=JSON.parse(localStorage.getItem("altUser"))),this.configurePlayer(function(){if(!e.plrVideoUrl)return e.toggleControls(!1),e.vToggleToggler(!1,"renderPosterScreen"),e.vToggleMainControls(!1),e.vToggleLoader(!1),void e.toggleLoader(!1);e.vToggleLoader(!0),e.toggleLoader(!1),t?e.plrIsDrmVideo?e.configureDrmPlayback(function(){e.vToggleLoader(!1),e.plrLoadedVideoType="poster"}):(e.vToggleLoader(!1),e.plrLoadedVideoType="poster"):(e.plrIsDrmVideo?(e.toggleControls(!1),e.vToggleToggler(!1,"renderPosterScreen altUser"),e.vToggleMainControls(!1)):e.vToggleLoader(!1),e.plrLoadedVideoType="poster")}),window.mobileAnalyticsClient){var i=this.getAWSMACommonAttributes();if(i.content_id=this.playerContent.contentId,i.content_title=this.playerContent.title.toLowerCase(),i.content_type=this.playerContent.contentType,i.content_source=localStorage.getItem("AWSMA_content_source")?localStorage.getItem("AWSMA_content_source"):"category",this.eventContentViewData)return;this.eventContentViewData=i,window.mobileAnalyticsClient.recordEvent("_content.view",i,{})}},configurePlayerMetadata:function(){if(this.playerContent){this.comingSoonTag=this.playerContent.comingSoon,this.plrPosterImage=this.playerContent.images&&this.playerContent.images.cover?this.playerContent.images.cover:"/src/assets/alt-cover.jpg",this.plrDuration=this.playerContent.durationInSec?this.playerContent.durationInSec:0,this.playerContent.stream&&(this.plrStreamAvailable=!0,this.plrStreamUrl=this.playerContent.stream.streamUrl?this.playerContent.stream.streamUrl:void 0,this.plrStreamId=this.playerContent.stream.streamId?this.playerContent.stream.streamId:void 0,this.plrIsStreamDrm=this.playerContent.stream.drm),this.playerContent.trailer&&(this.plrTrailerAvailable=!0,this.plrTrailerUrl=this.playerContent.trailer.trailerUrl?this.playerContent.trailer.trailerUrl:void 0,this.plrTrailerId=this.playerContent.trailer.trailerId?this.playerContent.trailer.trailerId:void 0),this.comingSoonTag?this.showTagComingsoon=!0:this.showTagComingsoon=!1;return this.playerContent&&this.playerContent.geoBlock&&this.geoBlockCountryWise(this.playerContent.geoBlock)?(this.plrPosterImage="/src/assets/alt-cover.jpg",void r.eventBus.$emit("toggleCountrywiseVideoBlock",!0)):void 0}},loginRedirection:function(){var e={fullPath:this.$route.fullPath,name:this.$route.name,params:this.$route.params,path:this.$route.path,query:this.$route.query,extra:{name:"player"}};this.setRouterFromParam(e),this.$router.push({name:"login"})},configurePlayer:function(e){var t=this;this.vShaka?this.vShaka.destroy().then(function(){t.vPlayer=document.getElementById("v-player"),t.vShaka=new o.a.Player(t.vPlayer),t.configurePlayerSettings(),e&&e()}):(this.vPlayer=document.getElementById("v-player"),this.vShaka=new o.a.Player(this.vPlayer),this.configurePlayerSettings(),e&&e())},nextEpisodePlayEventTrigger:function(e){if(window.mobileAnalyticsClient){var t=this.getAWSMACommonAttributes();t.start_time=this.vPlayer&&this.vPlayer.currentTime?this.vPlayer.currentTime:"N.A",t.content_id=this.playerContent&&this.playerContent.id?this.playerContent.id:"N.A",t.content_title=this.playerContent&&this.playerContent.title?this.playerContent.title.toLowerCase():"N.A",t.content_streamid=this.playerContent&&this.playerContent.stream&&this.playerContent.stream.streamId?this.playerContent.stream.streamId:"N.A",t.content_url=this.$route.path,t.content_type=this.playerContent&&this.playerContent.contentType?this.playerContent.contentType:"N.A",t.content_duration=this.vPlayer&&this.vPlayer.duration?this.vPlayer.duration:"N.A";var i=this.getPlayerEventMode();if(t.event_mode=i||"N.A",t.event_action=e,this.$route.name&&"show"==this.$route.name&&(t.content_type="trailer",this.playerContent&&this.playerContent.trailer&&(t.content_streamid=this.playerContent&&this.playerContent.trailer&&this.playerContent.trailer.trailerId?this.playerContent.trailer.trailerId:null)),this.$route.name&&"media"==this.$route.name&&"trailer"==this.plrLoadedVideoType&&(t.content_type="trailer"),this.$route.name&&"episode"==this.$route.name){var n="Ep"+this.playerContent.episodeNumber+"-"+this.playerContent.title;t.content_title=n.toLowerCase(),this.playerContent&&this.playerContent.seriesId,this.playerContent&&this.playerContent.seriesTitle&&(t.parent_content_title=this.playerContent.seriesTitle.toLowerCase())}window.mobileAnalyticsClient.recordEvent("_next.playback",t,{})}},videoResolutionEventTrigger:function(e){if(window.mobileAnalyticsClient){var t=this.getAWSMACommonAttributes();t.content_id=this.playerContent&&this.playerContent.id?this.playerContent.id:null,t.content_title=this.playerContent&&this.playerContent.title?this.playerContent.title.toLowerCase():null,t.content_streamid=this.playerContent&&this.playerContent.stream&&this.playerContent.stream.streamId?this.playerContent.stream.streamId:null,t.content_url=this.$route.path,t.content_duration=this.vPlayer&&this.vPlayer.duration?this.vPlayer.duration:null;var i=this.getPlayerEventMode();if(t.event_mode=i||"N.A",t.event_action=e,this.$route.name&&"show"==this.$route.name&&this.playerContent&&this.playerContent.trailer&&(t.content_streamid=this.playerContent&&this.playerContent.trailer&&this.playerContent.trailer.trailerId?this.playerContent.trailer.trailerId:null),this.$route.name&&"media"==this.$route.name&&this.plrLoadedVideoType,this.$route.name&&"episode"==this.$route.name){var n="Ep"+this.playerContent.episodeNumber+"-"+this.playerContent.title;t.content_title=n.toLowerCase(),this.playerContent&&this.playerContent.seriesId,this.playerContent&&this.playerContent.seriesTitle&&(t.parent_content_title=this.playerContent.seriesTitle.toLowerCase())}window.mobileAnalyticsClient.recordEvent("_content.quality",t,{})}},backwardForwardEventTrigger:function(e,t,i){if(window.mobileAnalyticsClient){var n=this.getAWSMACommonAttributes();n.content_id=this.playerContent&&this.playerContent.id?this.playerContent.id:null,n.content_title=this.playerContent&&this.playerContent.title?this.playerContent.title.toLowerCase():null,n.content_streamid=this.playerContent&&this.playerContent.stream&&this.playerContent.stream.streamId?this.playerContent.stream.streamId:null,n.content_url=this.$route.path,n.content_type=this.playerContent&&this.playerContent.contentType?this.playerContent.contentType:null,n.content_duration=this.vPlayer&&this.vPlayer.duration?this.vPlayer.duration:null;var o=this.getPlayerEventMode();if(n.event_mode=o||"N.A",n.event_action=i,this.$route.name&&"show"==this.$route.name&&(n.content_type="trailer",this.playerContent&&this.playerContent.trailer&&(n.content_streamid=this.playerContent&&this.playerContent.trailer&&this.playerContent.trailer.trailerId?this.playerContent.trailer.trailerId:null)),this.$route.name&&"media"==this.$route.name&&"trailer"==this.plrLoadedVideoType&&(n.content_type="trailer"),this.$route.name&&"episode"==this.$route.name){var r="Ep"+this.playerContent.episodeNumber+"-"+this.playerContent.title;n.content_title=r.toLowerCase(),this.playerContent&&this.playerContent.seriesId,this.playerContent&&this.playerContent.seriesTitle&&(n.parent_content_title=this.playerContent.seriesTitle.toLowerCase())}var s={start_time:e,stop_time:t};window.mobileAnalyticsClient.recordEvent("_content.playback",n,s)}},vBackwardPlay:function(){if(this.vPlayer){var e=void 0,t=void 0,i=void 0;e=this.vPlayer.currentTime?this.vPlayer.currentTime:0,this.vPlayer.currentTime=this.vPlayer.currentTime>10?this.vPlayer.currentTime-10:0,t=this.vPlayer.currentTime?this.vPlayer.currentTime:0,i="quick_seek_backward",this.backwardForwardEventTrigger(e,t,i)}},vForwardPlay:function(){if(this.vPlayer){var e=void 0,t=void 0,i=void 0;e=this.vPlayer.currentTime?this.vPlayer.currentTime:0,this.vPlayer.currentTime=this.vPlayer.currentTime+10<this.vPlayer.duration?this.vPlayer.currentTime+10:this.vPlayer.duration,t=this.vPlayer.currentTime?this.vPlayer.currentTime:0,i="quick_seek_forward",this.backwardForwardEventTrigger(e,t,i)}},vEpisodesListDisplay:function(){this.episodePopupPlayState=this.vPlayer.paused?"pause":"play",this.vPlayer&&!this.vPlayer.paused&&this.vPlayer.pause();var e=document.getElementById("listingEpisodeBody");e&&(e.style.height=parseInt(screen.height)-120+"px",e.style.overflow="auto",document.getElementById("body").style.height=parseInt(screen.height)+"px"),document.getElementById("body")&&(document.getElementById("body").style.overflow="auto"),r.eventBus.$emit("toggleEpisodelistPopup",!0)},configurePlayerSettings:function(){this.vContain=document.getElementById("v-contain"),this.vControls=document.getElementById("v-controls"),this.vProgress=document.getElementById("v-progress"),this.vLoader=document.getElementById("v-loader"),this.vToggler=document.getElementById("v-kids-toggler"),this.vCurrentTime=document.getElementById("v-current-time"),this.vDuration=document.getElementById("v-duration"),this.vMainCtrls=document.getElementById("v-main-ctrls"),this.vMainHeader=document.getElementById("v-main-header"),this.vBackward=document.getElementById("v-backward"),this.vForward=document.getElementById("v-forward"),this.vEpisodesList=document.getElementById("v-episodesList"),this.vShaka.addEventListener("buffering",this.vShakaBufferingCB),this.vPlayer.addEventListener("play",this.vPlayEventCB),this.vPlayer.addEventListener("pause",this.vPauseEventCB),this.vPlayer.addEventListener("timeupdate",this.vHandleProgress),this.vPlayer.addEventListener("loadstart",this.vToggleLoader(!0)),this.vPlayer.addEventListener("loadeddata",this.vLoadedData),this.vPlayer.addEventListener("ended",this.vEndedCB),this.vPlayer.addEventListener("seeking",this.vSeekingCB),this.vPlayer.addEventListener("seeked",this.vSeekedCB),this.vPlayer.addEventListener("canplaythrough",this.vCanPlayThroughCB),this.vProgress.addEventListener("input",this.vSeek),this.vProgress.addEventListener("change",this.contentSeeked),this.vProgress.addEventListener("touchstart",this.vProgressTouchStartCB),this.vPlayer.addEventListener("error",this.vErrorCB),this.vPlayer.addEventListener("stalled",this.vStalledCB),this.vToggler&&(this.vToggler.removeEventListener("click",this.vTogglePlay),this.vToggler.addEventListener("click",this.vTogglePlay)),this.vForward&&this.vBackward&&(this.vBackward.removeEventListener("click",this.vBackwardPlay),this.vForward.removeEventListener("click",this.vForwardPlay)),this.vBackward.addEventListener("click",this.vBackwardPlay),this.vForward.addEventListener("click",this.vForwardPlay),this.vEpisodesList&&(this.vEpisodesList.removeEventListener("click",this.vEpisodesListDisplay),this.vEpisodesList.addEventListener("click",this.vEpisodesListDisplay)),this.vControls.removeEventListener("click",this.vControlsClickEventCB),this.toggleControlTimer&&clearTimeout(this.toggleControlTimer),this.vUpdateButton(),this.vToggleToggler(!0,"configurePlayerSettings"),this.vToggleMainControls(!1),this.toggleControls(!0)},renderNormalPlayer:function(e){var t=this;o.a.polyfill.installAll(),o.a.Player.isBrowserSupported()&&this.vShaka.destroy().then(function(){t.vPlayer=document.getElementById("v-player"),t.vShaka=new o.a.Player(t.vPlayer),t.vShaka.load(t.plrVideoUrl).then(function(){t.vDuration.innerHTML=t.vCalcTimeLine(t.vPlayer.duration),t.vPlayer.play(),t.vPlayer.addEventListener("loadeddata",function(){}),e&&e()})})},renderDrmPlayer:function(e){var t=this;o.a.polyfill.installAll(),o.a.Player.isBrowserSupported()&&this.vShaka.destroy().then(function(){t.vPlayer=document.getElementById("v-player"),t.vShaka=new o.a.Player(t.vPlayer),t.configureDrmPlayback(function(){t.vShaka.load(t.plrVideoUrl).then(function(){t.vDuration.innerHTML=t.vCalcTimeLine(t.vPlayer.duration),e&&e()})})})},configureDrmPlayback:function(e){function t(e){i(e.detail)}function i(e){s.showDrmNotSupportError&&3016==e.code&&(s.contentDrmBlocked=!0,s.showDrmNotSupportError=!1,r.eventBus.$emit("toggleVideoErrorPopupEvent",!0),s.vShaka&&s.vShaka.destroy().then(function(){s.configurePlayerSettings(),s.vToggleLoader(!1),s.vToggleMainControls(!1)}))}var n=this,s=this;s.showDrmNotSupportError=!0,s.showEnablePcError=!0,this.actGetDrmTickt(this.plrStreamId).then(function(i){n.licenseUrl=window.licenseUrl=i.license_server_url,n.drmTicket=window.drmTicket=i.ticket,n.vShaka.configure({drm:{servers:{"com.widevine.alpha":n.licenseUrl},advanced:{"com.widevine.alpha":{videoRobustness:"SW_SECURE_CRYPTO",audioRobustness:"SW_SECURE_CRYPTO"}}}}),n.vShaka.getNetworkingEngine().registerRequestFilter(function(e,t){o.a.util.StringUtils,o.a.util.Uint8ArrayUtils;if(e==o.a.net.NetworkingEngine.RequestType.LICENSE){var i=new Uint8Array(t.body),n={};t.allowCrossSiteCredentials=!0,n.payload=btoa(String.fromCharCode.apply(null,i)),n.content_id="undefined",n.ticket=window.drmTicket;var r=JSON.stringify(n);t.body=new Uint8Array(r.length);for(var s=0;s<r.length;++s)t.body[s]=r.charCodeAt(s)}}),n.vShaka.getNetworkingEngine().registerResponseFilter(function(e,t){o.a.util.StringUtils,o.a.util.Uint8ArrayUtils;if(e==o.a.net.NetworkingEngine.RequestType.LICENSE){var i=new Uint8Array(t.data),n=String.fromCharCode.apply(null,i),r=JSON.parse(n),s=r.license,a=atob(s);t.data=new Uint8Array(a.length);for(var l=0;l<a.length;++l)t.data[l]=a.charCodeAt(l)}}),e&&e(),window.vShaka=n.vShaka,n.vShaka.addEventListener("error",t)},function(e){if(400==e.code)return r.eventBus.$emit("togglePopupDeviceRemoved",!0),n.toggleControls(!1),void n.vToggleLoader(!1);n.vShaka.destroy().then(function(){n.vToggleToggler(!1,"configureDrmPlayback shaka destroy"),n.vToggleMainControls(!1),n.vToggleLoader(!1)}),404==e.code&&"Media not available for domain row"==e.message&&r.eventBus.$emit("toggleVideoBlockPopupEvent",!0)})},makeFullscreen:function(e){var t=document.getElementById("v-contain");document.fullscreenElement||document.mozFullScreenElement||document.webkitFullscreenElement||document.msFullscreenElement||(t.requestFullscreen?t.requestFullscreen():t.msRequestFullscreen?t.msRequestFullscreen():t.mozRequestFullScreen?t.mozRequestFullScreen():t.webkitRequestFullscreen&&t.webkitRequestFullscreen(Element.ALLOW_KEYBOARD_INPUT)),e&&e()},landscapeRotation:function(){var e=this;screen.orientation.lock("landscape").then(function(e){},function(t){e.vToggleLoader(!1),e.returnFromLoadAfterStop=!0})},screenRotationLandscape:function(){"orientation"in screen&&(matchMedia("(orientation: portrait)").matches?(this.vToggleLoader(!0),this.makeFullscreen(this.landscapeRotation)):document.fullscreenElement||document.mozFullScreenElement||document.webkitFullscreenElement||document.msFullscreenElement||(this.vContain.requestFullscreen?this.vContain.requestFullscreen():this.vContain.msRequestFullscreen?this.vContain.msRequestFullscreen():this.vContain.mozRequestFullScreen?this.vContain.mozRequestFullScreen():this.vContain.webkitRequestFullscreen&&this.vContain.webkitRequestFullscreen(Element.ALLOW_KEYBOARD_INPUT)))},hideEpisodeListingIcon:function(){switch(this.playerContent.contentType){case"trailer":case"movie":case"poster":this.episodeIdentifier=!1;break;case"episode":this.episodeIdentifier=!0;break;default:this.episodeIdentifier=!1}},vTogglePlay:function(e){var t=this,i=void 0;this.returnFromLoadAfterStop=!1,this.hideEpisodeListingIcon(),i=e||!1;var n=void 0;if(localStorage.getItem("altUser")&&(n=JSON.parse(localStorage.getItem("altUser"))),this.contentDrmBlocked)return r.eventBus.$emit("toggleVideoErrorPopupEvent",!0),void this.vToggleLoader(!1);if(!this.crossDomainCheck)return r.eventBus.$emit("toggleGeoBlockEvent",!0),document.getElementById("alt-app")&&(document.getElementById("alt-app").style.position="fixed"),void this.vToggleLoader(!1);if(this.contentGeoBlocked)return r.eventBus.$emit("toggleGeoBlockEvent",!0),void this.vToggleLoader(!1);if(this.contentRestricted)return this.playlistCallbackEvent=!1,this.vExitFullScreenMode(),n?this.playerContent.tvod?(r.eventBus.$emit("toggleRentNowPopupEvent",!0),document.getElementById("alt-app")&&(document.getElementById("alt-app").style.position="fixed")):r.eventBus.$emit("toggleSubscribePopupEvent",!0):this.playerContent.tvod?this.playerContent.isFreeContent?r.eventBus.$emit("togglePlayerSigninPopupEvent",!0):(r.eventBus.$emit("toggleRentTvodItemEvent",!0),document.getElementById("alt-app")&&(document.getElementById("alt-app").style.position="fixed")):r.eventBus.$emit("togglePlayerSigninPopupEvent",!0),void this.vToggleLoader(!1);localStorage.getItem("currentPlayerDetails")&&localStorage.getItem("currentPlayerDetails");if(this.chromecastState&&this.playerContent&&"play"==i){var o=void 0;if(o=this.playerContent,o.timeProgress=this.vPlayer.currentTime?Math.ceil(this.vPlayer.currentTime):0,this.$route.name&&"media"==this.$route.name&&(o.contentName=this.plrLoadedVideoType?this.plrLoadedVideoType:"trailer"),r.eventBus.$emit("chromecastPlayback",o),this.checkChromeCast=!0,"play"==i)return void this.vToggleLoader(!1);this.vPlayer&&!this.vPlayer.paused&&this.vPlayer.pause()}this.loaderCheck=!0,this.hidePosterPlayerScreen("block","none"),this.screenRotationLandscape(),this.vToggler.src="/src/assets/player/v2/ic_Play.png";if(("play"==i||this.nextEpisodePlayLoadMainfest)&&(this.plrVideoLoaded=!1,this.nextEpisodePlayLoadMainfest=!1),this.plrVideoLoaded){var s=this.vPlayer.paused?"play":"pause";this.vPlayer[s](),this.vToggleLoader(!1)}else this.vToggleLoader(!0),this.plrInitialized||(this.vPlayer.play(),this.plrInitialized=!0),this.plrVideoEnded&&this.plrIsDrmVideo?this.configurePlayer(function(){t.getPlayerProgress(function(){t.configureDrmPlayback(function(){t.vShaka.unload().then(function(){t.vShaka.load(t.plrVideoUrl).then(function(){},function(e){6001==e.code&&(r.eventBus.$emit("toggleEnablePcPrompt",!0),t.toggleControlTimer&&clearTimeout(t.toggleControlTimer),t.vControls.removeEventListener("click",t.vControlsClickEventCB),t.vToggler.src="/src/assets/player/v2/ic_Play.png",t.vToggleToggler(!0,"vTogglePlay plrIsDrmVideo"),t.vToggleMainControls(!1),t.vToggleLoader(!1))})})})})}):n&&this.plrIsDrmVideo?this.getPlayerProgress(function(){t.configureDrmPlayback(function(){t.vShaka.unload().then(function(){t.vShaka.load(t.plrVideoUrl).then(function(){},function(e){6001==e.code&&(r.eventBus.$emit("toggleEnablePcPrompt",!0),t.toggleControlTimer&&clearTimeout(t.toggleControlTimer),t.vControls.removeEventListener("click",t.vControlsClickEventCB),t.vToggleToggler(!0,"vTogglePlay !plrIsDrmVideo"),t.vToggleMainControls(!1),t.vToggleLoader(!1))})})})}):this.vShaka.unload().then(function(){t.vShaka.load(t.plrVideoUrl).then(function(){t.vToggler.src="/src/assets/player/v2/ic_Play.png"},function(e){6001==e.code&&(r.eventBus.$emit("toggleEnablePcPrompt",!0),t.toggleControlTimer&&clearTimeout(t.toggleControlTimer),t.vControls.removeEventListener("click",t.vControlsClickEventCB),t.vToggler.src="/src/assets/player/v2/ic_Play.png",t.vToggleToggler(!0,"vTogglePlay !plrIsDrmVideo"),t.vToggleMainControls(!1),t.vToggleLoader(!1))})})},vUpdateButton:function(){if(this.vPlayer)return this.plrVideoEnded?void(this.vToggler&&(this.vToggler.src="/src/assets/player/v2/ic_Play.png")):void(this.vToggler&&(this.vToggler.src=this.vPlayer.paused?"/src/assets/player/v2/ic_Play.png":"/src/assets/player/v2/ic_Pause.png"))},vProgressMouseDownCB:function(e){},vProgressTouchStartCB:function(e){this.vPlayer&&(this.contentSeekStartTime=this.vPlayer.currentTime)},completeEventTrigger:function(e){if(localStorage.getItem("currentPlayerDetails")&&window.mobileAnalyticsClient){var t=this.getAWSMACommonAttributes();this.countBufferFlag=!1,this.currentAWSEvent=!1;var i={progress:e},n=void 0;i.stop_time=this.vPlayer?this.vPlayer.currentTime:"N.A",n=JSON.parse(localStorage.getItem("currentPlayerDetails")),this.webenageEventTrigger("complete",e),t.event_action="complete",t.content_id=n&&n.eventAttributeObj&&n.eventAttributeObj.content_id?n.eventAttributeObj.content_id:" ",t.content_title=n&&n.eventAttributeObj&&n.eventAttributeObj.content_title?n.eventAttributeObj.content_title.toLowerCase():" ",t.content_type=n&&n.eventAttributeObj&&n.eventAttributeObj.content_type?n.eventAttributeObj.content_type:" ",t.content_streamid=n&&n.eventAttributeObj&&n.eventAttributeObj.content_streamid?n.eventAttributeObj.content_streamid:"",t.content_url=n&&n.eventAttributeObj&&n.eventAttributeObj.content_url?n.eventAttributeObj.content_url:" ",t.content_duration=n&&n.eventAttributeObj&&n.eventAttributeObj.content_duration?n.eventAttributeObj.content_duration:"",n&&n.currentPlayerType&&"episode"==n.currentPlayerType&&(t.parent_content_title=n&&n.eventAttributeObj&&n.eventAttributeObj.parent_content_title?n.eventAttributeObj.parent_content_title.toLowerCase():""),window.mobileAnalyticsClient.recordEvent("_content.playback",t,i),localStorage.removeItem("currentPlayerDetails")}},vHandleProgress:function(){if(this.vPlayer&&(this.vProgress.value=this.vPlayer.currentTime/this.vPlayer.duration*100,this.vCurrentTime.innerHTML=this.vCalcTimeLine(this.vPlayer.currentTime),this.showComUpNextTimeNextEpisodeCountDown=Math.ceil(this.vPlayer.duration-this.vPlayer.currentTime)),this.playerPlaylist&&this.playerPlaylist.length&&this.vPlayer&&this.vPlayer.duration&&this.vPlayer.currentTime&&this.showComUpNextTime&&this.vPlayer.duration-this.vPlayer.currentTime<this.showComUpNextTime?this.showComUpNextTag=!0:this.showComUpNextTag=!1,this.vPlayer&&this.vPlayer.currentTime&&this.playerContent&&this.playerContent.skipIntro){var e=Math.floor(this.vPlayer.currentTime),t=parseInt(this.playerContent.skipIntro.startskipintro),i=this.playerContent.skipIntro.endskipintro?parseInt(this.playerContent.skipIntro.endskipintro):void 0;this.ShowSkipTag=e>=t&&e<=i}if(this.vPlayer&&this.vPlayer.currentTime){var n=void 0;n=this.vPlayer.currentTime/this.vPlayer.duration*100;var o=void 0,r=void 0;r=localStorage.getItem("altConfig")?JSON.parse(localStorage.getItem("altConfig")):void 0,o=r&&r.webEngage&&r.webEngage.completePercentage?100*parseFloat(r.webEngage.completePercentage):90,n>=o&&this.completeEventTrigger(n)}},vLoadedData:function(){var e=this;if(this.playRelatedEpisodeClickFlag=!1,this.flagRouteChanged=!1,this.vToggleLoader(!0),this.returnFromLoadAfterStop)return this.vToggleLoader(!1),this.vPlayer&&!this.vPlayer.paused&&this.vPlayer.pause(),void this.hideVideoController(!1);if(this.vToggler&&(this.vToggler.src="/src/assets/player/v2/ic_Play.png"),this.plrVideoEnded=!1,this.continueProgress&&"trailer"!=this.plrLoadedVideoType&&(this.vPlayer.currentTime=this.continueProgress),this.vPlayer.play(),this.vDuration.innerHTML=this.vCalcTimeLine(this.vPlayer.duration),this.vUpdateButton(),this.plrVideoLoaded=!0,this.plrContentLength=this.vPlayer.duration,this.vToggleMainControls(!0),this.toggleControls(!0),this.vToggleLoader(!1),this.toggleControlTimer&&clearTimeout(this.toggleControlTimer),this.toggleControlTimer=setTimeout(function(){e.toggleControls(!1),e.vToggleMainControls(!1),e.vToggleToggler(!1,"vLoadedData toggleControlTimer")},this.toggleCtrlTimerTime),document.getElementById("v-progress").style.display="block",window.mobileAnalyticsClient){var t=this.getAWSMACommonAttributes();t.content_id=this.playerContent&&this.playerContent.id?this.playerContent.id:null,t.content_title=this.playerContent&&this.playerContent.title?this.playerContent.title.toLowerCase():null,t.content_streamid=this.playerContent&&this.playerContent.stream&&this.playerContent.stream.streamId?this.playerContent.stream.streamId:null,t.content_url=this.$route.path,t.content_type=this.playerContent&&this.playerContent.contentType?this.playerContent.contentType:null,t.content_duration=this.vPlayer&&this.vPlayer.duration?this.vPlayer.duration:null;var i=this.getPlayerEventMode();t.event_mode=i||"N.A";if(this.$route.name&&"show"==this.$route.name&&(t.content_type="trailer",this.playerContent&&this.playerContent.trailer&&(t.content_streamid=this.playerContent&&this.playerContent.trailer&&this.playerContent.trailer.trailerId?this.playerContent.trailer.trailerId:null)),this.$route.name&&"media"==this.$route.name&&"trailer"==this.plrLoadedVideoType&&(t.content_type="trailer"),this.$route.name&&"episode"==this.$route.name){var n="Ep"+this.playerContent.episodeNumber+"-"+this.playerContent.title;t.content_title=n.toLowerCase(),this.playerContent&&this.playerContent.seriesId,this.playerContent&&this.playerContent.seriesTitle&&(t.parent_content_title=this.playerContent.seriesTitle.toLowerCase())}t.event_action="start",localStorage.setItem("currentPlayerDetails",JSON.stringify({eventAttributeObj:t,currentPlayerType:this.$route.name})),this.currentAWSEvent=!0;var o=this.vPlayer.currentTime/this.vPlayer.duration*100;o=isNaN(o)?0:o;var r=this.vPlayer?this.vPlayer.currentTime:"N.A",s={start_time:r,progress:o};window.mobileAnalyticsClient.recordEvent("_content.playback",t,s),this.webenageEventTrigger("start",o)}"trailer"==this.plrLoadedVideoType?this.showTagTrailer=!0:this.showTagTrailer=!1,this.comingSoonTag?this.showTagComingsoon=!0:this.showTagComingsoon=!1;var a=void 0;localStorage.getItem("altUser")&&(a=JSON.parse(localStorage.getItem("altUser")));var l=void 0;if(a&&localStorage.getItem("altOrder")&&(l=JSON.parse(localStorage.getItem("altOrder"))),this.playerContent)if(a){if(this.showTagLogin=!1,"episode"==this.playerContent.contentType)return this.showTagSubscribe=!1,void(this.showTagRentTvod=!1);if(this.showTagGeoCtaCheck?this.showTagGeoCta=!0:this.showTagGeoCta=!1,l&&l.subscription&&l.subscription.hasOrder&&0==l.subscription.expired)return this.showTagSubscribe=!1,void(this.showTagRentTvod=!1);if(this.playerContent.isFreeContent||this.playerContent.anonymousAccess||this.playerContent.comingSoon)return this.showTagSubscribe=!1,void(this.showTagRentTvod=!1);if(this.playerContent.tvod){this.showTagSubscribe=!1;var d=localStorage.getItem("homeDomain").toLowerCase();if(l&&l.tvod&&l.tvod.hasOrder){var h=void 0;for(h in l.tvod.products){if(l.tvod.products[h].product.id==this.playerContent.tvod[d]){this.showTagRentTvod=!1;break}this.showTagRentTvod=this.altMessages.playerRentSubscribeLabel}}else this.showTagRentTvod=this.altMessages.playerRentSubscribeLabel}else this.showTagRentTvod=!1,this.showTagSubscribe=this.altMessages.playerSubscribeLabel;this.showTagGeoCtaCheck?this.showTagGeoCta=!0:this.showTagGeoCta=!1}else if(this.playerContent.tvod){if("episode"==this.playerContent.contentType)return;this.showTagLogin=this.altMessages.playerSignInToRentLabel}else{if(this.playerContent.anonymousAccess||this.playerContent.comingSoon)return void(this.showTagLogin=!1);"movie"==this.playerContent.contentType&&this.playerContent.isFreeContent?this.showTagLogin=this.altMessages.playerSignInLabel:this.showTagLogin=this.altMessages.playerSignInAndSubscribeLabel}},vResetForReplay:function(){this.vPlayer.currentTime=0,this.vCurrentTime.innerHTML=this.vCalcTimeLine(0),this.vProgress.value=0,this.vDuration.innerHTML=this.vCalcTimeLine(isNaN(this.vPlayer.duration)?0:this.vPlayer.duration),this.updateButton(!0)},vCanPlayThroughCB:function(){},getTitleNameWebEnage:function(){if(!this.playerContent)return"";var e="";return"trailer"==this.playerContent.contentType?(this.playerContent.contentId,e=this.playerContent.seriesTitle?this.playerContent.seriesTitle:this.playerContent.title):"series"==this.playerContent.contentType||"standup"==this.playerContent.contentType?(this.playerContent.seriesId,e=this.playerContent.seriesTitle?this.playerContent.seriesTitle:this.playerContent.title):"movie"==this.playerContent.contentType?(this.playerContent.contentId,e=this.playerContent.seriesTitle?this.playerContent.seriesTitle:this.playerContent.title):"episode"==this.playerContent.contentType&&(this.playerContent.contentId,this.playerContent.seasonId,this.playerContent.seriesId,e=this.playerContent.seriesTitle?this.playerContent.seriesTitle:this.playerContent.title),e},webenageEventTrigger:function(e,t){if("pause"!=e&&"resume"!=e&&"stop"!=e){var i=this.altDetectPlatform(),n=void 0;localStorage.getItem("altGeoData")&&(n=JSON.parse(localStorage.getItem("altGeoData")));var o=this.playerContent&&this.playerContent.contentType?String(this.playerContent.contentType):"N.A",r={gt_content_parent_title:this.getTitleNameWebEnage()?this.getTitleNameWebEnage():"",gt_episode_title:this.playerContent&&this.playerContent.title&&this.playerContent.seriesTitle?this.playerContent.title:"",gt_platform:i&&i.os&&i.osVersion?i.os+" "+i.osVersion:" ",gt_device_make:i&&i.device_model?i.device_model:" ",gt_country:n&&n.country&&n.country.names&&n.country.names.en?n.country.names.en:"",gt_city:n&&n.city&&n.city.names&&n.city.names.en?String(n.city.names.en):"",gt_device_timestamp:new Date,gt_content_source:localStorage.getItem("AWSMA_content_source")?localStorage.getItem("AWSMA_content_source"):"",gt_content_id:this.playerContent&&this.playerContent.id?this.playerContent.id:"",gt_content_type:o,gt_content_alt_id:this.playerContent&&this.playerContent.externalId?this.playerContent.externalId:"",gt_episode_count:this.playerContent&&this.playerContent.episodeNumber?this.playerContent.episodeNumber:"",gt_playback_mode:"live",gt_playback_media_type:this.playerContent&&this.playerContent.isFreeContent?"free":"paid",gt_playback_state:e||"",percentage_video_played:t};"episode"==o&&("start"==e?(r.gt_episode_thumbnail_url=this.playerContent&&this.playerContent.images&&this.playerContent.images.webengage?this.playerContent.images.webengage:"",r.gt_episode_description=this.playerContent&&this.playerContent.shortDescription?this.playerContent.shortDescription:""):"complete"==e&&(r.gt_next_episode_thumbnail_url=this.gt_next_episode_thumbnail_url&&this.gt_next_episode_id!=this.playerContent.id?this.gt_next_episode_thumbnail_url:"",r.gt_next_episode_description=this.gt_next_episode_description&&this.gt_next_episode_id!=this.playerContent.id?this.gt_next_episode_description:"",r.gt_next_episode_id=this.gt_next_episode_id&&this.gt_next_episode_id!=this.playerContent.id?this.gt_next_episode_id:"")),webengage&&webengage.track("gt_play",r)}},vPlayEventCB:function(){var e=this;if(this.playNextPlaylistItemFlag=!1,this.vUpdateButton(),this.toggleControlTimer&&clearTimeout(this.toggleControlTimer),this.toggleControlTimer=setTimeout(function(){e.toggleControls(!1),e.vToggleToggler(!1,"vPlayEventCB toggleControlTimer"),e.vToggleMainControls(!1)},this.toggleCtrlTimerTime),this.vControls.addEventListener("click",this.vControlsClickEventCB),"trailer"==this.plrLoadedVideoType&&r.eventBus.$emit("plrPlayingTrailerEvent",!0),window.mobileAnalyticsClient&&this.plrVideoLoaded){var t=this.getAWSMACommonAttributes();if(t.content_id=this.playerContent&&this.playerContent.id?this.playerContent.id:null,t.content_streamid=this.playerContent&&this.playerContent.stream&&this.playerContent.stream.streamId?this.playerContent.stream.streamId:null,t.content_title=this.playerContent&&this.playerContent.title?this.playerContent.title.toLowerCase():null,t.content_url=this.$route.path,t.content_type=this.playerContent&&this.playerContent.contentType?this.playerContent.contentType:null,t.content_duration=this.vPlayer&&this.vPlayer.duration?this.vPlayer.duration:null,this.$route.name&&"show"==this.$route.name&&(t.content_type="trailer",this.playerContent&&this.playerContent.trailer&&(t.content_streamid=this.playerContent&&this.playerContent.trailer&&this.playerContent.trailer.trailerId?this.playerContent.trailer.trailerId:null)),this.$route.name&&"episode"==this.$route.name){var i="Ep"+this.playerContent.episodeNumber+"-"+this.playerContent.title;t.content_title=i.toLowerCase(),this.playerContent&&this.playerContent.seriesId,this.playerContent&&this.playerContent.seriesTitle&&(t.parent_content_title=this.playerContent.seriesTitle.toLowerCase())}this.$route.name&&"media"==this.$route.name&&"trailer"==this.plrLoadedVideoType&&(t.content_type="trailer");t.event_action="resume";var n=this.getPlayerEventMode();t.event_mode=n||"N.A";var o=this.vPlayer.currentTime/this.vPlayer.duration*100;o=isNaN(o)?0:o;var s=this.vPlayer?this.vPlayer.currentTime:"N.A",a={start_time:s,progress:o};if(this.currentAWSEvent)return;window.mobileAnalyticsClient.recordEvent("_content.playback",t,a)}if(this.playerContent){var l="";"trailer"==this.playerContent.contentType?(this.playerContent.contentId,l=this.playerContent.seriesTitle?this.playerContent.seriesTitle:this.playerContent.title):"series"==this.playerContent.contentType||"standup"==this.playerContent.contentType?(this.playerContent.seriesId,l=this.playerContent.seriesTitle?this.playerContent.seriesTitle:this.playerContent.title):"movie"==this.playerContent.contentType?(this.playerContent.contentId,l=this.playerContent.seriesTitle?this.playerContent.seriesTitle:this.playerContent.title):"episode"==this.playerContent.contentType&&(this.playerContent.contentId,this.playerContent.seasonId,this.playerContent.seriesId,l=this.playerContent.seriesTitle?this.playerContent.seriesTitle:this.playerContent.title);var d=this.altDetectPlatform(),h=void 0;localStorage.getItem("altGeoData")&&(h=JSON.parse(localStorage.getItem("altGeoData"))),window.dataLayer=window.dataLayer||[],window.dataLayer.push({event:"gt_play",eventAction:"playback",eventCategory:"gt_play",eventLabel:"playback",eventValue:1,gtl_content_parent_title:l||"",gtl_episode_title:this.playerContent&&this.playerContent.title&&this.playerContent.seriesTitle?this.playerContent.title:"",gtl_platform:d&&d.os&&d.osVersion?d.os+" "+d.osVersion:" ",gtl_device_make:d&&d.device_model?d.device_model:" ",gtl_country:h&&h.country&&h.country.names&&h.country.names.en?h.country.names.en:"",gtl_city:h&&h.city&&h.city.names&&h.city.names.en?h.city.names.en:"",gtl_device_timestamp:(new Date).getTime(),gtl_content_source:localStorage.getItem("AWSMA_content_source")?localStorage.getItem("AWSMA_content_source"):"",gtl_content_id:this.playerContent&&this.playerContent.id?this.playerContent.id:"",gtl_content_type:this.playerContent&&this.playerContent.contentType?this.playerContent.contentType:"",gtl_content_alt_id:this.playerContent&&this.playerContent.externalId?this.playerContent.externalId:"",gtl_episode_count:this.playerContent&&this.playerContent.episodeNumber?this.playerContent.episodeNumber:""})}},vPauseEventCB:function(){if(this.vUpdateButton(),this.toggleControlTimer&&clearTimeout(this.toggleControlTimer),this.vToggleToggler(!0,"vPauseEventCB"),this.vToggleMainControls(!0),this.toggleControls(!0),0!=this.plrVideoLoaded||!this.plrVideoEnded||!this.playNextPlaylistItemFlag){if(window.mobileAnalyticsClient){var e=this.getAWSMACommonAttributes();if(e.content_id=this.playerContent&&this.playerContent.id?this.playerContent.id:null,e.content_streamid=this.playerContent&&this.playerContent.stream&&this.playerContent.stream.streamId?this.playerContent.stream.streamId:null,e.content_title=this.playerContent&&this.playerContent.title?this.playerContent.title.toLowerCase():null,e.content_url=this.$route.path,e.content_type=this.playerContent&&this.playerContent.contentType?this.playerContent.contentType:null,e.content_duration=this.vPlayer&&this.vPlayer.duration?this.vPlayer.duration:null,this.$route.name&&"show"==this.$route.name&&(e.content_type="trailer",this.playerContent&&this.playerContent.trailer&&(e.content_streamid=this.playerContent&&this.playerContent.trailer&&this.playerContent.trailer.trailerId?this.playerContent.trailer.trailerId:null)),this.$route.name&&"episode"==this.$route.name){var t=this.playerContent&&this.playerContent.episodeNumber?this.playerContent.episodeNumber:"N.A",i=this.playerContent&&this.playerContent.title?this.playerContent.title:"N.A",n="Ep"+t+"-"+i;e.content_title=n.toLowerCase(),this.playerContent&&this.playerContent.seriesId,this.playerContent&&this.playerContent.seriesTitle&&(e.parent_content_title=this.playerContent.seriesTitle.toLowerCase())}this.$route.name&&"media"==this.$route.name&&"trailer"==this.plrLoadedVideoType&&(e.content_type="trailer");var o=this.playRelatedEpisodeClickFlag||this.flagRouteChanged?"stop":"pause";"stop"==o&&(this.returnFromLoadAfterStop=!0,this.nextEpisodePlayLoadMainfest=!0),this.currentAWSEvent=!1;var r=this.vPlayer.currentTime/this.vPlayer.duration*100;r=isNaN(r)?0:r,e.event_action=o;var s=this.getPlayerEventMode();e.event_mode=s||"N.A";var a={progress:r};if("stop"==o){var l=void 0;localStorage.getItem("currentPlayerDetails")&&(a.stop_time=this.vPlayer&&this.vPlayer.currentTime?this.vPlayer.currentTime:"N.A",l=JSON.parse(localStorage.getItem("currentPlayerDetails")),e.content_id=l&&l.eventAttributeObj&&l.eventAttributeObj.content_id?l.eventAttributeObj.content_id:" ",e.content_title=l&&l.eventAttributeObj&&l.eventAttributeObj.content_title?l.eventAttributeObj.content_title.toLowerCase():" ",e.content_type=l&&l.eventAttributeObj&&l.eventAttributeObj.content_type?l.eventAttributeObj.content_type:" ",e.content_streamid=l&&l.eventAttributeObj&&l.eventAttributeObj.content_streamid?l.eventAttributeObj.content_streamid:"",e.content_url=l&&l.eventAttributeObj&&l.eventAttributeObj.content_url?l.eventAttributeObj.content_url:" ",e.content_duration=l&&l.eventAttributeObj&&l.eventAttributeObj.content_duration?l.eventAttributeObj.content_duration:"",l&&l.currentPlayerType&&"episode"==l.currentPlayerType&&(e.parent_content_title=l&&l.eventAttributeObj&&l.eventAttributeObj.parent_content_title?l.eventAttributeObj.parent_content_title.toLowerCase():""),window.mobileAnalyticsClient.recordEvent("_content.playback",e,a),localStorage.removeItem("currentPlayerDetails"))}"pause"==o&&a&&100==a.progress&&(o="complete"),"complete"!=o&&"stop"!=o&&window.mobileAnalyticsClient.recordEvent("_content.playback",e,a)}var d=void 0;if(localStorage.getItem("altUser")&&(d=!0),d){var h=(this.$route.name,this.$route.params.id),c=this.vPlayer?this.vPlayer.currentTime:void 0,p=this.vPlayer?this.vPlayer.duration:void 0;h&&this.plrVideoLoaded&&h==this.id&&this.updateMediaProgress(this.id,c,p)}}},updateMediaProgressList:function(){var e=Math.round(this.vPlayer.duration),t=Math.round(this.vPlayer.currentTime),i=Math.ceil(t/e*100);if(i=0==i?100:i,!isNaN(e)&&!isNaN(i)){var n={media_id:this.mediaId,progress:i,length:e};if(localStorage.getItem("mediaProgressList")){var o=JSON.parse(localStorage.getItem("mediaProgressList")),r=this.getUniqueProgressList(n,o);localStorage.setItem("mediaProgressList",JSON.stringify(r))}else{var o=new Array;o.push(n),localStorage.setItem("mediaProgressList",JSON.stringify(o))}}},updateMediaProgress:function(e,t,i){if("trailer"!=this.plrLoadedVideoType&&t&&i&&!isNaN(t)&&!isNaN(i)){t=t>i?i:t,this.actPutPlayerProgress({media_id:e,progress:t}).then(function(e){},function(e){});var n=Math.ceil(Math.round(t)/Math.round(i)*100),o={media_id:e,progress:n,length:i};if(localStorage.getItem("mediaProgressList")){var r=JSON.parse(localStorage.getItem("mediaProgressList")),s=this.getUniqueProgressList(o,r);localStorage.setItem("mediaProgressList",JSON.stringify(s))}else{var r=new Array;r.push(o),localStorage.setItem("mediaProgressList",JSON.stringify(r))}}},vEndedCB:function(){var e=this;this.toggleControlTimer&&clearTimeout(this.toggleControlTimer),this.vControls.removeEventListener("click",this.vControlsClickEventCB),this.vToggleToggler(!1,"vEndedCB"),this.vToggleMainControls(!1),this.toggleControls(!1),this.plrVideoEnded=!0,this.plrVideoLoaded=!1,this.showTagLogin=!1,this.showTagSubscribe=!1,this.showTagGeoCta=!1;var t=100,i=void 0;if(this.vPlayer&&(t=this.vPlayer.currentTime/this.vPlayer.duration*100,t=isNaN(t)?100:t,i=this.vPlayer.currentTime),this.playerPlaylist&&this.playerPlaylist.length)return this.playNextPlaylistItemFlag=!0,void this.vShaka.unload().then(function(){e.playNextPlaylistItem()});var n=void 0;if(localStorage.getItem("altUser")&&(n=JSON.parse(localStorage.getItem("altUser"))),"trailer"==this.plrLoadedVideoType){if("movie"==this.playerContent.contentType)if(n){if(this.playerContent.stream&&(this.playerContent.isFreeContent||this.playerContent.userHasAccess))return this.plrIsDrmVideo=!0,void this.vShaka.unload().then(function(){if(e.playMovieBtnClickCB(),window.mobileAnalyticsClient){var n=e.getAWSMACommonAttributes();if(n.content_id=e.playerContent&&e.playerContent.id?e.playerContent.id:null,n.content_streamid=e.playerContent&&e.playerContent.stream&&e.playerContent.stream.streamId?e.playerContent.stream.streamId:null,n.content_title=e.playerContent&&e.playerContent.title?e.playerContent.title.toLowerCase():null,n.content_url=e.$route.path,n.content_type=e.playerContent&&e.playerContent.contentType?e.playerContent.contentType:null,n.content_duration=e.vPlayer&&e.vPlayer.duration?e.vPlayer.duration:null,e.$route.name&&"episode"==e.$route.name){var o="Ep"+e.playerContent.episodeNumber+"-"+e.playerContent.title;n.content_title=o.toLowerCase(),e.playerContent&&e.playerContent.seriesId,e.playerContent&&e.playerContent.seriesTitle&&(n.parent_content_title=e.playerContent.seriesTitle.toLowerCase())}n.event_action="complete";var r=e.getPlayerEventMode();n.event_mode=r||"N.A";var s={progress:t,stop_time:i};window.mobileAnalyticsClient.recordEvent("_content.playback",n,s)}})}else if(this.playerContent.anonymousAccess&&this.playerContent.stream)return this.plrIsDrmVideo=!1,void this.vShaka.unload().then(function(){if(e.playMovieBtnClickCB(),window.mobileAnalyticsClient){var n=e.getAWSMACommonAttributes();if(n.content_id=e.playerContent&&e.playerContent.id?e.playerContent.id:null,n.content_streamid=e.playerContent&&e.playerContent.stream&&e.playerContent.stream.streamId?e.playerContent.stream.streamId:null,n.content_title=e.playerContent&&e.playerContent.title?e.playerContent.title.toLowerCase():null,n.content_url=e.$route.path,n.content_type=e.playerContent&&e.playerContent.contentType?e.playerContent.contentType:null,n.content_duration=e.vPlayer&&e.vPlayer.duration?e.vPlayer.duration:null,e.$route.name&&"episode"==e.$route.name){var o="Ep"+e.playerContent.episodeNumber+"-"+e.playerContent.title;n.content_title=o.toLowerCase(),e.playerContent&&e.playerContent.seriesId,e.playerContent&&e.playerContent.seriesTitle&&(n.parent_content_title=e.playerContent.seriesTitle.toLowerCase())}n.event_action="complete";var r=e.getPlayerEventMode();n.event_mode=r||"N.A";var s={progress:t,stop_time:i};window.mobileAnalyticsClient.recordEvent("_content.playback",n,s)}});r.eventBus.$emit("plrPlayingTrailerEvent",!1)}"movie"==this.plrLoadedVideoType&&(this.plrIsDrmVideo=!!n),this.vShaka.unload().then(function(){e.vUpdateButton(),e.vToggleMainControls(!1),e.vToggleToggler(!0,"vEndedCB unload"),e.toggleControls(!0)}),this.vLoadedEndedCB()},vLoadedEndedCB:function(){if(this.showComUpNextTag||(this.vExitFullScreenMode(),r.eventBus.$emit("togglePlayerScreenEvent",!1)),"movie"!=!this.playerContent.contentType){var e=void 0;localStorage.getItem("altUser")&&(e=JSON.parse(localStorage.getItem("altUser")));var t=void 0;if(e&&localStorage.getItem("altOrder")&&(t=JSON.parse(localStorage.getItem("altOrder"))),"trailer"==this.plrLoadedVideoType&&this.trailerCountinueGeoCheck)return void r.eventBus.$emit("toggleGeoBlockEvent",!0);if("trailer"==this.plrLoadedVideoType||"episode"==this.plrLoadedVideoType||"movie"==this.plrLoadedVideoType)if(e){if(t&&t.subscription&&t.subscription.hasOrder&&0==t.subscription.expired)return!1;r.eventBus.$emit("toggleSubscribePopupEvent",!0)}else r.eventBus.$emit("toggleSigninPopupEvent",!0)}},vSeekingCB:function(e){},vSeekedCB:function(e){this.vPlayer&&this.vPlayer.paused&&(this.toggleControlTimer&&clearTimeout(this.toggleControlTimer),this.vToggleToggler(!0,"vSeekedCB"),this.vToggleMainControls(!0),this.toggleControls(!0))},vHanleError:function(e){},vShakaBufferingCB:function(e){if(this.isVPlayerBuffering=e.buffering,e.buffering&&(this.contentBufferStartTime=e.timeStamp),e.buffering||(this.contentBufferStopTime=e.timeStamp),this.plrVideoLoaded&&(this.vToggleLoader(e.buffering),window.mobileAnalyticsClient)){var t=this.getAWSMACommonAttributes();if(t.content_id=this.playerContent&&this.playerContent.id?this.playerContent.id:null,t.content_streamid=this.playerContent&&this.playerContent.stream&&this.playerContent.stream.streamId?this.playerContent.stream.streamId:null,t.content_title=this.playerContent&&this.playerContent.title?this.playerContent.title.toLowerCase():null,t.content_url=this.$route.path,t.content_type=this.playerContent&&this.playerContent.contentType?this.playerContent.contentType:null,t.content_duration=this.vPlayer&&this.vPlayer.duration?this.vPlayer.duration:null,this.$route.name&&"show"==this.$route.name&&(t.content_type="trailer",this.playerContent&&this.playerContent.trailer&&(t.content_streamid=this.playerContent&&this.playerContent.trailer&&this.playerContent.trailer.trailerId?this.playerContent.trailer.trailerId:null)),this.$route.name&&"episode"==this.$route.name){var i="Ep"+this.playerContent.episodeNumber+"-"+this.playerContent.title;t.content_title=i.toLowerCase(),this.playerContent&&this.playerContent.seriesId,this.playerContent&&this.playerContent.seriesTitle&&(t.parent_content_title=this.playerContent.seriesTitle.toLowerCase())}if(this.$route.name&&"media"==this.$route.name&&"trailer"==this.plrLoadedVideoType&&(t.content_type="trailer"),e.buffering);else{if(!this.countBufferFlag)return void(this.countBufferFlag=!0);var n=Math.abs((this.contentBufferStopTime-this.contentBufferStartTime)/1e3),o=void 0,r=void 0,s=void 0;this.currentAWSEvent=!1;var a=this.getAWSMACommonAttributes();if(a.content_id=this.playerContent&&this.playerContent.id?this.playerContent.id:null,a.content_streamid=this.playerContent&&this.playerContent.stream&&this.playerContent.stream.streamId?this.playerContent.stream.streamId:null,a.content_title=this.playerContent&&this.playerContent.title?this.playerContent.title.toLowerCase():null,a.content_url=this.$route.path,a.content_type=this.playerContent&&this.playerContent.contentType?this.playerContent.contentType:null,a.content_duration=this.vPlayer&&this.vPlayer.duration?this.vPlayer.duration:null,this.$route.name&&"show"==this.$route.name&&(a.content_type="trailer",this.playerContent&&this.playerContent.trailer&&(a.content_streamid=this.playerContent&&this.playerContent.trailer&&this.playerContent.trailer.trailerId?this.playerContent.trailer.trailerId:null)),this.$route.name&&"episode"==this.$route.name){var l="Ep"+this.playerContent.episodeNumber+"-"+this.playerContent.title;a.content_title=l.toLowerCase(),this.playerContent&&this.playerContent.seriesId&&(a.parent_content_id=this.playerContent.seriesId),this.playerContent&&this.playerContent.seriesTitle&&(a.parent_content_title=this.playerContent.seriesTitle.toLowerCase())}this.$route.name&&"media"==this.$route.name&&"trailer"==this.plrLoadedVideoType&&(a.content_type="trailer"),r="buffer",a.event_action=r;var d=this.getPlayerEventMode();a.event_mode=d||"N.A",s=this.vPlayer?this.vPlayer.currentTime:"N.A",o={start_time:s,duration:n},window.mobileAnalyticsClient.recordEvent("_content.playback",a,o),r="resume";var h=this.vPlayer.paused?"pause":"play";t.event_action=r;var c=this.getPlayerEventMode();t.event_mode=c||"N.A";var p=this.vPlayer.currentTime/this.vPlayer.duration*100;p=isNaN(p)?0:p,s=this.vPlayer?this.vPlayer.currentTime:"N.A",o={start_time:s,progress:p},"play"==h&&window.mobileAnalyticsClient.recordEvent("_content.playback",t,o)}}},vBuggeringCB:function(e){this.vToggleLoader(e.buffering)},vControlsClickEventCB:function(){var e=this;this.toggleControls(!0),this.vToggleToggler(!0,"vControlsClickEventCB"),this.vToggleMainControls(!0),this.toggleControlTimer&&clearTimeout(this.toggleControlTimer),this.toggleControlTimer=setTimeout(function(){e.toggleControls(!1),e.vToggleToggler(!1,"vControlsClickEventCB toggleControlTimer"),e.vToggleMainControls(!1)},this.toggleCtrlTimerTime)},vSeek:function(e){var t=this;this.vPlayer.removeEventListener("timeupdate",this.vHandleProgress),this.toggleControlTimer&&clearTimeout(this.toggleControlTimer),this.toggleControlTimer=setTimeout(function(){t.toggleControls(!1)},this.toggleCtrlTimerTime)},contentSeeked:function(e){this.vPlayer.addEventListener("timeupdate",this.vHandleProgress);var t=this.vPlayer.currentTime;this.showComUpNextTag=!1,this.vPlayer.currentTime=parseFloat(e.target.value/100)*this.vPlayer.duration;var i=parseInt(e.target.value);this.playerContent.durationInSec;if(this.contentSeekStopTime=this.vPlayer.currentTime,window.mobileAnalyticsClient){var n=this.getAWSMACommonAttributes();if(n.content_id=this.playerContent&&this.playerContent.id?this.playerContent.id:null,n.content_streamid=this.playerContent&&this.playerContent.stream&&this.playerContent.stream.streamId?this.playerContent.stream.streamId:null,n.content_title=this.playerContent&&this.playerContent.title?this.playerContent.title.toLowerCase():null,n.content_url=this.$route.path,n.content_type=this.playerContent&&this.playerContent.contentType?this.playerContent.contentType:null,n.content_duration=this.vPlayer?this.vPlayer.duration:null,this.$route.name&&"show"==this.$route.name&&(n.content_type="trailer",this.playerContent&&this.playerContent.trailer&&(n.content_streamid=this.playerContent&&this.playerContent.trailer&&this.playerContent.trailer.trailerId?this.playerContent.trailer.trailerId:null)),this.$route.name&&"episode"==this.$route.name){var o="Ep"+this.playerContent.episodeNumber+"-"+this.playerContent.title;n.content_title=o.toLowerCase(),this.playerContent&&this.playerContent.seriesId,this.playerContent&&this.playerContent.seriesTitle&&(n.parent_content_title=this.playerContent.seriesTitle.toLowerCase())}this.$route.name&&"media"==this.$route.name&&"trailer"==this.plrLoadedVideoType&&(n.content_type="trailer"),n.event_action="seek",this.currentAWSEvent=!1;var r=this.getPlayerEventMode();n.event_mode=r||"N.A";var s=t,a=this.contentSeekStopTime,l={start_time:s,stop_time:a};window.mobileAnalyticsClient.recordEvent("_content.playback",n,l)}},vErrorCB:function(e){},vStalledCB:function(e){},playTrailerBtnClickCB:function(){var e=this;this.checkChromeCast=!1,this.plrLoadedVideoTypeMovieTrailer="trailer",this.nextEpisodePlayLoadMainfest=!0,this.stopTriggerForMovieTrilerSwitch(),this.vToggleMainControls(!1),this.vPlayer&&!this.vPlayer.paused&&(this.vPlayer.pause(),this.vPauseEventCB()),this.plrVideoLoaded=!1,this.plrTrailerUrl&&(this.plrVideoUrl=this.plrTrailerUrl),this.plrIsDrmVideo=!1,this.continueProgress=void 0,this.configurePlayer(function(){e.vTogglePlay(),e.plrLoadedVideoType="trailer"})},playMovieBtnClickCB:function(){var e=this;this.nextEpisodePlayLoadMainfest=!0,this.stopTriggerForMovieTrilerSwitch(),this.checkChromeCast=!1,this.plrLoadedVideoTypeMovieTrailer="movie",r.eventBus.$emit("plrPlayingMovieEvent",!0),this.vToggleMainControls(!1),this.vPlayer&&!this.vPlayer.paused&&this.vPlayer.pause(),this.plrStreamUrl&&(this.plrVideoUrl=this.plrStreamUrl),this.plrVideoLoaded=!1;var t=void 0;localStorage.getItem("altUser")&&(t=JSON.parse(localStorage.getItem("altUser"))),this.plrIsDrmVideo?this.altUser?this.getPlayerProgress(function(){e.configurePlayer(function(){e.configureDrmPlayback(function(){e.vTogglePlay(),e.plrLoadedVideoType="movie"})})}):this.configurePlayer(function(){e.vTogglePlay(),e.plrLoadedVideoType="movie"}):t?this.getPlayerProgress(function(){e.configurePlayer(function(){e.configureDrmPlayback(function(){e.vTogglePlay(),e.plrLoadedVideoType="movie"})})}):this.configurePlayer(function(){e.vTogglePlay(),e.plrLoadedVideoType="movie"})},rentRedirect:function(){localStorage.setItem("session_track_link",window.location.href),this.$router.push({name:"rent",params:{type:"show",id:this.seriesId}})},subscribeRedirect:function(){localStorage.setItem("session_track_link",window.location.href),this.$router.push({name:"subscribe"})},playTrailerCallback:function(){this.vPlayer&&this.vToggleControls(!1),"STREAM"==this.loadedContent&&this.vPlayer&&!this.vPlayer.paused&&this.vPauseEventCB(),this.contentRestricted=!1,this.loadedContent="TRAILER",this.progressId=void 0,this.continueProgress=0,this.plrIsDrmVideo=!1,this.manifestUrl=this.playerContent.trailer.trailerUrl,this.renderNormalPlayer(function(){r.eventBus.$off("playTrailerEvent")})},playStreamCB:function(){var e=this;r.eventBus.$off("playStreamEvent"),this.vPlayer&&this.vToggleControls(!1),this.contentRestricted=!1,this.loadedContent="STREAM",this.manifestUrl=this.playerContent.stream.streamUrl,this.streamId=this.playerContent.stream.streamId,this.drmType=this.playerContent.stream.drm,this.drmType?localStorage.getItem("altUser")?this.getPlayerProgress(function(){e.renderDrmPlayer(function(){e.vTogglePlay(),r.eventBus.$on("playStreamEvent",e.playStreamCB)})}):this.renderDrmPlayer(function(){e.vTogglePlay(),r.eventBus.$on("playStreamEvent",e.playStreamCB)}):localStorage.getItem("altUser")?this.getPlayerProgress(function(){e.renderNormalPlayer(function(){e.vTogglePlay(),r.eventBus.$on("playStreamEvent",e.playStreamCB)})}):this.renderNormalPlayer(function(){e.vTogglePlay(),r.eventBus.$on("playStreamEvent",e.playStreamCB)})},crossDomainCheckPopup:function(){var e=this;this.contentGeoBlocked=!1,this.actGetMediaGeoAccess(this.mediaId).then(function(t){var i=void 0,n=void 0,o=void 0;if(localStorage.getItem("homeDomain")){o=localStorage.getItem("homeDomain");var s=void 0;for(i in t.products){s=void 0,s=t.products[i];for(n in s.prices)if(s.prices[n].domain==o.toLowerCase())return e.showTagGeoCtaCheck=!1,void(e.contentGeoBlocked=!1)}e.vExitFullScreenMode(),e.playerContent&&"movie"==e.playerContent.contentType?(e.contentGeoBlocked=!0,r.eventBus.$emit("toggleGeoBlockEvent",!0),e.showTagGeoCtaCheck=!0,e.trailerCountinueGeoCheck=!0):(e.contentGeoBlocked=!0,r.eventBus.$emit("toggleGeoBlockEvent",!0))}},function(e){})},getMediaAccess:function(e){var t=this,i=void 0,n=void 0,o=void 0;this.trailerCountinueGeoCheck=!1,localStorage.getItem("altConfig")&&JSON.parse(localStorage.getItem("altConfig")),localStorage.getItem("homeDomain")&&(i=localStorage.getItem("homeDomain")),localStorage.getItem("visitedDomain")&&(n=localStorage.getItem("visitedDomain")),localStorage.getItem("altOrder")&&(o=JSON.parse(localStorage.getItem("altOrder"))),this.actGetMediaAccess(this.mediaId).then(function(r){if(r.status&&"ok"==r.status)t.contentGeoBlocked=!1,e&&e();else{if(t.crossDomainCheckPopup(),o&&o.subscription&&o.subscription.hasOrder&&0==o.subscription.expired)return t.contentGeoBlocked=!0,void(e&&e());if(i==n)return t.contentGeoBlocked=!1,void(e&&e());n&&"IN"==n?(t.contentGeoBlocked=!1,e&&e()):e&&e()}},function(e){401==e.code&&r.eventBus.$emit("togglePopupDeviceRemoved",!0)})},geoBlockContent:function(){var e=this;this.contentGeoBlocked=!0,this.vPlayer?(this.vPlayer.pause(),this.updateButton()):document.getElementById("v-kids-toggler").addEventListener("click",function(){r.eventBus.$emit("toggleGeoBlockEvent",!0)}),this.vUpdateButton(),this.vShaka?this.vShaka.unload().then(function(){document.getElementById("v-loader").style.display="none",document.getElementById("v-player").setAttribute("poster",e.playerContent.images.cover)}):(document.getElementById("v-loader").style.display="none",document.getElementById("v-player").setAttribute("poster",this.playerContent.images.cover))},handleShowCtaGeo:function(e){var t=void 0,i=void 0;localStorage.getItem("homeDomain")&&(i=localStorage.getItem("homeDomain"));for(t in e.pricing)if(e.pricing[t].domain==i.toLowerCase())return void(this.showTagGeoCtaCheck=!1);this.showTagGeoCtaCheck=!0},getTheContents:function(e){var t=this;"show"==this.contentName?this.actGetMediaSeries(this.seriesId).then(function(i){var n=t.parseContents(i);t.handleShowCtaGeo(n),t.setPlayerContent(n),t.sendGTMpageViewData("show details",n.title?n.title:"",""),t.webEnagePageView("show details",n.title?n.title:"",""),r.eventBus.$emit("playerContentFetchEvent"),i.seasons&&i.seasons.length&&(t.seriesSeasons=i.seasons),e&&e()},function(e){404==e.code?(r.eventBus.$emit("toggleVideoBlockPopupEvent",!0),t.toggleLoader(!1),t.vPlayer&&t.vShaka?t.vShaka.destroy().then(function(){t.vPlayer=document.getElementById("v-player"),t.vShaka=new o.a.Player(t.vPlayer),t.configurePlayer(),t.vToggleLoader(!1)}):(t.configurePlayer(!1),t.vToggleLoader(!1))):e.body&&e.code||(r.eventBus.$emit("togglePopupNetworkError",!0),document.getElementById("v-loader").style.display="none",document.getElementById("v-controls").style.display="none")}):"media"!=this.contentName&&"episode"!=this.contentName||this.actGetMediaVideo(this.id).then(function(i){var n=t.parseContents(i);t.setPlayerContent(n),"episode"==t.contentName?(t.sendGTMpageViewData("episode details",n.seriesTitle?n.seriesTitle:"",n.title?n.title:""),t.webEnagePageView("episode details",n.seriesTitle?n.seriesTitle:"",n.title?n.title:"")):t.sendGTMpageViewData("media",n.title?n.title:"",""),r.eventBus.$emit("playerContentFetchEvent"),e&&e()},function(e){if(e.code){if(404==e.code&&"This account is deleted"==e.message&&(r.eventBus.$emit("togglePopupDeviceRemoved",!1),t.toggleLoader(!1)),404==e.code&&"Media not available for domain row"==e.message)return r.eventBus.$emit("toggleVideoBlockPopupEvent",!0),void t.toggleLoader(!1)}else r.eventBus.$emit("togglePopupNetworkError",!0),document.getElementById("v-loader").style.display="none",document.getElementById("v-controls").style.display="none"})},loadVideo:function(){var e=this;this.vShaka.unload().then(function(){e.vShaka.load(e.manifestUrl).then(function(){localStorage.setItem("awsContentUrl",e.manifestUrl)}).catch(e.vOnError)})},vOnError:function(e){},updateButton:function(e){this.vToggler.src=e?"/src/assets/player/v2/ic_Play.png":this.vPlayer.paused?"/src/assets/player/v2/ic_Play.png":"/src/assets/player/v2/ic_Pause.png"},vReset:function(){this.vPlayer.currentTime=0,this.vCurrentTime.innerHTML=this.vCalcTimeLine(0),this.vProgress.value=0,this.vDuration.innerHTML=this.vCalcTimeLine(isNaN(this.vPlayer.duration)?0:this.vPlayer.duration),this.updateButton()},vToggleLoader:function(e){this.vLoader&&(e?(this.vLoader.style.display="block",this.hideVideoController(!1)):(this.vLoader.style.display="none",this.loaderCheck&&this.hideVideoController(!0)))},vToggleToggler:function(e,t){this.vToggler&&(this.vToggler.style.display=e?"inline-block":"none")},vToggleMainControls:function(e){e?(this.vMainCtrls.style.display="block",this.vMainHeader.style.display="block"):(this.vMainCtrls.style.display="none",this.vMainHeader.style.display="none")},vToggleScreen:function(e){this.vToggleLoader(e),this.vToggleToggler(e,"vToggleScreen"),this.vToggleControls(e)},vCalcTimeLine:function(e){var e=parseInt(e,10),t=Math.floor(e/3600),i=Math.floor((e-3600*t)/60),n=e-3600*t-60*i;return t=t?t<10?"0"+t+":":t+":":"",i<10&&(i="0"+i),n<10&&(n="0"+n),t+i+":"+n},vToggleFullscreen:function(){document.fullscreenElement||document.mozFullScreenElement||document.webkitFullscreenElement||document.msFullscreenElement?document.exitFullscreen?document.exitFullscreen():document.msExitFullscreen?document.msExitFullscreen():document.mozCancelFullScreen?document.mozCancelFullScreen():document.webkitExitFullscreen&&document.webkitExitFullscreen():this.vContain.requestFullscreen?this.vContain.requestFullscreen():this.vContain.msRequestFullscreen?this.vContain.msRequestFullscreen():this.vContain.mozRequestFullScreen?this.vContain.mozRequestFullScreen():this.vContain.webkitRequestFullscreen&&this.vContain.webkitRequestFullscreen(Element.ALLOW_KEYBOARD_INPUT),window.mobileAnalyticsClient&&window.mobileAnalyticsClient.recordEvent("_content.playback",this.stuffPlaybackAttributes("mode"),this.buildPlaybackMetrics("mode",0,0))},vExitFullScreenMode:function(){(document.fullscreenElement||document.mozFullScreenElement||document.webkitFullscreenElement||document.msFullscreenElement)&&(document.exitFullscreen?document.exitFullscreen():document.msExitFullscreen?document.msExitFullscreen():document.mozCancelFullScreen?document.mozCancelFullScreen():document.webkitExitFullscreen&&document.webkitExitFullscreen())},configurePlayerControls:function(){var e=this;e.videoTag.addEventListener("loadstart",function(t){e.showVideoLoader=!0}),e.videoTag.addEventListener("loadeddata",function(t){e.showVideoLoader=!1}),e.videoTag.addEventListener("error",function(e){}),e.altPlayer.addEventListener("buffering",function(t){e.showVideoLoader=t.buffering,t.buffering?e.videoTimer&&clearInterval(e.videoTimer):e.videoCanPlay&&e.playVideo()})},playVideo:function(){var e=this;if("TRAILER"==this.loadedContent&&r.eventBus.$emit("playingTrailerEvent"),this.contentRestricted){return JSON.parse(localStorage.getItem("altUser"))?r.eventBus.$emit("toggleSubscribePopupEvent",!0):r.eventBus.$emit("toggleSigninPopupEvent",!0),!1}this.togglePlayerState("PLAY"),this.videoTimer&&clearInterval(this.videoTimer),this.videoTimer=setInterval(function(){e.playTime+=1,e.currentTime=e.calculateTimeLine(e.playTime),e.seekPosition=String(Number(e.seekPosition)+e.videoStep)},1e3),this.videoCanPlay=!0,this.toggleControlTimer?(clearTimeout(this.toggleControlTimer),this.toggleControlTimer=setTimeout(function(){e.toggleControls(!1)},5e3)):this.toggleControlTimer=setTimeout(function(){e.toggleControls(!1)},5e3)},pauseVideo:function(){this.$route.name;this.vPlayer&&this.vPlayer.pause()},togglePlayerState:function(e){this.isPlayerReady&&"PLAY"==e?(this.isPlayerPlaying=!0,this.videoTag.play()):"PAUSE"==e&&this.isPlayerPlaying&&(this.toggleControls(!0),this.isPlayerPlaying=!1,this.videoTag.pause())},showControls:function(){var e=this;if((this.contentGeoBlocked||this.contentRestricted||this.contentDrmBlocked)&&this.toggleControls)return this.toggleControls(!0),clearTimeout(this.toggleControlTimer),!1;this.toggleControls(!0),this.toggleControlTimer=setTimeout(function(){e.toggleControls(!1)},this.toggleCtrlTimerTime)},toggleControls:function(e){var t=document.getElementById("v-controls");t&&(t.style.opacity=e?1:0)},seekCallback:function(e){var t=this;this.showVideoLoader=!0,this.seekPosition=String(e.target.value);var i=this.playTime=parseInt(Math.floor(e.target.value/100*this.durationInSec));this.videoTag.currentTime=i,this.currentTime=this.calculateTimeLine(i),this.videoTimer&&(clearInterval(this.videoTimer),this.videoTimer=setInterval(function(){t.currentTime=t.calculateTimeLine(t.playTime),t.seekPosition=String(Number(t.seekPosition)+t.videoStep),t.playTime+=1},1e3)),this.showVideoLoader=!1},makeVideoFullscreen:function(){var e=document.getElementById("v-player");e&&(document.fullscreenElement||document.mozFullScreenElement||document.webkitFullscreenElement||document.msFullscreenElement?document.exitFullscreen?document.exitFullscreen():document.msExitFullscreen?document.msExitFullscreen():document.mozCancelFullScreen?document.mozCancelFullScreen():document.webkitExitFullscreen&&document.webkitExitFullscreen():e.requestFullscreen?e.requestFullscreen():e.msRequestFullscreen?e.msRequestFullscreen():e.mozRequestFullScreen?e.mozRequestFullScreen():e.webkitRequestFullscreen&&e.webkitRequestFullscreen(Element.ALLOW_KEYBOARD_INPUT))},getPlayerProgress:function(e){var t=this;if(!this.progressId)return this.continueProgress=void 0,void(e&&e());this.actGetPlayerProgress(this.progressId).then(function(i){i.progress&&(t.playerContent&&t.playerContent.durationInSec-i.progress<40?t.continueProgress=void 0:t.continueProgress=i.progress),e&&e()},function(i){t.continueProgress=void 0,e&&e()})},getSeriesSeasons:function(e){var t=this;this.actGetSeriesSeasons(this.seriesId).then(function(i){i.count&&(t.seasonId=i.seasons[0].id,e&&e())},function(e){})},getSeriesEpisodes:function(e){var t=this;this.actGetEpisodes({seriesId:this.seriesId,seasonId:this.seasonId,limit:this.limit,offset:this.offset}).then(function(i){if(i.count){if(t.playlistEpisodes=t.playlistEpisodes.concat(i.episodes),t.playlistEpisodeCount+=i.episodes.length,i.count>t.playlistEpisodeCount)return t.offset+=t.limit,void t.getSeriesEpisodes(e);t.playListPosition=0;var n=new Array;if("show"==t.contentName){for(var o in t.playlistEpisodes)n.push(t.parseContents(t.playlistEpisodes[o]));t.setPopupPlaylist(n),t.playerPlaylist=n}else{var r=0;for(var o in t.playlistEpisodes)t.playlistEpisodes[o].media_id!=t.id?n.push(t.parseContents(t.playlistEpisodes[o])):r=parseInt(o);if(t.setPopupPlaylist(n),t.playerPlaylist=n.slice(r),t.setEpisodeListing(t.playerPlaylist),t.playerPlaylist&&t.playerPlaylist.length){t.nextPlaylistPosition=0;var s=void 0;localStorage.getItem("altProfileMode")&&(s=localStorage.getItem("altProfileMode")),"default"===s&&(t.nextPlaylistPosition=0);var a=t.playerPlaylist[t.nextPlaylistPosition];t.nextPlaylistItem=a,t.gt_next_episode_thumbnail_url=a&&a.images&&a.images.webengage?a.images.webengage:"",t.gt_next_episode_description=a&&a.shortDescription?a.shortDescription:"",t.gt_next_episode_id=a&&a.id?a.id:"",t.nextPlaylistMediaTitle=a.title,t.nextPlaylistMediaSNo=a.seasonNumber?a.seasonNumber:void 0,t.nextPlaylistMediaENo=a.episodeNumber?a.episodeNumber:void 0,a&&a.images&&a.images.episodeImageUrl&&(t.nextEpisodeImage=a.images.episodeImageUrl)}else t.playerPlaylist=void 0,t.gt_next_episode_thumbnail_url="",t.gt_next_episode_description="",t.gt_next_episode_id=""}t.setRelatedEpisodes(t.playerPlaylist),e&&e()}},function(e){})},assignComUpNextData:function(){if(this.playerPlaylist&&this.playerPlaylist.length){var e=void 0;localStorage.getItem("altProfileMode")&&(e=localStorage.getItem("altProfileMode")),"default"===e&&(this.nextPlaylistPosition=0);var t=this.playerPlaylist[this.nextPlaylistPosition];if(!t)return;t&&t.images&&t.images.episodeImageUrl&&(this.nextEpisodeImage=t.images.episodeImageUrl),this.nextPlaylistMediaTitle=t.title,this.nextPlaylistMediaSNo=!t.noShow&&t.seasonNumber,this.nextPlaylistMediaENo=!t.noShow&&t.episodeNumber}else this.playerPlaylist=void 0},playNextPlaylistItem:function(){var e=this;this.nextPlaylistPosition+=1,localStorage.setItem("prevPlayedMediaId",this.id),this.nextEpisodePlayLoadMainfest=!0;var t=void 0,i=void 0;if(this.vPlayer&&(this.toggleControls(!1),this.vToggleToggler(!1,"playNextPlaylistItem"),this.vToggleMainControls(!1),t=this.vPlayer.currentTime,i=this.vPlayer.duration),this.playerPlaylist&&this.playerPlaylist.length){this.currentPlaylistItem=this.playerPlaylist[this.playListPosition],this.assignComUpNextData(),this.showComUpNextTag=!1;var n=void 0;if(localStorage.getItem("altUser")&&(n=!0),!n||isNaN(t)||isNaN(i)||this.updateMediaProgress(this.id,t,i),"episode"==this.currentPlaylistItem.contentName){var o=void 0;if(localStorage.getItem("altProfileMode")&&(o=localStorage.getItem("altProfileMode")),"kids"===o)this.setPlayerContent(this.currentPlaylistItem),this.id=this.currentPlaylistItem.id,this.mediaId=this.currentPlaylistItem.id,this.playlistCallbackEvent=!0,this.playListPosition+=1,n?this.getMediaAccess(function(){e.renderEpisodeScreen()}):this.renderEpisodeScreen();else{this.playlistCallbackEvent=!0;var r={name:this.currentPlaylistItem.contentName,params:{id:this.currentPlaylistItem.id}};this.playListPosition+=1,this.$router.push(r)}}}},playComUpNextItem:function(e){this.showComUpNextTag=!1,this.ShowSkipTag=!1,this.nextEpisodePlayLoadMainfest=!0,this.playRelatedEpisodeClickFlag=!0,this.vPlayer&&(this.vPlayer.pause(),this.vPlayer.removeEventListener("timeupdate",this.vHandleProgress),this.vToggleMainControls(!1),this.toggleControls(!1),this.vToggleToggler(!1,"playComUpNextItem"),this.vToggleLoader(!0));var t=e?"continuous playback":"player";this.nextEpisodePlayEventTrigger(t),this.playNextPlaylistItem()},languageChangeCB:function(e){var t=(this.$route.query.type,{name:"show",params:{id:e}});this.$router.push(t),r.eventBus.$emit("toggleLanguageFilterEvent",!1)},popupOpenCB:function(e){e&&this.vPlayer.pause()},navOpenCB:function(){r.eventBus.$off("toggleNavOpenEvent",this.navOpenCB),this.vPlayer&&this.vPlayer.pause(),r.eventBus.$on("toggleNavOpenEvent",this.navOpenCB)},togglePopupKidsExitPinCB:function(){r.eventBus.$off("togglePopupKidsExitPin",this.togglePopupKidsExitPinCB),this.vPlayer&&this.vPlayer.pause(),r.eventBus.$on("togglePopupKidsExitPin",this.togglePopupKidsExitPinCB)},playRelatedEpisodeClickCB:function(){this.playRelatedEpisodeClickFlag=!0,this.playerPlaylist=void 0,this.playlistCallbackEvent=!1},getUniqueProgressList:function(e,t){var i=-1;for(var n in t)t[n].media_id===e.media_id&&(i=n);return i>-1?(t[i]=e,t):(t.push(e),t)},routeChangeCB:function(){this.vPlayer&&this.vShaka&&this.playerContent&&this.vPauseEventCB()},showSharingCB:function(){this.vPlayer&&(this.vPlayer.paused||(this.vPlayer.pause(),this.toggleControlTimer&&(clearTimeout(this.toggleControlTimer),this.vToggleToggler(!0,"showSharingCB"))))},toggleSigninPopupCB:function(){},handlePlayerBeforeRouteLeaveCB:function(){r.eventBus.$emit("toggleLanguageFilterEvent",!1);var e=void 0;if(localStorage.getItem("altUser")&&(e=!0),e){if("show"!=this.$route.name&&this.vPlayer){var t=this.vPlayer.currentTime,i=this.vPlayer.duration;isNaN(t)||isNaN(i)||this.updateMediaProgress(this.id,t,i)}}},browserStateBlurCB:function(e){this.vPlayer&&(this.vPlayer.paused||this.vPlayer.pause())},togglePlayerFavSigninPopupCB:function(){this.pauseVideo()},stopTriggerForMovieTrilerSwitch:function(){if(window.mobileAnalyticsClient){var e=this.getAWSMACommonAttributes(),t=void 0;if(localStorage.getItem("currentPlayerDetails")){var i={};i.stop_time=this.vPlayer&&this.vPlayer.currentTime?this.vPlayer.currentTime:"N.A",t=JSON.parse(localStorage.getItem("currentPlayerDetails")),e.event_action="stop",e.content_id=t&&t.eventAttributeObj&&t.eventAttributeObj.content_id?t.eventAttributeObj.content_id:" ",e.content_title=t&&t.eventAttributeObj&&t.eventAttributeObj.content_title?t.eventAttributeObj.content_title.toLowerCase():" ",e.content_type=t&&t.eventAttributeObj&&t.eventAttributeObj.content_type?t.eventAttributeObj.content_type:" ",e.content_streamid=t&&t.eventAttributeObj&&t.eventAttributeObj.content_streamid?t.eventAttributeObj.content_streamid:"",e.content_url=t&&t.eventAttributeObj&&t.eventAttributeObj.content_url?t.eventAttributeObj.content_url:" ",e.content_duration=t&&t.eventAttributeObj&&t.eventAttributeObj.content_duration?t.eventAttributeObj.content_duration:"",t&&t.currentPlayerType&&"episode"==t.currentPlayerType&&(e.parent_content_title=t&&t.eventAttributeObj&&t.eventAttributeObj.parent_content_title?t.eventAttributeObj.parent_content_title.toLowerCase():""),window.mobileAnalyticsClient.recordEvent("_content.playback",e,i),localStorage.removeItem("currentPlayerDetails")}}},togglePopupNetworkErrorCB:function(e){this.vPlayer&&this.vShaka&&(this.vPlayer.paused||this.vPlayer.pause(),this.vExitFullScreenMode(),this.toggleControlTimer&&clearTimeout(this.toggleControlTimer),this.vControls.removeEventListener("click",this.vControlsClickEventCB))},determinePlaybackOperation:function(e,t){var i="Unknown";return void 0!=t&&""!=e&&(i="play"==e?0==t.played.length?"start":"resume":e),i},buildPlaybackMetrics:function(e,t,i){var n={};if("start"==e||"resume"==e||"stop"==e||"pause"==e||"complete"==e){var o=100*i/t;n.progress=o,"stop"==e||"complete"==e?n.stop_time=i:n.start_time=i}else"seek"==e&&(n.start_time=0,n.stop_time=i);return n},stuffCommonAttributes:function(e){var t={},i=localStorage.getItem("geo_location"),n=JSON.parse(localStorage.getItem("altConfig"));return i&&(i=JSON.parse(i),t=i),t.user_email=localStorage.getItem("user_email"),t.user_id=localStorage.getItem("account_id"),t.user_session=localStorage.getItem("token"),t.user_name=localStorage.getItem("user_name"),t.user_dob=localStorage.getItem("user_birthday"),t.user_gender=localStorage.getItem("user_gender"),t.app_env=n.environment.title,t},stuffPlaybackAttributes:function(e){var t=this.getAWSMACommonAttributes(),i=this.$route.name,n="N.A",o="N.A";switch(i){case"show":n=this.playerContent.trailer?this.playerContent.trailer.trailerUrl:"N.A",o=this.playerContent.trailer?this.playerContent.trailer.id:"N.A";break;case"media":case"episode":n=this.playerContent.stream?this.playerContent.stream.streamUrl:"N.A",o=this.playerContent.stream?this.playerContent.stream.streamId:"N.A";break;default:n="N.A",o="N.A"}t.content_id=this.playerContent.id?this.playerContent.id:"N.A",t.content_title=this.playerContent.title?this.playerContent.title.toLowerCase():"N.A",t.content_url=n,t.content_streamid=o,t.content_type=this.playerContent.contentType?this.playerContent.contentType:"N.A",t.content_duration=this.playerContent.durationInSec?this.playerContent.durationInSec:"N.A";var r=this.getPlayerEventMode();return t.event_mode=r||"N.A",t.event_action=e,t},playContent:function(){this.showOnlyPlayButton=!1,this.vTogglePlay("play")},pressBackChangeToPoster:function(){if(0==screen.orientation.angle){this.toggleLoader(!0),this.loaderCheck=!1,this.initRoutePlayerScreen(),this.playRelatedEpisodeClickFlag=!0,this.vPlayer&&(this.vPlayer.paused?(this.vPlayer.pause(),this.vPauseEventCB()):this.vPlayer.pause()),this.flagVideoTag=!0,this.vExitFullScreenMode();r.eventBus.$emit("togglePlayerScreenEvent",!1),r.eventBus.$emit("toggleEpisodelistPopup",!1),r.eventBus.$emit("togglePlayerVideoResolution","back"),localStorage.setItem("awsOrientation","portrait"),this.nextPlaylistPosition=0,this.playListPosition=0,this.playerPlaylist=void 0,this.showComUpNextTag=!1,this.ShowSkipTag=!1,this.hidePosterPlayerScreen("none","block"),this.hideVideoController(!1)}else localStorage.setItem("awsOrientation","landscape")},fullScreenExitEvent:function(e){!1!==document.webkitIsFullScreen&&!1!==document.mozFullScreen&&!1!==document.msFullscreenElement||(this.flagVideoTag=!0,this.hidePosterPlayerScreen("none","block"),this.hideVideoController(!1),this.vExitFullScreenMode(),this.vToggleLoader(!1),r.eventBus.$emit("toggleEpisodelistPopup",!1),r.eventBus.$emit("togglePlayerVideoResolution","back"))},hidePosterPlayerScreen:function(e,t){document.getElementById("v-player")&&document.getElementById("v-poster")&&(document.getElementById("v-player").style.display=e,document.getElementById("v-poster").style.display=t,"block"==t&&(this.showComUpNextTag=!1,this.ShowSkipTag=!1,this.vPlayer&&(this.vPlayer.pause(),this.hideVideoController(!1))))},playerPopupViewEvent:function(e){if(window.mobileAnalyticsClient){var t=this.getAWSMACommonAttributes();t.start_time=this.vPlayer&&this.vPlayer.currentTime?this.vPlayer.currentTime:"N.A",t.event_mode=e,window.mobileAnalyticsClient.recordEvent("_popup.view",t,{})}},handelChromecastPlayback:function(){this.vPlayer&&localStorage.getItem("currentPlayerDetails")&&this.playContent()},windowFocusCB:function(e){this.hideVideoController(!1),this.hidePosterPlayerScreen("none","block"),r.eventBus.$emit("toggleEpisodelistPopup",!1),r.eventBus.$emit("togglePlayerVideoResolution","back"),this.showComUpNextTag=!1,this.ShowSkipTag=!1,this.initRoutePlayerScreen()},windowBlurCB:function(e){this.hidePosterPlayerScreen("none","block")},setVideoTrackToPlayer:function(e){if(this.vShaka){var t=this.vShaka.getConfiguration();"auto"==e.title.toLowerCase()?(t.abr.enabled=!0,this.videoResolutionEventTrigger(e.title),this.vShaka.configure(t)):(t.abr.enabled=!1,this.vShaka.configure(t),this.vShaka.selectVariantTrack(e,!0),this.videoResolutionEventTrigger(e.title))}},toggleResolutionState:function(e){if(e){if("back"==e)return void(this.showVideoResolution=!1);this.showVideoResolution=!0,this.videoResolutionPopupState=void 0,this.videoResolutionPopupState=this.vPlayer&&this.vPlayer.paused?"pause":"play",this.playerPopupViewEvent("video quality"),this.vPlayer&&!this.vPlayer.paused&&this.vPlayer.pause()}else this.showVideoResolution=!1,this.videoResolutionPopupState&&"play"==this.videoResolutionPopupState?this.vPlayer.play():this.vPlayer.pause()},episodePopupState:function(e){this.showPopupEpisodeList=e,e&&this.playerPopupViewEvent("other episodes"),e||this.episodePopupPlayState&&this.vPlayer&&("play"==this.episodePopupPlayState?this.vPlayer.play():this.vPlayer.pause())},loadContentAtPlayerScreen:function(e){this.containInfoDetails=e,this.nextEpisodePlayLoadMainfest=!0,this.playerPlaylist=null,this.id=null,this.playlistEpisodes=[],this.makeFullscreen(),this.initMountedPlayerScreen()},toggleEpisodelistPopupCB:function(e){this.episodePopupState(e)}}),created:function(){var e=this;r.eventBus.$on("initiatePlayEvent",this.initiatePlayCB),r.eventBus.$on("openSearchEvent",this.pauseVideo),r.eventBus.$on("toggleSigninPopupEvent",this.toggleSigninPopupCB),r.eventBus.$on("playTrailerEvent",this.playTrailerCallback),r.eventBus.$on("playStreamEvent",this.playStreamCB),r.eventBus.$on("languageChangeEvent",this.languageChangeCB),r.eventBus.$on("togglePopupSearch",this.popupOpenCB),r.eventBus.$on("toggleNavOpenEvent",this.navOpenCB),r.eventBus.$on("togglePopupKidsExitPin",this.togglePopupKidsExitPinCB),r.eventBus.$on("playRelatedEpisodeClickEvent",this.playRelatedEpisodeClickCB),r.eventBus.$on("showSharingEvent",this.showSharingCB),r.eventBus.$on("playTrailerBtnClickEvent",this.playTrailerBtnClickCB),r.eventBus.$on("playMovieBtnClickEvent",this.playMovieBtnClickCB),r.eventBus.$on("togglePlayerFavSigninPopupEvent",this.togglePlayerFavSigninPopupCB),r.eventBus.$on("handlePlayerBeforeRouteLeave",this.handlePlayerBeforeRouteLeaveCB),r.eventBus.$on("togglePopupNetworkError",this.togglePopupNetworkErrorCB),r.eventBus.$on("browserStateBlurEvent",this.browserStateBlurCB),r.eventBus.$on("toggleVideoAddToFavErrorVideoPause",this.pauseVideo),r.eventBus.$on("togglePlayContent",this.playContent),r.eventBus.$on("toggleChromeCastPlaying",this.handelChromecastPlayback),r.eventBus.$on("toggleFlagForPlay",function(t){e.playlistCallbackEvent=!0}),r.eventBus.$on("toggleEpisodelistPopup",this.toggleEpisodelistPopupCB),r.eventBus.$on("togglePlayerVideoResolution",this.toggleResolutionState),r.eventBus.$on("togglePlayerSetResolution",function(t){e.setVideoTrackToPlayer()}),r.eventBus.$on("toggleSendDataToPlayerScreen",this.loadContentAtPlayerScreen),r.eventBus.$on("toggleSendDataToPlayerScreenForEpisodeList",this.loadContentAtPlayerScreen)},mounted:function(){"localhost"!=location.hostname&&(window.addEventListener("focus",this.windowFocusCB),window.addEventListener("blur",this.windowBlurCB));localStorage.setItem("awsOrientation","portrait"),window.addEventListener("orientationchange",this.pressBackChangeToPoster),this.appActive&&this.initMountedPlayerScreen()},components:{"popup-episode-listing":d,"popup-player-video-resolution":h},beforeDestroy:function(){r.eventBus.$off("togglePlayContent",this.playContent),r.eventBus.$off("togglePlayerSetResolution"),r.eventBus.$off("toggleEpisodelistPopup",this.toggleEpisodelistPopupCB),r.eventBus.$off("togglePlayerVideoResolution",this.toggleResolutionState),r.eventBus.$off("toggleChromeCastPlaying",this.handelChromecastPlayback),r.eventBus.$off("toggleSendDataToPlayerScreen",this.loadContentAtPlayerScreen),r.eventBus.$off("toggleSendDataToPlayerScreenForEpisodeList",this.loadContentAtPlayerScreen),this.setCurrentShowPlaylists(void 0),this.setCurrentEpisodeInfo(void 0),this.setPlayerContent(void 0),this.playerPlaylist=void 0,this.vShaka&&this.vShaka.destroy().then(function(){}).catch(function(e){})},mixins:[s.a]}},187:function(e,t,i){var n=i(77)(i(161),i(191),null,null,null);e.exports=n.exports},191:function(e,t,i){e.exports={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"v-contain",attrs:{id:"v-contain"}},[n("video",{staticClass:"v-player player-default",staticStyle:{width:"100%"},attrs:{id:"v-poster",poster:e.plrPosterImage,src:e.silentTrack}}),e._v(" "),n("video",{staticClass:"v-player player-default",staticStyle:{width:"100%"},attrs:{id:"v-player",poster:e.plrPosterImage,src:e.silentTrack}}),e._v(" "),n("div",{directives:[{name:"show",rawName:"v-show",value:e.showComUpNextTag,expression:"showComUpNextTag"}],staticClass:"v-cmup-nxt",on:{click:function(t){e.playComUpNextItem(!0)}}},[n("div",{staticClass:"v-cmup-nxt-bx"},[n("div",{staticClass:"v-cmnxtbx-img"},[n("img",{attrs:{src:e.nextEpisodeImage,alt:"v-cmngup"}})]),e._v(" "),n("div",{staticClass:"v-cmnxtbx-text"},[n("p",{staticStyle:{"font-size":"15px","font-weight":"bold"}},[e._v("NEXT EPISODE IN "+e._s(e.showComUpNextTimeNextEpisodeCountDown)+" ")]),e._v(" "),n("p",{directives:[{name:"show",rawName:"v-show",value:e.nextPlaylistMediaTitle,expression:"nextPlaylistMediaTitle"}],staticStyle:{padding:"2px 2px 6px","font-size":"12px","font-weight":"normal"}},[e._v(e._s(e.nextPlaylistMediaTitle))]),e._v(" "),n("p",{staticStyle:{"font-size":"12px","font-weight":"bold"}},[n("span",{directives:[{name:"show",rawName:"v-show",value:e.nextPlaylistMediaSNo,expression:"nextPlaylistMediaSNo"}]},[e._v("S"+e._s(e.nextPlaylistMediaSNo))]),n("span",{directives:[{name:"show",rawName:"v-show",value:e.nextPlaylistMediaENo,expression:"nextPlaylistMediaENo"}]},[e._v("| E"+e._s(e.nextPlaylistMediaENo))])]),e._v(" "),n("img",{staticClass:"play-icon-on-player-nextEpisode",attrs:{src:i(85)}})])])]),e._v(" "),n("img",{directives:[{name:"show",rawName:"v-show",value:e.showOnlyPlayButton,expression:"showOnlyPlayButton"}],staticStyle:{display:"inline-block",width:"34px",position:"absolute",top:"50%",left:"46%","z-index":"980"},attrs:{src:"/src/assets/player/v2/ic_Play.png",alt:"v-pause"},on:{click:e.playContent}}),e._v(" "),e.ShowSkipTag?n("div",{on:{click:e.skipActionForward}},[n("span",{staticClass:"skipTag"},[e._v("SKIP INTRO")])]):e._e(),e._v(" "),n("popup-episode-listing",{directives:[{name:"show",rawName:"v-show",value:e.showPopupEpisodeList,expression:"showPopupEpisodeList"}]}),e._v(" "),n("popup-player-video-resolution",{directives:[{name:"show",rawName:"v-show",value:e.showVideoResolution,expression:"showVideoResolution"}]}),e._v(" "),n("div",{staticClass:"v-controls",staticStyle:{display:"none"},attrs:{id:"v-controls"}},[n("div",{staticClass:"v-toggle",attrs:{id:"v-toggle"}},[n("img",{attrs:{src:i(95),alt:"v-backward",id:"v-backward"}}),e._v(" "),n("img",{attrs:{src:i(85),alt:"v-pause",id:"v-kids-toggler"}}),e._v(" "),n("img",{directives:[{name:"show",rawName:"v-show",value:e.gt_next_episode_id&&!e.showTagTrailer,expression:"gt_next_episode_id && !showTagTrailer"}],staticStyle:{width:"43px"},attrs:{src:i(97),alt:"v-ic_Next_Episode",id:"v-ic_Next_Episode"},on:{click:function(t){e.playComUpNextItem(!1)}}}),e._v(" "),n("img",{attrs:{src:i(96),alt:"v-forward",id:"v-forward"}})]),e._v(" "),n("div",{staticClass:"v-main-ctrls",staticStyle:{display:"none"},attrs:{id:"v-main-ctrls"}},[e._m(0),e._v(" "),e._m(1),e._v(" "),e._m(2),e._v(" "),n("div",{staticClass:"player-footer-icon-list"},[e.episodeIdentifier?n("img",{staticStyle:{width:"31px"},attrs:{src:i(99),alt:"v-episodesList",id:"v-episodesList"}}):e._e(),e._v(" "),n("img",{attrs:{src:i(98),alt:"v-VideoQuality",id:"v-VideoQuality"},on:{click:e.vPlayerVideoQuality}})])]),e._v(" "),n("div",{staticClass:"v-main-header",staticStyle:{display:"none"},attrs:{id:"v-main-header"}},[n("div",{staticStyle:{display:"inline-flex",padding:"11px"}},[e.headerEpisodeDetails&&e.headerEpisodeDetails.seasonNumber&&e.headerEpisodeDetails.episodeNumber&&!e.showTagTrailer?n("div",{staticClass:"player-header-episode"},[n("h3",[e._v("S"+e._s(e.headerEpisodeDetails.seasonNumber))]),e._v(" "),n("h3",{staticClass:"header-season-details"},[e._v(" | E"+e._s(e.headerEpisodeDetails.episodeNumber))])]):e._e(),e._v(" "),e.showTagTrailer?n("div",[n("span",{staticClass:" player-header-episode"},[e._v("TRAILER")])]):e._e(),e._v(" "),n("div",{},[e.playerContent&&e.playerContent.title?n("h3",{staticClass:"player-title"},[e._v(e._s(e.makeTitleUpperCase(e.playerContent.title)))]):e._e()])]),e._v(" "),n("div",{attrs:{id:"player-cast"}},[n("google-cast-launcher",{staticClass:"chrome-cast-icon"})],1)])]),e._v(" "),e._m(3),e._v(" "),n("div",{directives:[{name:"show",rawName:"v-show",value:e.showVideoLoader,expression:"showVideoLoader"}],staticClass:"v-loader",staticStyle:{position:"absolute",top:"0px",left:"0px",width:"100%",height:"100%","background-color":"rgba(0, 0, 0, 0.5)","z-index":"998"},attrs:{id:"v-loader"}},[e._m(4)])],1)},staticRenderFns:[function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"v-group left-group"},[i("span",{staticClass:"v-text v-timer",attrs:{id:"v-current-time"}},[e._v("00:00")])])},function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"v-group v-bar"},[i("input",{staticClass:"v-progress",staticStyle:{display:"none"},attrs:{type:"range",value:"0",min:"0",max:"100",id:"v-progress"}})])},function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"v-group right-group"},[i("span",{staticClass:"v-text v-timer",staticStyle:{"margin-right":"8px"},attrs:{id:"v-duration"}},[e._v("00:00")])])},function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"v-loader",staticStyle:{position:"absolute",top:"0px",left:"0px",width:"100%",height:"100%","background-color":"rgba(0, 0, 0, 0.5)","z-index":"998",display:"none"},attrs:{id:"v-loader-play"}},[i("div",{staticClass:"loading",staticStyle:{position:"relative",width:"56px",height:"56px",margin:"0 auto",top:"50%",transform:"translateY(-50%)"}},[i("div",{staticClass:"inner"})])])},function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"loading",staticStyle:{position:"relative",width:"56px",height:"56px",margin:"0 auto",top:"50%",transform:"translateY(-50%)"}},[i("div",{staticClass:"inner"})])}]}}});