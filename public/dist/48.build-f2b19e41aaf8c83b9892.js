webpackJsonp([48],{1074:function(e,t,o){e.exports={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"nav-container",attrs:{id:"nav-container"}},[i("nav",{staticClass:"menu",attrs:{id:"nav-menu"}},[i("div",{staticClass:"alt-nav-top",attrs:{id:"alt-nav-top"}},[i("div",{staticClass:"switch-kids"},[i("div",{staticClass:"humburger-user-name"},[e._v(e._s(e.humburgerUserDetails))]),e._v(" "),i("div",{staticClass:"humberger-profile-switch",staticStyle:{display:"none"},on:{click:e.switchToKidsMode}},[i("b",[e._v("Switch To")]),e._v(" "),i("img",{staticClass:"switch-profile",attrs:{src:o(720),alt:"kids-go"}})])]),e._v(" "),i("div",{staticClass:"adv-space",attrs:{id:"adv-space"}},[i("div",{staticClass:"button-space space-abs space-right"},[i("button",{directives:[{name:"show",rawName:"v-show",value:!e.userLoggedIn,expression:"!(userLoggedIn)"}],staticClass:"btn grad-btn btn-sm",attrs:{type:"button"},on:{click:e.signinUser}},[e._v("Sign in")]),e._v(" "),i("button",{directives:[{name:"show",rawName:"v-show",value:e.userLoggedIn&&e.showSubscribeButton,expression:"userLoggedIn && showSubscribeButton"}],staticClass:"btn grad-btn btn-sm",attrs:{type:"button"},on:{click:e.routeToSubscribe}},[e._v("Subscribe Now")]),e._v(" "),i("button",{directives:[{name:"show",rawName:"v-show",value:e.userLoggedIn&&e.showWatchNow,expression:"userLoggedIn && showWatchNow"}],staticClass:"btn grad-btn btn-sm",attrs:{type:"button"},on:{click:e.playHotspotMedia}},[e._v("Watch Now")])]),e._v(" "),i("img",{directives:[{name:"show",rawName:"v-show",value:e.hotspotImg,expression:"hotspotImg"}],staticClass:"adv",attrs:{alt:"adv-img",src:e.hotspotImg},on:{click:e.playHotspotMedia}})])]),e._v(" "),i("ul",{staticClass:"navigation",attrs:{id:"alt-navigation"}},e._l(e.sectionMenus,function(t){return i("li",{on:{click:function(o){e.eventSectionMenu(t,o)}}},[i("router-link",{directives:[{name:"show",rawName:"v-show",value:e.isMenuVisible(t),expression:"isMenuVisible(menu)"}],staticClass:"navigation-link",attrs:{to:e.getRouterName(t),exact:""}},[e._v("\n          "+e._s(e.getMenuTitle(t))+" "),i("span",{directives:[{name:"show",rawName:"v-show",value:e.isShowNavBadge(t)&&e.notificationCountData&&e.hideCountNotification,expression:"isShowNavBadge(menu) && notificationCountData && hideCountNotification"}],staticClass:"nav-badge"},[e._v(e._s(e.notificationCountData))])])],1)}))]),e._v(" "),i("div",{staticClass:"nav-overlay",attrs:{id:"nav-overlay"},on:{click:function(t){e.toggleNavMenu(!1)}}})])},staticRenderFns:[]}},621:function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=o(1),s=o(5),n=o(4),r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var o=arguments[t];for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(e[i]=o[i])}return e};t.default={data:function(){return{altKidsUser:void 0,showSubscribeButton:void 0,userState:void 0,hotspotImg:void 0,hotspotsUrl:void 0,trackUserStatues:!0,kidsProfile:void 0,sectionMenus:void 0,hideCountNotification:!0,notificationCountData:void 0,humburgerUserDetails:void 0,showWatchNow:void 0}},computed:r({},o.i(n.a)(["appActive","otherMenus","routerToParam","userLoggedIn"])),watch:{appActive:function(){this.getHotspotImg(),this.renderNavMenus()},$route:function(e,t){this.navigationMenuUpdate()}},methods:r({},o.i(n.b)(["setUserLoggedIn","setAltKidsUser","setRouterToParam","setRouterFromParam","setAccessToKidsMode"]),o.i(n.c)(["actCheckWithAccount","actGetProfileSwitch","actGetHotspotContents","actGetMediaHotspot"]),{navigationMenuUpdate:function(){var e=this,t=void 0;"subscription"==(t=this.$route.name)&&(t="subscribe");for(var o in this.sectionMenus)!function(o){var i=e.sectionMenus[o],s="";s="section"==i.type?i.title.toLowerCase():i.type,setTimeout(function(){if(s==t){var e=document.querySelectorAll(".navigation-link.router-link-active")[0],o=document.querySelectorAll(".navigation-link"),n=!0,r=!1,a=void 0;try{for(var l,c=o[Symbol.iterator]();!(n=(l=c.next()).done);n=!0){l.value.style.color="white"}}catch(e){r=!0,a=e}finally{try{!n&&c.return&&c.return()}finally{if(r)throw a}}i.color?e.style.color=i.color:e.style.color="#fe0032"}})}(o)},shortString:function(e){var t=e.trim();return t?t.length>12?t.substring(0,12)+"...":t:"Welcome!"},signinUser:function(){this.setRouterFromParam(void 0),this.setRouterToParam(void 0),this.toggleNavMenu(),this.$router.push({name:"login"})},getRouterName:function(e,t){var o=void 0,i=void 0,s=void 0;return localStorage.getItem("altUser")&&(i=JSON.parse(localStorage.getItem("altUser")),localStorage.getItem("altOrder")&&(s=JSON.parse(localStorage.getItem("altOrder")))),o="Home"==e.title?"home":"subscribe"==e.type?i&&s&&s.subscription&&s.subscription.hasOrder&&0==s.subscription.expired?"subscription":"subscribe":e.title.replace(/ /g,"-").toLowerCase(),{name:o}},isMenuVisible:function(e){return!e.requireLogin||this.userLoggedIn},getMenuTitle:function(e){var t=void 0,o=void 0;return localStorage.getItem("altUser")&&(t=JSON.parse(localStorage.getItem("altUser")),localStorage.getItem("altOrder")&&(o=JSON.parse(localStorage.getItem("altOrder")))),"subscribe"==e.type?t&&o&&o.subscription&&o.subscription.hasOrder&&0==o.subscription.expired?"Subscription":"Subscribe":e.title},isShowNavBadge:function(e){if("notifications"==e.type){return"on"!=localStorage.getItem("deleteNotificationNotify")}return!1},getOtherMenuLink:function(e){return{name:e.type}},switchToKidsMode:function(){this.toggleLoader(!0),this.toggleNavMenu(!1);var e=void 0;if(localStorage.getItem("altUser")){e=JSON.parse(localStorage.getItem("altUser"));var t=void 0;localStorage.getItem("altOrder")&&(t=JSON.parse(localStorage.getItem("altOrder")))}e?t&&t.subscription&&t.subscription.hasOrder&&0==t.subscription.expired?this.checkUserAccount():(i.eventBus.$emit("togglePopupKidsSubscribe",!0),document.getElementById("alt-app")&&(document.getElementById("alt-app").style.position="fixed"),this.toggleLoader(!1)):(i.eventBus.$emit("togglePopupKidsSignin",!0),document.getElementById("alt-app")&&(document.getElementById("alt-app").style.position="fixed"),this.toggleLoader(!1))},checkUserAccount:function(e){var t=this;this.actCheckWithAccount().then(function(e){if(e.count&&e.count>1){var o=e.profiles[1];e.account&&e.account.pin?(o.pin=e.account.pin,t.switchToKidsProfile(o)):t.$router.push({name:"createKidsPin"})}else i.eventBus.$emit("togglePopupKidsCreatePin",!0),t.toggleLoader(!1)},function(e){e.code&&404==e.code&&i.eventBus.$emit("togglePopupDeviceRemoved",!1)})},switchToKidsProfile:function(e){var t=this;this.actGetProfileSwitch(e).then(function(e){var o=void 0;localStorage.getItem("altUser")&&(o=JSON.parse(localStorage.getItem("altUser"))),o&&(o.sessionToken=e.session_token,o.uuid=e.uuid,o.username=e.username,localStorage.setItem("altUser",JSON.stringify(o))),i.eventBus.$emit("toggleAppModeChangeEvent","kids"),t.$router.push({name:"home"}),t.toggleLoader(!1)}).catch(function(e){})},routeToSubscribe:function(){this.toggleNavMenu(!1),this.$router.push({name:"subscribe"})},switchProfile:function(){var e=this;this.actGetProfileSwitch(this.altKidsUser).then(function(t){t&&(e.altKidsUser.sessionToken=t.session_token,e.altKidsUser.uuid=t.uuid,e.altKidsUser.parentalControl=t.parental_control,localStorage.setItem("altProfileMode","kids"),localStorage.setItem("altKidsUser",JSON.stringify(e.altKidsUser)),e.$router.push({name:"kidsMode"}))},function(e){})},eventSectionMenu:function(e,t){var o=document.querySelectorAll(".navigation-link"),i=!0,s=!1,n=void 0;try{for(var r,a=o[Symbol.iterator]();!(i=(r=a.next()).done);i=!0){r.value.style.color="white"}}catch(e){s=!0,n=e}finally{try{!i&&a.return&&a.return()}finally{if(s)throw n}}if(e.color){document.querySelectorAll(".navigation-link.router-link-active")[0];t.target.style.color=e.color}else{document.querySelectorAll(".navigation-link.router-link-active")[0];t.target.style.color="#fe0032"}if(this.webEnagePageView(e&&e.title?e.title:""),this.toggleNavMenu(!1),window.mobileAnalyticsClient){var l=this.getAWSMACommonAttributes();l.page_title=e.title?e.title:"N.A",l.section_id=e.sectionID?e.sectionID:"N.A",window.mobileAnalyticsClient.recordEvent("_menu.select",l,{})}},showOtherMenu:function(e){return!!this.userLoggedIn||!e.requireLogin},routeToKidsMode:function(){this.setAccessToKidsMode(!0),this.toggleNavMenu(!1)},toggleUserModeChangeCB:function(e){this.getHotspotImg();var t=void 0,o=void 0;localStorage.getItem("altUser")&&(t=JSON.parse(localStorage.getItem("altUser")),localStorage.getItem("altOrder")&&(o=JSON.parse(localStorage.getItem("altOrder")))),t?(this.setUserLoggedIn(!0),o&&o.subscription&&o.subscription.hasOrder&&0==o.subscription.expired?(this.showSubscribeButton=!1,this.showWatchNow=!0):(this.showSubscribeButton=!0,this.showWatchNow=!1)):this.setUserLoggedIn(!1),this.renderNavMenus()},renderNavMenus:function(){var e=this,t=void 0,o=void 0;localStorage.getItem("altUser")&&(t=JSON.parse(localStorage.getItem("altUser")),localStorage.getItem("altOrder")&&(o=JSON.parse(localStorage.getItem("altOrder"))));var i=void 0;if(localStorage.getItem("altConfig")&&(i=JSON.parse(localStorage.getItem("altConfig"))),i&&i.menus){var s=i.menus,n=s.findIndex(function(e){return e.type&&"subscribe"==e.type});t&&o&&o.subscription&&o.subscription.hasOrder&&0==o.subscription.expired&&(s[n].title="Subscription");"notifications"==s[s.findIndex(function(e){return e.type&&"notifications"==e.type})].type&&localStorage.getItem("notificationsCount")&&(this.notificationCountData=parseInt(localStorage.getItem("notificationsCount"))),this.sectionMenus=s;for(var r in this.sectionMenus)if(this.sectionMenus[r].type&&"downloads"==this.sectionMenus[r].type){this.sectionMenus.splice(r,1);break}var a=void 0;a=this.$route.name,"subscription"==a&&(a="subscribe");for(var l in this.sectionMenus)!function(t){var o=e.sectionMenus[t],i="";(i="section"==o.type?o.title.toLowerCase():o.type)==a&&setTimeout(function(){var e=document.querySelectorAll(".navigation-link"),t=!0,i=!1,s=void 0;try{for(var n,r=e[Symbol.iterator]();!(t=(n=r.next()).done);t=!0){n.value.style.color="white"}}catch(e){i=!0,s=e}finally{try{!t&&r.return&&r.return()}finally{if(i)throw s}}var a=document.querySelectorAll(".navigation-link.router-link-active")[0];o.color?a.style.color=o.color:a.style.color="#fe0032"})}(l)}},getHotspotImg:function(){var e=this,t=void 0,o=void 0;localStorage.getItem("altUser")?(localStorage.getItem("altOrder")&&(t=JSON.parse(localStorage.getItem("altOrder"))),o=t&&t.subscription&&t.subscription.hasOrder&&0==t.subscription.expired?"subscribers":"registered"):o="anonymous",this.actGetHotspotContents(o).then(function(t){if(t.count){var o=t.hotspots[0].images;if(e.hotspotsUrl=t.hotspots[0].link.uri,o&&o.length){var i=void 0,s=!1;i=localStorage.getItem("altConfig")?JSON.parse(localStorage.getItem("altConfig")):void 0,i&&i.environment&&i.environment.isCloudinaryEnabled&&(s=!0),e.hotspotImg=s?"https://res.cloudinary.com/alt-demo/image/fetch/q_auto,w_"+Math.ceil(1*window.screen.width)+"/"+o[0].source:o[0].source}}},function(e){})},playHotspotMedia:function(){var e=this;this.toggleNavMenu(!1);var t=void 0,o=void 0;localStorage.getItem("altUser")&&(t=JSON.parse(localStorage.getItem("altUser"))),t&&localStorage.getItem("altOrder")&&(o=JSON.parse(localStorage.getItem("altOrder"))),o&&o.subscription&&o.subscription.hasOrder&&0==o.subscription.expired&&this.actGetMediaHotspot(this.hotspotsUrl).then(function(t){var o=e.parseContents(t);e.searchResults=o;var s={name:o.contentName,params:{id:o.id}};if(e.$route.name==s.name&&t.id==e.$route.params.id)return void e.toggleLoader(!1);localStorage.setItem("event_source","hotspot"),"episode"==e.searchResults.contentName?(i.eventBus.$emit("togglePlayerScreenFlagEnable",!0),e.checkScreenRotationType()):e.$router.push(s)},function(e){})},checkScreenRotationType:function(){"orientation"in screen&&(matchMedia("(orientation: portrait)").matches,this.makeFullscreen(this.landscapeRotation))},makeFullscreen:function(e){this.vContain=document.getElementById("v-contain"),document.fullscreenElement||document.mozFullScreenElement||document.webkitFullscreenElement||document.msFullscreenElement||(this.vContain.requestFullscreen?this.vContain.requestFullscreen():this.vContain.msRequestFullscreen?this.vContain.msRequestFullscreen():this.vContain.mozRequestFullScreen?this.vContain.mozRequestFullScreen():this.vContain.webkitRequestFullscreen&&this.vContain.webkitRequestFullscreen(Element.ALLOW_KEYBOARD_INPUT)),e&&e()},landscapeRotation:function(){var e=this;screen.orientation.lock("landscape").then(function(t){i.eventBus.$emit("toggleSendDataToPlayerScreen",e.searchResults)},function(t){i.eventBus.$emit("toggleSendDataToPlayerScreen",e.searchResults)})},stuffCommonAttributes:function(){var e={},t=localStorage.getItem("geo_location"),o=JSON.parse(localStorage.getItem("altConfig"));return t&&(t=JSON.parse(t),e=t),e.user_email=localStorage.getItem("user_email"),e.user_id=localStorage.getItem("account_id"),e.user_session=localStorage.getItem("token"),e.user_name=localStorage.getItem("user_name"),e.user_dob=localStorage.getItem("user_birthday"),e.user_gender=localStorage.getItem("user_gender"),e.app_env=o.environment.title,e},stuffMenuSelectAttributes:function(e,t){var o={};return o=this.stuffCommonAttributes(),o.page_title=e||"",o.section_id=t?t.toString():"",o},stuffPageViewAttributes:function(e,t){var o={};return o=this.stuffCommonAttributes(),o.page_title=e,o.page_url=t,o}}),created:function(){var e=this;i.eventBus.$on("toggleUserModeChange",this.toggleUserModeChangeCB);var t=void 0,o=void 0;localStorage.getItem("altUser")?(t=JSON.parse(localStorage.getItem("altUser")),localStorage.getItem("user_name")&&(this.humburgerUserDetails=localStorage.getItem("user_name").trim()?localStorage.getItem("user_name"):"Welcome!",localStorage.getItem("user_name").search("null")>=0&&(this.humburgerUserDetails="Welcome!")),localStorage.getItem("altOrder")&&(o=JSON.parse(localStorage.getItem("altOrder"))),o&&o.subscription&&o.subscription.hasOrder&&0==o.subscription.expired?(this.showSubscribeButton=!1,this.showWatchNow=!0):this.showSubscribeButton=!0):this.humburgerUserDetails="Welcome!",i.eventBus.$on("changeHeaderSubcribeButton",function(t){e.showSubscribeButton=t}),i.eventBus.$on("changeHumburgerName",function(t){t&&t.trim()?e.humburgerUserDetails=t.trim():e.humburgerUserDetails="Welcome!"}),this.setUserLoggedIn(!!t),this.renderNavMenus()},beforeDestroy:function(){i.eventBus.$off("toggleUserModeChange",this.toggleUserModeChangeCB)},mixins:[s.a]}},720:function(e,t,o){e.exports=o.p+"kids-arrow.png"},94:function(e,t,o){var i=o(77)(o(621),o(1074),null,null,null);e.exports=i.exports}});