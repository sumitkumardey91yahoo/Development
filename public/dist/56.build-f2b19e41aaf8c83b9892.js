webpackJsonp([56],{103:function(e,t,s){e.exports=s.p+"lens.svg"},169:function(e,t,s){e.exports=s.p+"bin.svg"},243:function(e,t,s){var a=s(77)(s(665),s(988),null,null,null);e.exports=a.exports},665:function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=s(1),r=s(5),o=s(4),c=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var a in s)Object.prototype.hasOwnProperty.call(s,a)&&(e[a]=s[a])}return e},i=function(){return s.e(94).then(s.bind(null,923))},l=function(){return s.e(93).then(s.bind(null,924))};t.default={data:function(){return{searchQuery:"",searchComponent:"SearchList",emptyResult:!1,recentSearches:void 0,valueResult:void 0,isKidsMode:!1}},computed:c({},s.i(o.a)(["searchResults"])),created:function(){this.checkAppMode(),a.eventBus.$on("togglePopupSearch",this.searchTogglePopupSearchCB),a.eventBus.$on("toggleAppModeChangeEvent",this.toggleAppModeChangeCB),this.fetchRecentSearches(),this.toggleLoader(!1),this.setSearchResults(void 0)},components:{SearchList:i,SearchTemp:l},methods:c({},s.i(o.b)(["setSearchResults","setSearchFilterResults"]),s.i(o.c)(["actSearchQuery"]),{checkAppMode:function(){var e=void 0;localStorage.getItem("altProfileMode")?e=localStorage.getItem("altProfileMode"):(e="default",localStorage.setItem("altProfileMode",e)),this.isKidsMode="kids"==e},toggleAppModeChangeCB:function(){this.checkAppMode()},getSearchResults:function(e){if(this.searchComponent="SearchList",document.getElementById("alt-search-input").value.length>0?this.valueResult=!0:(this.valueResult=!1,this.emptyResult=!1),document.getElementById("alt-search-input").value.length>2){this.setSearchResults(void 0);var t=document.getElementById("alt-search-input").value;this.searchTheQuery(t),13==e.keyCode&&(document.getElementById("alt-search-input").blur(),this.searchRecentQuery(t),this.saveLocalstorage(t))}else this.setSearchResults(void 0)},searchTheQuery:function(e,t){var s=this;this.actSearchQuery(e).then(function(a){if(window.mobileAnalyticsClient){var r=s.getAWSMACommonAttributes();r.search_text=e,window.mobileAnalyticsClient.recordEvent("_search.results",r,{})}if(a&&a.count){s.emptyResult=!1;var o=new Array,c=JSON.parse(localStorage.getItem("mediaProgressList"));for(var i in a.media){var l=s.parseContents(a.media[i]);if(l&&l.geoBlock){if(s.geoBlockCountryWise(l.geoBlock))continue}if(c)for(var n in c)if(l.contentId==c[n].media_id){l.progress=c[n].progress;break}o.push(l)}s.setSearchResults(o),t&&t()}else s.emptyResult=!0},function(e){if(window.mobileAnalyticsClient){var t=s.getAWSMACommonAttributes();t.event_action="error",t.event_message=e.message?e.message:"N.A",t.event_code=e.code?e.code.toString():"",window.mobileAnalyticsClient.recordEvent("_search.results",t,{})}})},stuffCommonAttributes:function(){var e={},t=localStorage.getItem("geo_location"),s=JSON.parse(localStorage.getItem("altConfig"));return t&&(t=JSON.parse(t),e=t),e.user_email=localStorage.getItem("user_email"),e.user_id=localStorage.getItem("account_id"),e.user_session=localStorage.getItem("token"),e.user_name=localStorage.getItem("user_name"),e.user_dob=localStorage.getItem("user_birthday"),e.user_gender=localStorage.getItem("user_gender"),e.app_env=s.environment.title,e},stuffErrorAttributes:function(e,t){var s={};return s=this.stuffCommonAttributes(),s.error_code=e.toString(),s.error_message=t,s.event_action="error",s},stuffSearchAttributes:function(e){var t={};return t=this.stuffCommonAttributes(),t.search_text=e,t},closeSearch:function(){this.valueResult=!1,this.setSearchResults(void 0),this.setSearchFilterResults(void 0),this.emptyResult=!1,this.searchComponent="SearchList",this.searchQuery.length?(this.searchQuery="",localStorage.getItem("altDefSearches")&&(this.recentSearches=JSON.parse(localStorage.getItem("altDefSearches")))):0==document.getElementById("alt-search-input").value.length?a.eventBus.$emit("togglePopupSearch",!1):document.getElementById("alt-search-input").value=""},saveLocalstorage:function(e){var t=void 0;if(localStorage.getItem("altProfileMode")?t=localStorage.getItem("altProfileMode"):(t="default",localStorage.setItem("altProfileMode",t)),"kids"==t){var s=new Array;localStorage.getItem("altKidsSearch")&&(s=JSON.parse(localStorage.getItem("altKidsSearch"))),s.unshift(e),s=this.getUniqueArray(s),this.recentSearches=s,localStorage.setItem("altKidsSearch",JSON.stringify(s))}else{var a=new Array;localStorage.getItem("altDefSearches")&&(a=JSON.parse(localStorage.getItem("altDefSearches"))),a.unshift(e),a=this.getUniqueArray(a),this.recentSearches=a,localStorage.setItem("altDefSearches",JSON.stringify(a))}},showSearchTemp:function(){var e=void 0;document.getElementById("alt-search-input")&&(e=document.getElementById("alt-search-input").value),e&&(this.saveLocalstorage(e),this.searchComponent="SearchTemp",this.valueResult=!0)},searchRecentQuery:function(e){var t=this;this.setQueryToInput(e),this.searchTheQuery(e,function(){t.searchComponent="SearchTemp"}),this.valueResult=!0},setQueryToInput:function(e){document.getElementById("alt-search-input").value=e},clearDefRecntSearch:function(){var e=void 0;localStorage.getItem("altProfileMode")?e=localStorage.getItem("altProfileMode"):(e="default",localStorage.setItem("altProfileMode",e)),"kids"==e?localStorage.removeItem("altKidsSearch"):localStorage.removeItem("altDefSearches"),this.recentSearches=void 0},searchTogglePopupSearchCB:function(e){if(this.fetchRecentSearches(),e){this.valueResult=!1;var t=document.getElementById("alt-search-input");t&&(t.value=""),this.searchComponent="SearchList",this.setSearchResults(!1)}},fetchRecentSearches:function(){var e=void 0;if(localStorage.getItem("altProfileMode")?e=localStorage.getItem("altProfileMode"):(e="default",localStorage.setItem("altProfileMode",e)),"kids"==e){var t=new Array;localStorage.getItem("altKidsSearch")&&(t=JSON.parse(localStorage.getItem("altKidsSearch"))),t=this.getUniqueArray(t),this.recentSearches=t}else{var s=new Array;localStorage.getItem("altDefSearches")&&(s=JSON.parse(localStorage.getItem("altDefSearches"))),s=this.getUniqueArray(s),this.recentSearches=s}}}),mixins:[r.a]}},713:function(e,t,s){e.exports=s.p+"bin-dark.svg"},714:function(e,t,s){e.exports=s.p+"close-dark.svg"},721:function(e,t,s){e.exports=s.p+"lens-dark.svg"},80:function(e,t,s){e.exports=s.p+"close.svg"},988:function(e,t,s){e.exports={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"app-search alt-popup-bg search-bg"},[a("div",{staticClass:"color-line lg",attrs:{id:"brand_color_class"}}),e._v(" "),a("div",{staticClass:"search-input"},[a("div",{staticClass:"search-inp-sec ico-left"},[a("img",{directives:[{name:"show",rawName:"v-show",value:!e.isKidsMode,expression:"!(isKidsMode)"}],staticClass:"header-ico search-input-elem search-ico",attrs:{src:s(103),alt:"lens"},on:{click:e.showSearchTemp}}),e._v(" "),a("img",{directives:[{name:"show",rawName:"v-show",value:e.isKidsMode,expression:"isKidsMode"}],staticClass:"header-ico search-input-elem search-ico",attrs:{src:s(721),alt:"lens-dark"},on:{click:e.showSearchTemp}})]),e._v(" "),a("div",{staticClass:"search-inp-sec input"},[a("input",{staticClass:"alt-form-control search-input-elem",attrs:{type:"search",id:"alt-search-input",placeholder:"Search movies, series and videos"},on:{keyup:e.getSearchResults}})]),e._v(" "),a("div",{staticClass:"search-inp-sec ico-right"},[a("img",{directives:[{name:"show",rawName:"v-show",value:!e.isKidsMode,expression:"!(isKidsMode)"}],staticClass:"header-ico search-input-elem",attrs:{src:s(80),alt:"search-close"},on:{click:e.closeSearch}}),e._v(" "),a("img",{directives:[{name:"show",rawName:"v-show",value:e.isKidsMode,expression:"isKidsMode"}],staticClass:"header-ico search-input-elem",attrs:{src:s(714),alt:"close-dark"},on:{click:e.closeSearch}})]),e._v(" "),a("div",{staticClass:"clearfix"})]),e._v(" "),e.recentSearches&&e.recentSearches.length&&1!=e.valueResult?a("div",{staticClass:"search-recent"},[a("h4",{directives:[{name:"show",rawName:"v-show",value:!e.isKidsMode,expression:"!(isKidsMode)"}]},[e._v("Recent searches "),a("img",{staticClass:"header-ico search-right",attrs:{src:s(169),alt:"bin-search"},on:{click:e.clearDefRecntSearch}})]),e._v(" "),a("h4",{directives:[{name:"show",rawName:"v-show",value:e.isKidsMode,expression:"isKidsMode"}]},[e._v("Recent searches "),a("img",{staticClass:"header-ico search-right",attrs:{src:s(713),alt:"bin-dark"},on:{click:e.clearDefRecntSearch}})]),e._v(" "),a("ul",e._l(e.recentSearches,function(t){return""!=t?a("li",{on:{click:function(s){e.searchRecentQuery(t)}}},[e._v(e._s(t))]):e._e()}))]):e._e(),e._v(" "),e.emptyResult?a("div",{staticClass:"v-center-box"},[a("h3",[e._v("No results found")])]):a(e.searchComponent,{tag:"component"})],1)},staticRenderFns:[]}}});