webpackJsonp([23],{25:function(e,t,i){var o=i(77)(i(551),i(963),null,null,null);e.exports=o.exports},551:function(e,t,i){"use strict";function o(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}Object.defineProperty(t,"__esModule",{value:!0});var n,s=i(1),r=i(5),a=i(4),l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(e[o]=i[o])}return e},c=function(){return i.e(66).then(i.bind(null,106))},u=function(){return i.e(47).then(i.bind(null,82))},d=function(){return i.e(57).then(i.bind(null,921))};t.default=(n={data:function(){return{favouriteItems:void 0,favouriteShows:void 0,favouriteMovies:void 0,favouriteVideos:void 0,sections:["SHOWS","MOVIES","VIDEOS"],activeTitle:void 0,activeContents:void 0,limit:50,offset:0,showClearAllBtn:!1,showClearSelectedBtn:!1,showClearCrossButton:!1,deleteMode:!1,altOrder:void 0,itemsToDelete:[],showFavDeleteCheck:!1,favDelCheckIdPrefix:"fav-del-check-",slctdFavDelItemsLength:0,favSlctdDeletedItems:0,slctdFavDelError:!1,slctdFavDelErrorCount:0,showCreateKidsPin:!1,showPopupDeleteVideo:!1,deleteButtonType:void 0,redirectionFlag:!1,playbackItemInfo:void 0}},computed:l({},i.i(a.a)(["favourites","appActive"])),watch:{appActive:function(){this.initFavourites()},itemsToDelete:function(e){this.watchItemsToDeleteCB(e)}},methods:l({},i.i(a.b)(["setFavourites","setPlayerContent","setFavouriteDeleteMode"]),i.i(a.c)(["actGetFavouriteList","actDeleteFavouriteSeries","actDeleteFavouriteMedia","actDeleteFavouriteItems"]),{setFavouritePageHeader:function(){this.setHeaderTitle("Favourites");var e=document.getElementById("header-search-ico");e&&(e.style.display="none");var t=document.getElementById("delete-ico");t&&(t.addEventListener("click",this.favDeleteIcoClickCB),t.style.display="inline");var i=document.getElementById("header-close-ico-default");i&&(i.addEventListener("click",this.favCloseDeleteIcoClickCB),i.style.display="none")},deleteAllRecentPopup:function(){document.getElementById("alt-app")&&(document.getElementById("alt-app").style.position="fixed"),this.deleteButtonType="ALL",this.showPopupDeleteVideo=!0},deleteSelectedRecentPopup:function(){document.getElementById("alt-app")&&(document.getElementById("alt-app").style.position="fixed"),this.deleteButtonType="SELECTED",this.showPopupDeleteVideo=!0},initFavourites:function(){var e=this;this.actGetFavouriteList({limit:this.limit,offset:this.offset}).then(function(t){if(t.count){var i=new Array,o=void 0;localStorage.getItem("mediaProgressList")&&(o=JSON.parse(localStorage.getItem("mediaProgressList")));for(var n in t.assets){var s=e.parseContents(t.assets[n]);if("episode"!=s.contentName){if(o)for(var r in o)if(s.contentId==o[r].media_id){s.progress=o[r].progress;break}i.push(s)}}e.favouriteItems=i,e.setActiveSection("SHOWS")}else{e.favouriteShows=void 0,e.favouriteMovies=void 0,e.favouriteVideos=void 0,e.deleteMode=!1,e.favouriteItems=void 0,e.setFavourites([]),e.setActiveSection("SHOWS");var a=document.getElementById("delete-ico");a&&(a.style.display="none");var l=document.getElementById("header-close-ico-default");l&&(l.style.display="none")}},function(e){})},isFreeContent:function(e){return!!(this.altUser&&this.altOrder&&this.altOrder.subscription&&0==this.altOrder.subscription.hasOrder&&1==this.altOrder.subscription.expired)||!(this.altOrder&&this.altOrder.subscription&&this.altOrder.subscription.hasOrder&&0==this.altOrder.subscription.expired)&&e.isFreeContent},setActiveSection:function(e){this.activeTitle=e;var t=void 0;if(!this.favouriteItems||!this.favouriteItems.length)return void this.toggleLoader(!1);switch(e){case"SHOWS":t=this.favouriteItems.filter(function(e){return"episode"==e.contentType||"series"==e.contentType});break;case"MOVIES":t=this.favouriteItems.filter(function(e){return"movie"==e.contentType});break;case"VIDEOS":t=this.favouriteItems.filter(function(e){return"trailer"==e.contentType||"poster"==e.contentType})}if(this.toggleLoader(!1),this.setFavourites(t),window.mobileAnalyticsClient){var i=this.getAWSMACommonAttributes();i.category_title=e,i.category_id="N.A",i.category_url="N.A",window.mobileAnalyticsClient.recordEvent("_category.select",i,{})}},playFavouriteItem:function(e){var t=this.favourites[e];if(this.setPlayerContent(t),localStorage.setItem("event_source","favourites"),"episode"==t.contentName)this.playbackItemInfo=t,this.playerScreenFlag=!0,this.checkScreenRotationType();else{var i={name:t.contentName,params:{id:t.id}};localStorage.setItem("AWSMA_content_source","favourite"),this.redirectionFlag||this.$router.push(i)}},checkScreenRotationType:function(){"orientation"in screen&&(matchMedia("(orientation: portrait)").matches,this.makeFullscreen(this.landscapeRotation))},makeFullscreen:function(e){this.vContain=document.getElementById("v-contain"),document.fullscreenElement||document.mozFullScreenElement||document.webkitFullscreenElement||document.msFullscreenElement||(this.vContain.requestFullscreen?this.vContain.requestFullscreen():this.vContain.msRequestFullscreen?this.vContain.msRequestFullscreen():this.vContain.mozRequestFullScreen?this.vContain.mozRequestFullScreen():this.vContain.webkitRequestFullscreen&&this.vContain.webkitRequestFullscreen(Element.ALLOW_KEYBOARD_INPUT)),e&&e()},landscapeRotation:function(){var e=this;screen.orientation.lock("landscape").then(function(t){s.eventBus.$emit("toggleSendDataToPlayerScreen",e.playbackItemInfo)},function(e){})},isActiveClass:function(e){return this.activeTitle==e?"active":""},deleteFavouriteItem:function(e,t){var i=this;if(window.mobileAnalyticsClient){this.getAWSMACommonAttributes();eventAttributeObj.content_id=t.id,eventAttributeObj.content_title=t.title.toLowerCase(),eventAttributeObj.content_url=window.location.href,eventAttributeObj.content_type=t.contentType,eventAttributeObj.event_action="remove",window.mobileAnalyticsClient.recordEvent("_content.favourite",eventAttributeObj,{})}"series"==t.contentType?this.actDeleteFavouriteSeries(t.seriesId).then(function(t){i.favourites.splice(e,1),i.cumulateItems()},function(e){if(window.mobileAnalyticsClient){var t=i.getAWSMACommonAttributes();t.error_code=e.code.toString(),t.error_message=e.message,t.event_action="error",window.mobileAnalyticsClient.recordEvent("_content.favourite",t,{})}}):this.actDeleteFavouriteMedia(t.contentId).then(function(t){i.favourites.splice(e,1),i.cumulateItems()},function(e){if(window.mobileAnalyticsClient){var t=i.getAWSMACommonAttributes();t.error_code=e.code.toString(),t.error_message=e.message,t.event_action="error",window.mobileAnalyticsClient.recordEvent("_content.favourite",t,{})}})},cumulateItems:function(){switch(this.activeTitle){case"SHOWS":this.favouriteShows&&this.favouriteShows.length||(this.deleteMode=!1,s.eventBus.$emit("toggleFavDeleteModeEvent",!1));break;case"MOVIES":this.favouriteMovies&&this.favouriteMovies.length||(this.deleteMode=!1,s.eventBus.$emit("toggleFavDeleteModeEvent",!1));break;case"VIDEOS":this.favouriteVideos&&this.favouriteVideos.length||(this.deleteMode=!1,s.eventBus.$emit("toggleFavDeleteModeEvent",!1))}},toggleFavDeleteModeCB:function(e){var t=document.getElementById("delete-ico");t&&(t.style.display=e?"none":"inline");var i=document.getElementById("header-close-ico-default");i&&(i.style.display=e?"inline":"none"),this.redirectionFlag=!1,this.deleteMode=e,this.showFavDeleteCheck=e,this.showClearAllBtn=e,this.showClearSelectedBtn=!1,this.itemsToDelete=[]},favDeleteIcoClickCB:function(){var e=document.getElementById("delete-ico");e&&(e.style.display="none"),this.redirectionFlag=!0;var t=document.getElementById("header-close-ico-default");t&&(t.style.display="inline"),this.deleteMode=!0,this.showFavDeleteCheck=!0,this.showClearAllBtn=!0,this.showClearSelectedBtn=!1,this.itemsToDelete=[]},favCloseDeleteIcoClickCB:function(){var e=document.getElementById("header-close-ico-default");e&&(e.style.display="none");var t=document.getElementById("delete-ico");t&&(t.style.display="inline"),this.redirectionFlag=!1,this.deleteMode=!1,this.showFavDeleteCheck=!1,this.showClearAllBtn=!1,this.showClearSelectedBtn=!1,this.itemsToDelete=[]},deleteAllFavourites:function(){var e=this;if(this.toggleLoader(!0),this.actDeleteFavouriteItems().then(function(t){setTimeout(e.initFavourites,1e3)},function(t){if(window.mobileAnalyticsClient){var i=e.getAWSMACommonAttributes();i.error_code=t.code.toString(),i.error_message=t.message,i.event_action="error",window.mobileAnalyticsClient.recordEvent("_content.favourite",i,{})}e.toggleLoader(!1)}),window.mobileAnalyticsClient){var t=this.getAWSMACommonAttributes();t.event_action="clearall",window.mobileAnalyticsClient.recordEvent("_content.favourite",t,{})}},deleteSelectedFavourites:function(){var e=this;if(this.toggleLoader(!0),!this.itemsToDelete||!this.itemsToDelete.length)return void this.toggleLoader(!1);var t=this.getAWSMACommonAttributes();for(var i in this.itemsToDelete){var o=this.itemsToDelete[i];window.mobileAnalyticsClient&&(t.event_action="remove",t.content_id=o.id?o.id:"N.A",t.content_title=o.title?o.title.toLowerCase():"N.A",t.content_url=o.url?o.url:"N.A",t.content_type=o.type?o.type:"N.A",window.mobileAnalyticsClient.recordEvent("_content.favourite",t,{})),"media"==o.type||"episode"==o.type?this.actDeleteFavouriteMedia(o.id).then(function(t){e.favSlctdDeletedItems+=1},function(t){e.slctdFavDelError=!0}):"series"!=o.type&&"show"!=o.type||this.actDeleteFavouriteSeries(o.id).then(function(t){e.favSlctdDeletedItems+=1},function(t){e.slctdFavDelError=!0})}for(var n=document.getElementsByClassName("fav-del-check"),r=(new Array,new Array),i=0;i<n.length;i++)n[i].checked&&r.push(i);for(var a in r)delete this.favourites[r[a]];this.setFavourites(this.favourites.filter(function(e){return e})),s.eventBus.$emit("toggleFavDeleteModeEvent",!1),this.itemsToDelete=[],setTimeout(this.initFavourites,2e3)},getFavDeleteCheckID:function(e){if(e.contentType)switch(e.contentType){case"series":return this.favDelCheckIdPrefix+"series-"+e.seriesId;default:return this.favDelCheckIdPrefix+"media-"+e.contentId}return this.generateRandomId(10)},getFavDeleteCheckValue:function(e,t){return{type:e.contentName?e.contentName:"media",id:e.id,index:t,title:e.title,url:e._links&&e._links.self?e._links.self.href:"N.A"}},watchItemsToDeleteCB:function(e){e&&e.length?(this.showClearAllBtn=!1,this.showClearSelectedBtn=!0):(this.showClearAllBtn=!0,this.showClearSelectedBtn=!1)},popupDeleteVideoCB:function(e){this.showPopupDeleteVideo=!1,this.deleteButtonType&&("SELECTED"==this.deleteButtonType?this.deleteSelectedFavourites():this.deleteAllFavourites())},stuffCommonAttributes:function(){var e={},t=localStorage.getItem("geo_location"),i=JSON.parse(localStorage.getItem("altConfig"));return t&&(t=JSON.parse(t),e=t),e.user_email=localStorage.getItem("user_email"),e.user_id=localStorage.getItem("account_id"),e.user_session=localStorage.getItem("token"),e.user_name=localStorage.getItem("user_name"),e.user_dob=localStorage.getItem("user_birthday"),e.user_gender=localStorage.getItem("user_gender"),e.app_env=i.environment.title,e},stuffMenuSelectAttributes:function(e,t){var i={};return i=this.stuffCommonAttributes(),i.page_title=e,i.section_id=t.toString(),i},stuffPageViewAttributes:function(e,t){var i={};return i=this.stuffCommonAttributes(),i.page_title=e,i.page_url=t,i},stuffErrorAttributes:function(e,t){var i={};return i=this.stuffCommonAttributes(),i.error_code=e.toString(),i.error_message=t,i.event_action="error",i},stuffFavouriteAttributes:function(e,t){var i={};return i=this.stuffCommonAttributes(),void 0==t.contentId?"series"==t.contentType&&(i.content_id=t.seriesId):i.content_id=t.contentId,i.content_title=t.title.toLowerCase(),i.content_url=t.content_url,i.content_type=t.contentType,i.event_action=e,i}}),created:function(){var e=this;this.toggleLoader(!0),s.eventBus.$on("popupDeleteVideoEvent",this.popupDeleteVideoCB),s.eventBus.$on("togglePopupDeleteVideo",function(t){e.showPopupDeleteVideo=t}),s.eventBus.$on("toggleCreateKidsPinEvent",function(t){e.showCreateKidsPin=t,t||e.$router.push({name:"home"})});localStorage.getItem("altOrder")&&(this.altOrder=JSON.parse(localStorage.getItem("altOrder"))),s.eventBus.$on("toggleVideoDeleteConformationPopupEvent",function(t){e.showPopupDeleteVideo=t}),s.eventBus.$on("toggleFavDeleteModeEvent",this.toggleFavDeleteModeCB),this.appActive&&this.initFavourites()},mounted:function(){this.toggleLoader(!0),this.setFavouritePageHeader(),s.eventBus.$emit("toggleVideoBlockPopupEvent",!1)},beforeRouteEnter:function(e,t,i){"kids"==localStorage.getItem("altProfileMode")?i({name:"kidsMode"}):localStorage.getItem("altUser")&&i()},beforeDestroy:function(){var e=document.getElementById("delete-ico");e&&e.removeEventListener("click",this.favDeleteIcoClickCB);var t=document.getElementById("header-close-ico-default");t&&t.removeEventListener("click",this.favCloseDeleteIcoClickCB),s.eventBus.$off("toggleVideoDeleteConformationPopupEvent"),s.eventBus.$off("toggleVideoDelete"),s.eventBus.$off("popupDeleteVideoEvent")},components:{"alt-modals":u,"popup-delete-video":d,"player-screen":c}},o(n,"beforeRouteEnter",function(e,t,i){localStorage.getItem("altUser")?i():i({name:"home"})}),o(n,"mixins",[r.a]),n)},77:function(e,t){e.exports=function(e,t,i,o,n){var s,r=e=e||{},a=typeof e.default;"object"!==a&&"function"!==a||(s=e,r=e.default);var l="function"==typeof r?r.options:r;t&&(l.render=t.render,l.staticRenderFns=t.staticRenderFns),o&&(l._scopeId=o);var c;if(n?(c=function(e){e=e||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext,e||"undefined"==typeof __VUE_SSR_CONTEXT__||(e=__VUE_SSR_CONTEXT__),i&&i.call(this,e),e&&e._registeredComponents&&e._registeredComponents.add(n)},l._ssrRegister=c):i&&(c=i),c){var u=l.functional,d=u?l.render:l.beforeCreate;u?l.render=function(e,t){return c.call(t),d(e,t)}:l.beforeCreate=d?[].concat(d,c):[c]}return{esModule:s,exports:r,options:l}}},87:function(e,t,i){e.exports=i.p+"alt-cover.jpg"},963:function(e,t,i){e.exports={render:function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{staticClass:"alt-favourites"},[o("nav",{staticClass:"top-menu"},e._l(e.sections,function(t){return o("a",{staticClass:"scroll-menu",class:e.isActiveClass(t),on:{click:function(i){e.setActiveSection(t)}}},[e._v(e._s(t))])})),e._v(" "),e.favourites&&e.favourites.length?o("div",{attrs:{id:"mvi-fav-sec"}},e._l(e.favourites,function(t,n){return o("div",{staticClass:"mvi-data"},[o("label",{attrs:{for:e.getFavDeleteCheckID(t)}},[o("div",{staticClass:"mvi-item",on:{click:function(t){e.playFavouriteItem(n)}}},[o("div",{staticClass:"mvi-img-sec"},[t.images&&t.images.cover?o("img",{staticClass:"mvi-img",attrs:{src:t.images.cover}}):o("img",{attrs:{src:i(87),alt:""}}),e._v(" "),t.progress&&100!=t.progress?o("div",{staticClass:"line-progress"},[o("div",{staticClass:"progress",style:{width:t.progress+"%"}})]):o("div",{staticClass:"color-line"})]),e._v(" "),o("div",{staticClass:"mvi-detail-sec"},[t.title?o("h3",[e._v(e._s(t.title))]):e._e(),e._v(" "),o("ul",{staticClass:"info-tags"},[!t.noShow&&t.seasonNumber?o("li",[e._v("S"+e._s(t.seasonNumber))]):e._e(),e._v(" "),!t.noShow&&t.episodeNumber?o("li",[e._v("E"+e._s(t.episodeNumber))]):e._e(),e._v(" "),t.duration?o("li",[e._v(e._s(t.duration))]):e._e(),e._v(" "),"Poster"==t.contentTitle?o("li",[e._v("0s")]):e._e(),e._v(" "),t.mainLanguage?o("li",[e._v(e._s(t.mainLanguage))]):e._e()]),e._v(" "),o("p",{directives:[{name:"show",rawName:"v-show",value:"series"==t.contentType,expression:"content.contentType=='series'"}],staticClass:"series-content"},[e._v(e._s(t.categories[0]))]),e._v(" "),t.comingSoon?o("p",{staticClass:"alt-tag"},[e._v("Coming Soon")]):e._e(),e._v(" "),o("p",{directives:[{name:"show",rawName:"v-show",value:e.isFreeContent(t)&&!t.progress,expression:"isFreeContent(content) && !(content.progress)"}],staticClass:"alt-tag"},[e._v("Free")]),e._v(" "),t.progress&&!t.comingSoon?o("p",{staticClass:"alt-tag"},[100!=t.progress?o("span",[e._v("watching")]):o("span",[e._v("watched")])]):e._e()]),e._v(" "),o("div",{staticClass:"clearfix"})])]),e._v(" "),o("input",{directives:[{name:"model",rawName:"v-model",value:e.itemsToDelete,expression:"itemsToDelete"},{name:"show",rawName:"v-show",value:e.showFavDeleteCheck,expression:"showFavDeleteCheck"}],staticClass:"del-check fav-del-check",attrs:{type:"checkbox",id:e.getFavDeleteCheckID(t)},domProps:{value:e.getFavDeleteCheckValue(t,n),checked:Array.isArray(e.itemsToDelete)?e._i(e.itemsToDelete,e.getFavDeleteCheckValue(t,n))>-1:e.itemsToDelete},on:{change:function(i){var o=e.itemsToDelete,s=i.target,r=!!s.checked;if(Array.isArray(o)){var a=e.getFavDeleteCheckValue(t,n),l=e._i(o,a);s.checked?l<0&&(e.itemsToDelete=o.concat([a])):l>-1&&(e.itemsToDelete=o.slice(0,l).concat(o.slice(l+1)))}else e.itemsToDelete=r}}})])})):o("div",{staticClass:"alt-empty-msg"},[o("p",{staticClass:"empty-msg"},[e._v("No Favourites yet. Really?")])]),e._v(" "),o("div",{directives:[{name:"show",rawName:"v-show",value:e.favourites&&e.deleteMode,expression:"favourites && deleteMode"}],staticClass:"bottom-box"},[o("div",{staticClass:"btn-box"},[o("button",{directives:[{name:"show",rawName:"v-show",value:e.showClearAllBtn,expression:"showClearAllBtn"}],staticClass:"btn btn-grad btn-lg",attrs:{type:"button"},on:{click:e.deleteAllRecentPopup}},[e._v("CLEAR ALL")]),e._v(" "),o("button",{directives:[{name:"show",rawName:"v-show",value:e.showClearSelectedBtn,expression:"showClearSelectedBtn"}],staticClass:"btn btn-grad btn-lg",attrs:{type:"button"},on:{click:e.deleteSelectedRecentPopup}},[e._v("CLEAR SELECTED")])])]),e._v(" "),o("popup-delete-video",{directives:[{name:"show",rawName:"v-show",value:e.showPopupDeleteVideo,expression:"showPopupDeleteVideo"}]}),e._v(" "),o("alt-modals")],1)},staticRenderFns:[]}}});