webpackJsonp([33],{1010:function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"paytm-campaign-container"},[e._m(0),e._v(" "),a("div",{staticClass:"paytm-campaign-body"},[e.partnerDetails&&e.partnerDetails.offerText?a("p",{staticClass:"paytm-header"},[e._v(e._s(e.partnerDetails.offerText))]):e._e(),e._v(" "),a("form",{attrs:{autocomplete:"off"}},[a("div",{staticClass:"form-group"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.email,expression:"email"}],staticClass:"form-control paytm-campaign-input",staticStyle:{"font-size":"15px"},attrs:{type:"email",name:"email",id:"email_text",placeholder:""},domProps:{value:e.email},on:{input:function(t){t.target.composing||(e.email=t.target.value)}}}),e._v(" "),e.emailError?a("p",[e._v(e._s(e.emailError))]):e._e()]),e._v(" "),a("p",{staticStyle:{"font-size":"10px"}},[e._v("By entering your email id is you agree to "),a("router-link",{staticClass:"link-under",attrs:{to:{name:"toc"}}},[e._v("Terms of Use")]),e._v(" and "),a("router-link",{staticClass:"link-under",attrs:{to:{name:"privacyPolicy"}}},[e._v("Privacy Policy")])],1),e._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:e.altConfigPromo.submitButtonText,expression:"altConfigPromo.submitButtonText"}],staticClass:"grad-btn submit-btn btn",staticStyle:{"margin-top":"40px"},attrs:{type:"submit",id:"textEmail"},domProps:{value:e.altConfigPromo.submitButtonText},on:{click:function(t){return t.preventDefault(),e.paytmGetEmail(t)},input:function(t){t.target.composing||e.$set(e.altConfigPromo,"submitButtonText",t.target.value)}}})]),e._v(" "),a("a",{attrs:{href:"",id:"paytmLinkId"}})]),e._v(" "),a("div",{staticClass:"paytm-campaign-footer",attrs:{id:"paytm-footer"}},[a("p",[e._v("Already registered ALTBalaji user? "),a("u",{on:{click:e.goToSign}},[e._v("Sign in here")])])])])},staticRenderFns:[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"paytm-campaign-header"},[a("div",{staticClass:"alt-smpl-head"},[a("img",{staticClass:"paytm-campaign-width",attrs:{src:"/src/assets/altlogo144.png",alt:""}})])])}]}},43:function(e,t,a){var i=a(77)(a(602),a(1010),null,null,null);e.exports=i.exports},602:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=(a(1),a(5)),r=a(4),o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var i in a)Object.prototype.hasOwnProperty.call(a,i)&&(e[i]=a[i])}return e};t.default={data:function(){return{email:void 0,emailError:!1,altUser:void 0,altConfigPromo:void 0,partnerDetails:void 0}},methods:o({},a.i(r.b)([]),a.i(r.c)(["actPaytmSignup","actPaytmLogin","actPaytmGetDeviceList","actPaytmDeleteDevice","actPaytmRegisterDevice","actPaytmHasCodeFeatures","actGetAccountDetails","actCreateOrder","actProductDetails","actSendEmailWithToken"]),{paytmGetEmail:function(){var e=void 0;e=this.email,this.loginFormValid(e)&&(this.toggleLoader(!0),this.paytmSignup(e))},goToSign:function(){this.toggleDeleteIco(!1),this.toggleMenuIco(!0),this.clearUserData(),localStorage.setItem("campaign-redirect",!0),this.$router.push({name:"login"})},signupAnalytics:function(e){if(window.mobileAnalyticsClient){var t=this.getAWSMACommonAttributes();t.user_id=e&&e.id?e.id:null,t.user_email=e&&e.login?e.login:null,t.event_mode="syndication-email",t.partner_id=this.$route&&this.$route.query&&this.$route.query.partner?this.$route.query.partner:null,window.mobileAnalyticsClient.recordEvent("_user.signup",t,{})}},paytmSignup:function(e){var t=this,a={login:e};localStorage.setItem("partner_id",this.partnerDetails.name);var i=this.getTimestamp(),r=void 0;localStorage.getItem("homeDomain")&&(r=localStorage.getItem("homeDomain"));var o=this.getSignedHeaders(a,i,r),n={headerData:o,timestamp:i,data:a};this.actPaytmSignup(n).then(function(a){a&&"ok"==a.status&&(localStorage.removeItem("altOrder"),t.signupAnalytics(a),t.paytmLogin(e))},function(a){if(t.toggleDeleteIco(!1),t.toggleMenuIco(!0),a&&409==a.code){var i=void 0,r=void 0;t.toggleLoader(!1);var i=!!localStorage.getItem("altUser")&&JSON.parse(localStorage.getItem("altUser"));i?(r=localStorage.getItem("altOrder")?JSON.parse(localStorage.getItem("altOrder")):void 0,i.email==e?r&&r.subscription&&r.subscription.hasOrder&&0==r.subscription.expired?t.$router.push({name:"home"}):t.$router.push({name:"paymentPage"}):(t.clearUserData(),localStorage.setItem("campaign-redirect",!0),t.$router.push({name:"login"}))):(localStorage.setItem("campaign-redirect",!0),t.$router.push({name:"login"}))}})},paytmLogin:function(e){var t=this,a={username:e},i=this.getTimestamp(),r=void 0;localStorage.getItem("homeDomain")&&(r=localStorage.getItem("homeDomain"));var o=this.getSignedHeaders(a,i,r),n={headerData:o,timestamp:i,data:a};this.actPaytmLogin(n).then(function(e){t.paytmSaveLocal(e)},function(e){})},loginEventTriger:function(){if(mobileAnalyticsClient){var e=this.getAWSMACommonAttributes();e.event_mode="syndication-email",e.partner_id=this.$route&&this.$route.query&&this.$route.query.partner?this.$route.query.partner:null,e.user_state=localStorage.getItem("user_state")?localStorage.getItem("user_state"):null,e.user_mobile=localStorage.getItem("user_mobile")?localStorage.getItem("user_mobile"):null,window.mobileAnalyticsClient.recordEvent("_user.login",e,{})}},paytmSaveLocal:function(e){var t=e.account,a=e.account.profile,i={sessionToken:e.session_token?e.session_token:"",dateCreated:t.date_created?t.date_created:"",email:t.email?t.email:"",accountId:t.id?t.id:"",isAdmin:t.is_admin?t.is_admin:"",login:t.login?t.login:"",username:a.username?a.username:"",profileId:a.id?a.id:""};this.altUser=i,localStorage.setItem("token",e.session_token),localStorage.setItem("user_email",e.account.email),localStorage.setItem("account_id",e.account.id),localStorage.setItem("altUser",JSON.stringify(i));var r=void 0,o=this.getTimestamp();localStorage.getItem("altDeviceId")&&(r=localStorage.getItem("altDeviceId")),r||(r=this.generateRandomId(32),localStorage.setItem("altDeviceId",r)),this.registerDevice({user:i,deviceId:r,date:o}),this.registerProfile(i),this.loginEventTriger()},registerProfile:function(e){var t=this;this.actGetAccountDetails(e).then(function(e){var a=void 0;a={dateCreated:t.formatIsoDate(e.date_created),details:e.details,emailVerified:e.email_verified,marketingConcent:e.marketing_consent,phoneNumber:e.phone_number,profile:e.profile,name:e.name,surname:e.surname},localStorage.setItem("user_mobile",e.phone_number?e.phone_number:"N.A"),localStorage.setItem("user_state",e.details&&e.details.state?e.details.state:"N.A"),localStorage.setItem("user_name",e.name+" "+e.surname),localStorage.setItem("user_birthday",e.details.birthday?e.details.birthday:""),localStorage.setItem("user_gender",e.details.gender?e.details.gender:""),localStorage.setItem("altAccount",JSON.stringify(a))},function(e){})},saveDevice:function(e){var t={uuid:e.uuid,appVersion:e.app_version,deviceId:e.id,ipAddress:e.ip_address,name:e.name,type:e.type,userAgent:e.user_agent};localStorage.setItem("altDevice",JSON.stringify(t)),this.$router.push({name:"paymentPage"})},clearRegisterDevice:function(e){var t=this,a=void 0;for(a in e){var i={user:this.altUser,deviceId:e[a].id};this.actPaytmDeleteDevice(i).then(function(e){var a=void 0,i=t.getTimestamp();localStorage.getItem("altDeviceId")&&(a=localStorage.getItem("altDeviceId")),a||(a=t.generateRandomId(32),localStorage.setItem("altDeviceId",a)),t.registerDevice({user:t.altUser,deviceId:a,date:i})},function(e){});break}},getRegisterDevice:function(){var e=this;this.actPaytmGetDeviceList(this.altUser).then(function(t){e.clearRegisterDevice(t.devices)},function(e){})},registrationDevice:function(e){var t=this;this.actPaytmRegisterDevice(e).then(function(e){e&&t.saveDevice(e)},function(e){e&&400==e.code&&t.getRegisterDevice(),e&&409==e.code&&t.getRegisterDevice()})},registerDevice:function(e){var t=this;this.actPaytmGetDeviceList(e.user).then(function(a){if(a.count){var i=a.devices,r=localStorage.getItem("altDeviceId")?localStorage.getItem("altDeviceId"):"",o=i.filter(function(e){return e.uuid==r});if(o&&o.length){var n=o[0];t.saveDevice(n)}else r=t.generateRandomId(32),localStorage.setItem("altDeviceId",r),e.deviceId=r,t.registrationDevice(e)}else r=t.generateRandomId(32),localStorage.setItem("altDeviceId",r),e.deviceId=r,t.registrationDevice(e)},function(e){})},setSubscriptionHeader:function(){this.setHeaderTitle(""),this.toggleSearchIco(!1),this.toggleCloseIco(!1),this.toggleDeleteIco(!1),this.toggleMenuIco(!1)},loginFormValid:function(){return!!this.validateEmail()},validateEmail:function(){return this.email?/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(this.email)?(this.emailError=!1,!0):(this.emailError="Email not valid",!1):(this.emailError="Enter your email here",!1)},pageViewEvent:function(){if(window.mobileAnalyticsClient){var e=this.getAWSMACommonAttributes();e.page_title="promo-landing",e.page_url=window.location.href,e.partner_id=this.$route&&this.$route.query&&this.$route.query.partner?this.$route.query.partner:null,window.mobileAnalyticsClient.recordEvent("_page.view",e,{})}},gatewayFilter:function(e){return e.filter(function(e){return"true"==e.enabled})},partnerDetailsFromConfig:function(){var e=void 0,t=void 0;if(localStorage.getItem("CallCounter")&&localStorage.setItem("CallCounter",2),(e=localStorage.getItem("altConfig")?JSON.parse(localStorage.getItem("altConfig")):void 0)&&e.promo&&e.promo.partners&&e.promo.messages)if(this.altConfigPromo=e.promo.messages,document.getElementById("email_text")&&(document.getElementById("email_text").placeholder=this.altConfigPromo.emailBoxText?this.altConfigPromo.emailBoxText:""),t=e.promo.partners,this.partnerDetails=this.gatewayFilter(t),this.partnerDetails&&0==this.partnerDetails.length)this.toggleMenuIco(!0),this.$router.push({name:"home"});else{var a=!1;for(var i in this.partnerDetails)if(this.partnerDetails[i].name==this.$route.query.partner){a=!0,this.partnerDetails=this.partnerDetails[i],localStorage.setItem("selectedGateway",JSON.stringify(this.partnerDetails));break}a||(this.toggleMenuIco(!0),this.$router.push({name:"home"}))}else{var r=this;2==localStorage.getItem("CallCounter")?(this.toggleMenuIco(!0),this.$router.push({name:"home"})):setTimeout(function(){r.partnerDetailsFromConfig(),localStorage.setItem("CallCounter",1)},5e3)}}}),created:function(){this.setSubscriptionHeader(),this.partnerDetailsFromConfig()},mounted:function(){this.setSubscriptionHeader(),this.partnerDetailsFromConfig();var e=this;setTimeout(function(){e.pageViewEvent()},3e3),window.addEventListener("orientationchange",function(){var e=document.getElementById("paytm-footer");e&&("landscape-primary"==window.screen.orientation.type?e.style.position="relative":e.style.position="absolute")},!1)},mixins:[i.a]}},77:function(e,t){e.exports=function(e,t,a,i,r){var o,n=e=e||{},s=typeof e.default;"object"!==s&&"function"!==s||(o=e,n=e.default);var l="function"==typeof n?n.options:n;t&&(l.render=t.render,l.staticRenderFns=t.staticRenderFns),i&&(l._scopeId=i);var c;if(r?(c=function(e){e=e||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext,e||"undefined"==typeof __VUE_SSR_CONTEXT__||(e=__VUE_SSR_CONTEXT__),a&&a.call(this,e),e&&e._registeredComponents&&e._registeredComponents.add(r)},l._ssrRegister=c):a&&(c=a),c){var m=l.functional,u=m?l.render:l.beforeCreate;m?l.render=function(e,t){return c.call(t),u(e,t)}:l.beforeCreate=u?[].concat(u,c):[c]}return{esModule:o,exports:n,options:l}}}});