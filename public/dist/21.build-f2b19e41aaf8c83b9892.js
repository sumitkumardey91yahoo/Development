webpackJsonp([21],{1007:function(t,i,e){t.exports={render:function(){var t=this,i=t.$createElement,o=t._self._c||i;return o("div",{staticClass:"alt-favourites"},[o("div",{staticClass:"subs-container"},[t.subscriptionNotification||t.tvodNotification||t.expiredSubscription||t.expiredTvod?o("div",[t.subscriptionNotification?o("div",{staticClass:"notification_tab",on:{click:function(i){t.redirect("settings")}}},[o("img",{staticClass:"bellNotification",attrs:{src:e(134),alt:"bellNotification"}}),t._v(" "),o("p",{staticClass:"notification_body"},[t._v("Your subscription expires in "+t._s(t.subscriptionRemainDays)+" days. Renew now.")])]):t._e(),t._v(" "),t.expiredSubscription?o("div",{staticClass:"notification_tab",on:{click:function(i){t.redirect("subscribe")}}},[o("img",{staticClass:"bellNotification",attrs:{src:e(134),alt:"bellNotification"}}),t._v(" "),o("p",{staticClass:"notification_body"},[t._v("Your subscription is over. Renew now")])]):t._e(),t._v(" "),t.expiredTvod?o("div",{staticClass:"notification_tab",on:{click:function(i){t.redirect("/rent/show/127")}}},[o("img",{staticClass:"bellNotification",attrs:{src:e(134),alt:"bellNotification"}}),t._v(" "),o("p",{staticClass:"notification_body"},[t._v("rental is already expired")])]):t._e(),t._v(" "),t._l(t.tvodArrayActive,function(i){return o("div",{directives:[{name:"show",rawName:"v-show",value:t.tvodArrayActive,expression:"tvodArrayActive"}]},[i.tvodNotification?o("div",{staticClass:"notification_tab"},[o("img",{staticClass:"bellNotification",attrs:{src:e(134),alt:"bellNotification"}}),t._v(" "),o("p",{staticClass:"notification_body"},[t._v("Content "+t._s(i.tvodTitle)+" expires in "+t._s(i.tvodDays)+" days")])]):t._e()])})],2):o("div",[o("p",{staticClass:"no_Notification"},[t._v("You have no new notifications")])])]),t._v(" "),o("popup-notification",{directives:[{name:"show",rawName:"v-show",value:t.showPopupNotification,expression:"showPopupNotification"}]}),t._v(" "),o("alt-modals")],1)},staticRenderFns:[]}},134:function(t,i,e){t.exports=e.p+"bell.svg"},35:function(t,i,e){var o=e(77)(e(586),e(1007),null,null,null);t.exports=o.exports},586:function(t,i,e){"use strict";Object.defineProperty(i,"__esModule",{value:!0});var o=e(5),s=e(1),n=e(4),a=Object.assign||function(t){for(var i=1;i<arguments.length;i++){var e=arguments[i];for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])}return t},r=function(){return e.e(47).then(e.bind(null,82))},c=function(){return e.e(57).then(e.bind(null,926))};i.default={data:function(){return{showCreateKidsPin:!1,notificationsList:void 0,altUser:void 0,subscriptionNotification:!1,tvodNotification:!1,expiredSubscription:!1,expiredTvod:!1,altMessages:void 0,subscribeDayExpire:0,todayExpire:!1,showPopupNotificationConfirm:!1,showPopupNotification:!1,tvodTitle:void 0,tvodDays:0,tvodArrayActive:[],subscriptionRemainDays:!1}},computed:a({},e.i(n.a)([])),watch:{},methods:a({},e.i(n.b)(["setHideBin"]),e.i(n.c)(["actGetOrders"]),{redirect:function(t){this.$router.push(t)},notification:function(){if(window.mobileAnalyticsClient);localStorage.getItem("notifications")&&(this.notificationsList=JSON.parse(localStorage.getItem("notifications")),this.notificationsList=this.revObject(this.notificationsList))},setNotificationHeader:function(){this.setHeaderTitle("Notifications");var t=document.getElementById("header-search-ico");t&&(t.style.display="none");var i=document.getElementById("delete-ico");i&&(i.style.display="none");var e=document.getElementById("header-close-ico-default");e&&(e.style.display="none")},stuffCommonAttributes:function(){var t={},i=localStorage.getItem("geo_location"),e=JSON.parse(localStorage.getItem("altConfig"));return i&&(i=JSON.parse(i),t=i),t.user_email=localStorage.getItem("user_email"),t.user_id=localStorage.getItem("account_id"),t.user_session=localStorage.getItem("token"),t.user_name=localStorage.getItem("user_name"),t.user_dob=localStorage.getItem("user_birthday"),t.user_gender=localStorage.getItem("user_gender"),t.app_env=e.environment.title,t},stuffMenuSelectAttributes:function(t,i){var e={};return e=this.stuffCommonAttributes(),e.page_title=t,e.section_id=i.toString(),e},stuffPageViewAttributes:function(t,i){var e={};return e=this.stuffCommonAttributes(),e.page_title=t,e.page_url=i,e},deleteAllNotification:function(){localStorage.setItem("deleteNotificationNotify","on"),localStorage.removeItem("notifications"),location.reload(),this.showPopupNotification=!1},processOrders:function(t){var i=new Object,e=t.filter(function(t){return 0==t.product.recurring});if(e&&e.length){var o=!1;i.tvod={},i.tvod.hasOrder=!1,i.tvod.expired=!0;var n=[];for(var a in e){var r=((new Date).getTime()-new Date(e[a].dates.valid_to.split("+")[0]).getTime())/864e5;r<0&&(o=!0,a,n.push(e[a]))}o&&(i.tvod.Data=n,i.tvod.hasOrder=!0,i.tvod.expired=!1)}else i.tvod=!1;var c=t.filter(function(t){return 1==t.product.recurring});if(c&&c.length){var d=!1,l=0;i.subscription={},i.subscription.hasOrder=!1,i.subscription.expired=!0;for(var a in c){var r=((new Date).getTime()-new Date(c[a].dates.valid_to.split("+")[0]).getTime())/864e5;if(r<0){d=!0,l=a;break}}d&&(i.subscription=c[l],i.subscription.hasOrder=!0,i.subscription.expired=!1)}if(i&&i.subscription&&i.subscription.hasOrder&&!i.subscription.expired&&(this.subscriptionNotification=this.tvodSvodNotification(i.subscription.dates.valid_to.split("+")[0]),this.subscriptionRemainDays=this.diffDateDay(i.subscription.dates.valid_to.split("+")[0])),i&&i.tvod&&i.tvod.hasOrder&&!i.tvod.expired){var u=void 0,f=0;for(var a in i.tvod.Data)this.tvodTitle=i.tvod.Data[a].product.titles.en,this.tvodDays=this.diffDateDay(i.tvod.Data[a].dates.valid_to.split("+")[0]),u=this.tvodSvodNotification(i.tvod.Data[a].dates.valid_to.split("+")[0]),1==u&&f++,this.tvodArrayActive.push({tvodTitle:this.tvodTitle,tvodDays:this.tvodDays,tvodNotification:u});f>0&&(this.tvodNotification=!0)}i&&i.tvod&&!i.tvod.hasOrder&&i.tvod.expired&&(this.expiredTvod=!1),i&&i.subscription&&!i.subscription.hasOrder&&i.subscription.expired&&(this.expiredSubscription=!0);var v=void 0,p=void 0;if(localStorage.getItem("user_email")&&(p=localStorage.getItem("user_email")),v={email:p,subscriptionNotification:this.subscriptionNotification,expiredSubscription:this.expiredSubscription,tvodNotification:this.tvodNotification,expiredTvod:this.expiredTvod},localStorage.setItem("notifications",JSON.stringify(v)),v=JSON.parse(localStorage.getItem("notifications")),this.subscriptionNotification=v.subscriptionNotification,this.tvodNotification=v.tvodNotification,this.expiredTvod=v.expiredTvod,this.expiredSubscription=v.expiredSubscription,this.subscriptionNotification||this.tvodNotification||this.expiredSubscription||this.expiredTvod){var g=document.getElementById("delete-ico");g&&(g.style.display="inline",g.addEventListener("click",function(){s.eventBus.$emit("togglePopupConfirmNotificationEvent",!0)}))}else{var g=document.getElementById("delete-ico");g&&(g.style.display="none")}this.toggleLoader(!1)},diffDateDay:function(t){var i=new Date,e=new Date(t),o=Math.abs(e.getTime()-i.getTime());return Math.ceil(o/864e5)},tvodSvodNotification:function(t){var i,e;return i=new Date,e=new Date(t),i.setDate(i.getUTCDate()+7),e<=i}}),created:function(){var t=this;this.setNotificationHeader(),this.toggleLoader(!0),localStorage.getItem("altMessages")&&(this.altMessages=JSON.parse(localStorage.getItem("altMessages")));var i=void 0;if(localStorage.getItem("deleteNotificationNotify")&&(i=localStorage.getItem("deleteNotificationNotify")),this.altUser=JSON.parse(localStorage.getItem("altUser")),"on"!=i)this.actGetOrders(this.altUser).then(function(i){t.processOrders(i.orders)});else{var e=document.getElementById("delete-ico");e&&(e.style.display="none"),this.toggleLoader(!1)}s.eventBus.$on("togglePopupConfirmNotificationEvent",function(i){t.showPopupNotification=i}),s.eventBus.$on("togglePopupDeleteNotification",function(i){i?t.deleteAllNotification():t.showPopupNotification=i}),s.eventBus.$on("toggleCreateKidsPinEvent",function(i){t.showCreateKidsPin=i,i||t.$router.push({name:"home"})})},beforeDestroy:function(){s.eventBus.$off("togglePopupConfirmNotificationEvent"),s.eventBus.$off("togglePopupDeleteNotification"),s.eventBus.$off("headerHideNotificationNumber")},components:{"alt-modals":r,"popup-notification":c},mixins:[o.a]}},77:function(t,i){t.exports=function(t,i,e,o,s){var n,a=t=t||{},r=typeof t.default;"object"!==r&&"function"!==r||(n=t,a=t.default);var c="function"==typeof a?a.options:a;i&&(c.render=i.render,c.staticRenderFns=i.staticRenderFns),o&&(c._scopeId=o);var d;if(s?(d=function(t){t=t||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext,t||"undefined"==typeof __VUE_SSR_CONTEXT__||(t=__VUE_SSR_CONTEXT__),e&&e.call(this,t),t&&t._registeredComponents&&t._registeredComponents.add(s)},c._ssrRegister=d):e&&(d=e),d){var l=c.functional,u=l?c.render:c.beforeCreate;l?c.render=function(t,i){return d.call(i),u(t,i)}:c.beforeCreate=u?[].concat(u,d):[d]}return{esModule:n,exports:a,options:c}}}});